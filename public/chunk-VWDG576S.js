import{$ as Ue,$a,$b as pd,A as ds,Aa as ce,Ab as De,Ac as X_,B as tn,Ba as co,Bb as Qn,Bc as Z_,C as km,Ca as Ne,Cb as fn,Cc as yd,D as sd,Da as b_,Db as at,Dc as ey,E as Rm,Ea as dd,Eb as ct,Ec as wd,F as ad,Fa as v_,Fb as M_,G as d_,Ga as Cn,Gb as N_,H as nn,Ha as mr,Hb as hd,Hc as ty,I as lr,Ia as Ba,Ib as ee,Ic as ny,J as dr,Ja as ms,Jb as fr,K as Dm,Ka as fs,Kb as lt,Kc as Hm,L as Pm,La as __,Lb as F_,Lc as iy,M as xn,Ma as y_,Mb as L_,Mc as ry,N as u_,Na as w_,Nb as V_,O as Om,Oa as I_,Ob as cn,P as ur,Pa as E_,Pb as dt,Q as hr,Qa as x_,Qb as U_,R as Mm,Ra as T_,Rb as jm,S as h_,Sa as sn,Sb as Bm,T as Nm,Ta as lo,Tb as j_,U as m_,Ua as A_,Ub as B_,V as f_,Va as za,Vb as zm,W as cd,Wa as G,Wb as gs,X as Va,Xa as F,Xb as z_,Y as rn,Ya as ud,Yb as md,Z as Tn,Zb as fd,_ as Ge,_a as C_,_b as $m,a as B,aa as us,ab as S_,ac as gd,b as Me,ba as W,bc as bd,ca as he,cb as ps,d as $A,da as p_,db as k_,dc as bi,e as ls,ea as J,eb as an,ec as $_,f as cr,fa as Fm,fb as Sn,fc as q_,g as x,ga as $,gb as R_,gc as Ut,h as oo,ha as H,hb as Vm,hc as vi,i as Im,ia as nt,ib as ye,ic as _i,j as Wt,ja as Lm,jb as D_,jc as H_,k as Em,ka as Ua,kb as Um,kc as bs,l as xm,la as Re,lb as kt,lc as G_,m as He,ma as me,mb as le,mc as W_,n as Kt,na as pe,nb as Ve,nc as ke,o as a_,oa as on,ob as uo,oc as K_,p as c_,pa as g_,pb as it,pc as Ha,q as Kn,qa as ao,qb as U,qc as Q_,r as Tm,ra as mn,rb as V,rc as J_,s as Am,sa as An,sb as Ie,sc as Ga,t as Cm,ta as Ct,tb as P_,tc as vd,u as _t,ua as St,ub as O_,uc as pr,v as ne,va as hs,vb as Vt,vc as gr,w as so,wa as ja,wb as qa,wc as _d,x as Sm,xa as qt,xb as ge,xc as qm,y as l_,ya as ld,yb as Se,yc as Y_,z as ie,za as Lt,zb as Ht,zc as kn}from"./chunk-MHOY6LLC.js";var vo=$A((ei,fp)=>{"use strict";(function(n,e){typeof ei=="object"&&typeof fp<"u"?fp.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(ei,function(){"use strict";function n(l,u,p){if(typeof l=="function"?l===u:l.has(u))return arguments.length<3?u:p;throw new TypeError("Private element is not present on this object")}function e(l,u){if(u.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(l,u){return l.get(n(l,u))}function i(l,u,p){e(l,u),u.set(l,p)}function r(l,u,p){return l.set(n(l,u),p),p}let o=100,s={},c=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},d=l=>new Promise(u=>{if(!l)return u();let p=window.scrollX,_=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{c(),u()},o),window.scrollTo(p,_)}),m="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,u)=>(l[u]=m+u,l),{}),R=["success","warning","info","question","error"].reduce((l,u)=>(l[u]=m+u,l),{}),M="SweetAlert2:",L=l=>l.charAt(0).toUpperCase()+l.slice(1),D=l=>{console.warn(`${M} ${typeof l=="object"?l.join(" "):l}`)},z=l=>{console.error(`${M} ${l}`)},te=[],X=l=>{te.includes(l)||(te.push(l),D(l))},Z=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;X(`"${l}" is deprecated and will be removed in the next major release.${u?` Use "${u}" instead.`:""}`)},Ce=l=>typeof l=="function"?l():l,ae=l=>l&&typeof l.toPromise=="function",A=l=>ae(l)?l.toPromise():Promise.resolve(l),y=l=>l&&Promise.resolve(l)===l,w=()=>document.body.querySelector(`.${g.container}`),T=l=>{let u=w();return u?u.querySelector(l):null},C=l=>T(`.${l}`),S=()=>C(g.popup),I=()=>C(g.icon),bn=()=>C(g["icon-content"]),zi=()=>C(g.title),fa=()=>C(g["html-container"]),$i=()=>C(g.image),hi=()=>C(g["progress-steps"]),qi=()=>C(g["validation-message"]),Yt=()=>T(`.${g.actions} .${g.confirm}`),Hi=()=>T(`.${g.actions} .${g.cancel}`),Ot=()=>T(`.${g.actions} .${g.deny}`),gt=()=>C(g["input-label"]),Gi=()=>T(`.${g.loader}`),vn=()=>C(g.actions),El=()=>C(g.footer),Un=()=>C(g["timer-progress-bar"]),pa=()=>C(g.close),nm=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Wi=()=>{let l=S();if(!l)return[];let u=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),p=Array.from(u).sort((Q,xe)=>{let ze=parseInt(Q.getAttribute("tabindex")||"0"),Qe=parseInt(xe.getAttribute("tabindex")||"0");return ze>Qe?1:ze<Qe?-1:0}),_=l.querySelectorAll(nm),O=Array.from(_).filter(Q=>Q.getAttribute("tabindex")!=="-1");return[...new Set(p.concat(O))].filter(Q=>Tt(Q))},Ki=()=>Xt(document.body,g.shown)&&!Xt(document.body,g["toast-shown"])&&!Xt(document.body,g["no-backdrop"]),Qi=()=>{let l=S();return l?Xt(l,g.toast):!1},ga=()=>{let l=S();return l?l.hasAttribute("data-loading"):!1},xt=(l,u)=>{if(l.textContent="",u){let _=new DOMParser().parseFromString(u,"text/html"),O=_.querySelector("head");O&&Array.from(O.childNodes).forEach(xe=>{l.appendChild(xe)});let Q=_.querySelector("body");Q&&Array.from(Q.childNodes).forEach(xe=>{xe instanceof HTMLVideoElement||xe instanceof HTMLAudioElement?l.appendChild(xe.cloneNode(!0)):l.appendChild(xe)})}},Xt=(l,u)=>{if(!u)return!1;let p=u.split(/\s+/);for(let _=0;_<p.length;_++)if(!l.classList.contains(p[_]))return!1;return!0},xl=(l,u)=>{Array.from(l.classList).forEach(p=>{!Object.values(g).includes(p)&&!Object.values(R).includes(p)&&!Object.values(u.showClass||{}).includes(p)&&l.classList.remove(p)})},Mt=(l,u,p)=>{if(xl(l,u),!u.customClass)return;let _=u.customClass[p];if(_){if(typeof _!="string"&&!_.forEach){D(`Invalid type of customClass.${p}! Expected string or iterable object, got "${typeof _}"`);return}be(l,_)}},zo=(l,u)=>{if(!u)return null;switch(u){case"select":case"textarea":case"file":return l.querySelector(`.${g.popup} > .${g[u]}`);case"checkbox":return l.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return l.querySelector(`.${g.popup} > .${g.radio} input:checked`)||l.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return l.querySelector(`.${g.popup} > .${g.range} input`);default:return l.querySelector(`.${g.popup} > .${g.input}`)}},ba=l=>{if(l.focus(),l.type!=="file"){let u=l.value;l.value="",l.value=u}},va=(l,u,p)=>{!l||!u||(typeof u=="string"&&(u=u.split(/\s+/).filter(Boolean)),u.forEach(_=>{Array.isArray(l)?l.forEach(O=>{p?O.classList.add(_):O.classList.remove(_)}):p?l.classList.add(_):l.classList.remove(_)}))},be=(l,u)=>{va(l,u,!0)},Zt=(l,u)=>{va(l,u,!1)},jn=(l,u)=>{let p=Array.from(l.children);for(let _=0;_<p.length;_++){let O=p[_];if(O instanceof HTMLElement&&Xt(O,u))return O}},_n=(l,u,p)=>{p===`${parseInt(p)}`&&(p=parseInt(p)),p||parseInt(p)===0?l.style.setProperty(u,typeof p=="number"?`${p}px`:p):l.style.removeProperty(u)},Ye=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=u)},rt=l=>{l&&(l.style.display="none")},ot=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{Bn(l,l.innerHTML,u)}).observe(l,{childList:!0,subtree:!0})},bt=(l,u,p,_)=>{let O=l.querySelector(u);O&&O.style.setProperty(p,_)},Bn=function(l,u){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";u?Ye(l,p):rt(l)},Tt=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),Tl=()=>!Tt(Yt())&&!Tt(Ot())&&!Tt(Hi()),Al=l=>l.scrollHeight>l.clientHeight,Ji=l=>{let u=window.getComputedStyle(l),p=parseFloat(u.getPropertyValue("animation-duration")||"0"),_=parseFloat(u.getPropertyValue("transition-duration")||"0");return p>0||_>0},$o=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=Un();p&&Tt(p)&&(u&&(p.style.transition="none",p.style.width="100%"),setTimeout(()=>{p.style.transition=`width ${l/1e3}s linear`,p.style.width="0%"},10))},Cl=()=>{let l=Un();if(!l)return;let u=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let p=parseInt(window.getComputedStyle(l).width),_=u/p*100;l.style.width=`${_}%`},qo=()=>typeof window>"u"||typeof document>"u",im=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),rm=()=>{let l=w();return l?(l.remove(),Zt([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},yn=()=>{s.currentInstance.resetValidationMessage()},Sl=()=>{let l=S(),u=jn(l,g.input),p=jn(l,g.file),_=l.querySelector(`.${g.range} input`),O=l.querySelector(`.${g.range} output`),Q=jn(l,g.select),xe=l.querySelector(`.${g.checkbox} input`),ze=jn(l,g.textarea);u.oninput=yn,p.onchange=yn,Q.onchange=yn,xe.onchange=yn,ze.oninput=yn,_.oninput=()=>{yn(),O.value=_.value},_.onchange=()=>{yn(),O.value=_.value}},kl=l=>typeof l=="string"?document.querySelector(l):l,$r=l=>{let u=S();u.setAttribute("role",l.toast?"alert":"dialog"),u.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||u.setAttribute("aria-modal","true")},_a=l=>{window.getComputedStyle(l).direction==="rtl"&&be(w(),g.rtl)},ya=l=>{let u=rm();if(qo()){z("SweetAlert2 requires document to initialize");return}let p=document.createElement("div");p.className=g.container,u&&be(p,g["no-transition"]),xt(p,im);let _=kl(l.target);_.appendChild(p),$r(l),_a(_),Sl()},wn=(l,u)=>{l instanceof HTMLElement?u.appendChild(l):typeof l=="object"?Rl(l,u):l&&xt(u,l)},Rl=(l,u)=>{l.jquery?Ho(u,l):xt(u,l.toString())},Ho=(l,u)=>{if(l.textContent="",0 in u)for(let p=0;p in u;p++)l.appendChild(u[p].cloneNode(!0));else l.appendChild(u.cloneNode(!0))},zn=(()=>{if(qo())return!1;let l=document.createElement("div");return typeof l.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof l.style.animation<"u"?"animationend":!1})(),qr=(l,u)=>{let p=vn(),_=Gi();!p||!_||(!u.showConfirmButton&&!u.showDenyButton&&!u.showCancelButton?rt(p):Ye(p),Mt(p,u,"actions"),Dl(p,_,u),xt(_,u.loaderHtml||""),Mt(_,u,"loader"))};function Dl(l,u,p){let _=Yt(),O=Ot(),Q=Hi();!_||!O||!Q||(Go(_,"confirm",p),Go(O,"deny",p),Go(Q,"cancel",p),At(_,O,Q,p),p.reverseButtons&&(p.toast?(l.insertBefore(Q,_),l.insertBefore(O,_)):(l.insertBefore(Q,u),l.insertBefore(O,u),l.insertBefore(_,u))))}function At(l,u,p,_){if(!_.buttonsStyling){Zt([l,u,p],g.styled);return}be([l,u,p],g.styled),_.confirmButtonColor&&(l.style.backgroundColor=_.confirmButtonColor,be(l,g["default-outline"])),_.denyButtonColor&&(u.style.backgroundColor=_.denyButtonColor,be(u,g["default-outline"])),_.cancelButtonColor&&(p.style.backgroundColor=_.cancelButtonColor,be(p,g["default-outline"]))}function Go(l,u,p){let _=L(u);Bn(l,p[`show${_}Button`],"inline-block"),xt(l,p[`${u}ButtonText`]||""),l.setAttribute("aria-label",p[`${u}ButtonAriaLabel`]||""),l.className=g[u],Mt(l,p,`${u}Button`)}let Hr=(l,u)=>{let p=pa();p&&(xt(p,u.closeButtonHtml||""),Mt(p,u,"closeButton"),Bn(p,u.showCloseButton),p.setAttribute("aria-label",u.closeButtonAriaLabel||""))},Gr=(l,u)=>{let p=w();p&&(om(p,u.backdrop),sm(p,u.position),Yi(p,u.grow),Mt(p,u,"container"))};function om(l,u){typeof u=="string"?l.style.background=u:u||be([document.documentElement,document.body],g["no-backdrop"])}function sm(l,u){u&&(u in g?be(l,g[u]):(D('The "position" parameter is not valid, defaulting to "center"'),be(l,g.center)))}function Yi(l,u){u&&be(l,g[`grow-${u}`])}var Fe={innerParams:new WeakMap,domCache:new WeakMap};let am=["input","file","range","select","radio","checkbox","textarea"],Wo=(l,u)=>{let p=S();if(!p)return;let _=Fe.innerParams.get(l),O=!_||u.input!==_.input;am.forEach(Q=>{let xe=jn(p,g[Q]);xe&&(Ko(Q,u.inputAttributes),xe.className=g[Q],O&&rt(xe))}),u.input&&(O&&Pl(u),$n(u))},Pl=l=>{if(!l.input)return;if(!$e[l.input]){z(`Unexpected type of input! Expected ${Object.keys($e).join(" | ")}, got "${l.input}"`);return}let u=Jo(l.input);if(!u)return;let p=$e[l.input](u,l);Ye(u),l.inputAutoFocus&&setTimeout(()=>{ba(p)})},wa=l=>{for(let u=0;u<l.attributes.length;u++){let p=l.attributes[u].name;["id","type","value","style"].includes(p)||l.removeAttribute(p)}},Ko=(l,u)=>{let p=S();if(!p)return;let _=zo(p,l);if(_){wa(_);for(let O in u)_.setAttribute(O,u[O])}},$n=l=>{if(!l.input)return;let u=Jo(l.input);u&&Mt(u,l,"input")},Qo=(l,u)=>{!l.placeholder&&u.inputPlaceholder&&(l.placeholder=u.inputPlaceholder)},Xi=(l,u,p)=>{if(p.inputLabel){let _=document.createElement("label"),O=g["input-label"];_.setAttribute("for",l.id),_.className=O,typeof p.customClass=="object"&&be(_,p.customClass.inputLabel),_.innerText=p.inputLabel,u.insertAdjacentElement("beforebegin",_)}},Jo=l=>{let u=S();if(u)return jn(u,g[l]||g.input)},Zi=(l,u)=>{["string","number"].includes(typeof u)?l.value=`${u}`:y(u)||D(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof u}"`)},$e={};$e.text=$e.email=$e.password=$e.number=$e.tel=$e.url=$e.search=$e.date=$e["datetime-local"]=$e.time=$e.week=$e.month=(l,u)=>(Zi(l,u.inputValue),Xi(l,l,u),Qo(l,u),l.type=u.input,l),$e.file=(l,u)=>(Xi(l,l,u),Qo(l,u),l),$e.range=(l,u)=>{let p=l.querySelector("input"),_=l.querySelector("output");return Zi(p,u.inputValue),p.type=u.input,Zi(_,u.inputValue),Xi(p,l,u),l},$e.select=(l,u)=>{if(l.textContent="",u.inputPlaceholder){let p=document.createElement("option");xt(p,u.inputPlaceholder),p.value="",p.disabled=!0,p.selected=!0,l.appendChild(p)}return Xi(l,l,u),l},$e.radio=l=>(l.textContent="",l),$e.checkbox=(l,u)=>{let p=zo(S(),"checkbox");p.value="1",p.checked=!!u.inputValue;let _=l.querySelector("span");return xt(_,u.inputPlaceholder||u.inputLabel),p},$e.textarea=(l,u)=>{Zi(l,u.inputValue),Qo(l,u),Xi(l,l,u);let p=_=>parseInt(window.getComputedStyle(_).marginLeft)+parseInt(window.getComputedStyle(_).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let _=parseInt(window.getComputedStyle(S()).width),O=()=>{if(!document.body.contains(l))return;let Q=l.offsetWidth+p(l);Q>_?S().style.width=`${Q}px`:_n(S(),"width",u.width)};new MutationObserver(O).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let Ol=(l,u)=>{let p=fa();p&&(ot(p),Mt(p,u,"htmlContainer"),u.html?(wn(u.html,p),Ye(p,"block")):u.text?(p.textContent=u.text,Ye(p,"block")):rt(p),Wo(l,u))},cm=(l,u)=>{let p=El();p&&(ot(p),Bn(p,u.footer,"block"),u.footer&&wn(u.footer,p),Mt(p,u,"footer"))},Yo=(l,u)=>{let p=Fe.innerParams.get(l),_=I();if(_){if(p&&u.icon===p.icon){Xo(_,u),Ia(_,u);return}if(!u.icon&&!u.iconHtml){rt(_);return}if(u.icon&&Object.keys(R).indexOf(u.icon)===-1){z(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${u.icon}"`),rt(_);return}Ye(_),Xo(_,u),Ia(_,u),be(_,u.showClass&&u.showClass.icon)}},Ia=(l,u)=>{for(let[p,_]of Object.entries(R))u.icon!==p&&Zt(l,_);be(l,u.icon&&R[u.icon]),lm(l,u),Ea(),Mt(l,u,"icon")},Ea=()=>{let l=S();if(!l)return;let u=window.getComputedStyle(l).getPropertyValue("background-color"),p=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let _=0;_<p.length;_++)p[_].style.backgroundColor=u},Wr=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,mi=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Xo=(l,u)=>{if(!u.icon&&!u.iconHtml)return;let p=l.innerHTML,_="";u.iconHtml?_=xa(u.iconHtml):u.icon==="success"?(_=Wr,p=p.replace(/ style=".*?"/g,"")):u.icon==="error"?_=mi:u.icon&&(_=xa({question:"?",warning:"!",info:"i"}[u.icon])),p.trim()!==_.trim()&&xt(l,_)},lm=(l,u)=>{if(u.iconColor){l.style.color=u.iconColor,l.style.borderColor=u.iconColor;for(let p of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])bt(l,p,"background-color",u.iconColor);bt(l,".swal2-success-ring","border-color",u.iconColor)}},xa=l=>`<div class="${g["icon-content"]}">${l}</div>`,Ml=(l,u)=>{let p=$i();if(p){if(!u.imageUrl){rt(p);return}Ye(p,""),p.setAttribute("src",u.imageUrl),p.setAttribute("alt",u.imageAlt||""),_n(p,"width",u.imageWidth),_n(p,"height",u.imageHeight),p.className=g.image,Mt(p,u,"image")}},Nl=(l,u)=>{let p=w(),_=S();if(!(!p||!_)){if(u.toast){_n(p,"width",u.width),_.style.width="100%";let O=Gi();O&&_.insertBefore(O,I())}else _n(_,"width",u.width);_n(_,"padding",u.padding),u.color&&(_.style.color=u.color),u.background&&(_.style.background=u.background),rt(qi()),Ta(_,u)}},Ta=(l,u)=>{let p=u.showClass||{};l.className=`${g.popup} ${Tt(l)?p.popup:""}`,u.toast?(be([document.documentElement,document.body],g["toast-shown"]),be(l,g.toast)):be(l,g.modal),Mt(l,u,"popup"),typeof u.customClass=="string"&&be(l,u.customClass),u.icon&&be(l,g[`icon-${u.icon}`])},Aa=(l,u)=>{let p=hi();if(!p)return;let{progressSteps:_,currentProgressStep:O}=u;if(!_||_.length===0||O===void 0){rt(p);return}Ye(p),p.textContent="",O>=_.length&&D("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),_.forEach((Q,xe)=>{let ze=Fl(Q);if(p.appendChild(ze),xe===O&&be(ze,g["active-progress-step"]),xe!==_.length-1){let Qe=Ll(u);p.appendChild(Qe)}})},Fl=l=>{let u=document.createElement("li");return be(u,g["progress-step"]),xt(u,l),u},Ll=l=>{let u=document.createElement("li");return be(u,g["progress-step-line"]),l.progressStepsDistance&&_n(u,"width",l.progressStepsDistance),u},dm=(l,u)=>{let p=zi();p&&(ot(p),Bn(p,u.title||u.titleText,"block"),u.title&&wn(u.title,p),u.titleText&&(p.innerText=u.titleText),Mt(p,u,"title"))},Vl=(l,u)=>{Nl(l,u),Gr(l,u),Aa(l,u),Yo(l,u),Ml(l,u),dm(l,u),Hr(l,u),Ol(l,u),qr(l,u),cm(l,u);let p=S();typeof u.didRender=="function"&&p&&u.didRender(p)},Ul=()=>Tt(S()),Ca=()=>{var l;return(l=Yt())===null||l===void 0?void 0:l.click()},um=()=>{var l;return(l=Ot())===null||l===void 0?void 0:l.click()},fi=()=>{var l;return(l=Hi())===null||l===void 0?void 0:l.click()},Nt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Kr=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},Zo=(l,u,p)=>{Kr(l),u.toast||(l.keydownHandler=_=>Qr(u,_,p),l.keydownTarget=u.keydownListenerCapture?window:S(),l.keydownListenerCapture=u.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},es=(l,u)=>{var p;let _=Wi();if(_.length){l=l+u,l===_.length?l=0:l===-1&&(l=_.length-1),_[l].focus();return}(p=S())===null||p===void 0||p.focus()},Le=["ArrowRight","ArrowDown"],ts=["ArrowLeft","ArrowUp"],Qr=(l,u,p)=>{l&&(u.isComposing||u.keyCode===229||(l.stopKeydownPropagation&&u.stopPropagation(),u.key==="Enter"?Jr(u,l):u.key==="Tab"?hm(u):[...Le,...ts].includes(u.key)?jl(u.key):u.key==="Escape"&&mm(u,l,p)))},Jr=(l,u)=>{if(!Ce(u.allowEnterKey))return;let p=zo(S(),u.input);if(l.target&&p&&l.target instanceof HTMLElement&&l.target.outerHTML===p.outerHTML){if(["textarea","file"].includes(u.input))return;Ca(),l.preventDefault()}},hm=l=>{let u=l.target,p=Wi(),_=-1;for(let O=0;O<p.length;O++)if(u===p[O]){_=O;break}l.shiftKey?es(_,-1):es(_,1),l.stopPropagation(),l.preventDefault()},jl=l=>{let u=vn(),p=Yt(),_=Ot(),O=Hi();if(!u||!p||!_||!O)return;let Q=[p,_,O];if(document.activeElement instanceof HTMLElement&&!Q.includes(document.activeElement))return;let xe=Le.includes(l)?"nextElementSibling":"previousElementSibling",ze=document.activeElement;if(ze){for(let Qe=0;Qe<u.children.length;Qe++){if(ze=ze[xe],!ze)return;if(ze instanceof HTMLButtonElement&&Tt(ze))break}ze instanceof HTMLButtonElement&&ze.focus()}},mm=(l,u,p)=>{Ce(u.allowEscapeKey)&&(l.preventDefault(),p(Nt.esc))};var er={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let fm=()=>{let l=w();Array.from(document.body.children).forEach(p=>{p.contains(l)||(p.hasAttribute("aria-hidden")&&p.setAttribute("data-previous-aria-hidden",p.getAttribute("aria-hidden")||""),p.setAttribute("aria-hidden","true"))})},Bl=()=>{Array.from(document.body.children).forEach(u=>{u.hasAttribute("data-previous-aria-hidden")?(u.setAttribute("aria-hidden",u.getAttribute("data-previous-aria-hidden")||""),u.removeAttribute("data-previous-aria-hidden")):u.removeAttribute("aria-hidden")})},tr=typeof window<"u"&&!!window.GestureEvent,qn=()=>{if(tr&&!Xt(document.body,g.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,be(document.body,g.iosfix),zl()}},zl=()=>{let l=w();if(!l)return;let u;l.ontouchstart=p=>{u=$l(p)},l.ontouchmove=p=>{u&&(p.preventDefault(),p.stopPropagation())}},$l=l=>{let u=l.target,p=w(),_=fa();return!p||!_||ql(l)||nr(l)?!1:u===p||!Al(p)&&u instanceof HTMLElement&&u.tagName!=="INPUT"&&u.tagName!=="TEXTAREA"&&!(Al(_)&&_.contains(u))},ql=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",nr=l=>l.touches&&l.touches.length>1,pm=()=>{if(Xt(document.body,g.iosfix)){let l=parseInt(document.body.style.top,10);Zt(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},gm=()=>{let l=document.createElement("div");l.className=g["scrollbar-measure"],document.body.appendChild(l);let u=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),u},ir=null,Hn=l=>{ir===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(ir=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ir+gm()}px`)},bm=()=>{ir!==null&&(document.body.style.paddingRight=`${ir}px`,ir=null)};function Hl(l,u,p,_){Qi()?Kl(l,_):(d(p).then(()=>Kl(l,_)),Kr(s)),tr?(u.setAttribute("style","display:none !important"),u.removeAttribute("class"),u.innerHTML=""):u.remove(),Ki()&&(bm(),pm(),Bl()),Yr()}function Yr(){Zt([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function en(l){l=Wl(l);let u=er.swalPromiseResolve.get(this),p=Gl(this);this.isAwaitingPromise?l.isDismissed||(In(this),u(l)):p&&u(l)}let Gl=l=>{let u=S();if(!u)return!1;let p=Fe.innerParams.get(l);if(!p||Xt(u,p.hideClass.popup))return!1;Zt(u,p.showClass.popup),be(u,p.hideClass.popup);let _=w();return Zt(_,p.showClass.backdrop),be(_,p.hideClass.backdrop),Sa(l,u,p),!0};function rr(l){let u=er.swalPromiseReject.get(this);In(this),u&&u(l)}let In=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,Fe.innerParams.get(l)||l._destroy())},Wl=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),Sa=(l,u,p)=>{let _=w(),O=zn&&Ji(u);typeof p.willClose=="function"&&p.willClose(u),O?qe(l,u,_,p.returnFocus,p.didClose):Hl(l,_,p.returnFocus,p.didClose)},qe=(l,u,p,_,O)=>{zn&&(s.swalCloseEventFinishedCallback=Hl.bind(null,l,p,_,O),u.addEventListener(zn,function(Q){Q.target===u&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback)}))},Kl=(l,u)=>{setTimeout(()=>{typeof u=="function"&&u.bind(l.params)(),l._destroy&&l._destroy()})},or=l=>{let u=S();if(u||new od,u=S(),!u)return;let p=Gi();Qi()?rt(I()):Ql(u,l),Ye(p),u.setAttribute("data-loading","true"),u.setAttribute("aria-busy","true"),u.focus()},Ql=(l,u)=>{let p=vn(),_=Gi();!p||!_||(!u&&Tt(Yt())&&(u=Yt()),Ye(p),u&&(rt(u),_.setAttribute("data-button-to-replace",u.className),p.insertBefore(_,u)),be([l,p],g.loading))},Jl=(l,u)=>{u.input==="select"||u.input==="radio"?Zl(l,u):["text","email","number","tel","textarea"].some(p=>p===u.input)&&(ae(u.inputValue)||y(u.inputValue))&&(or(Yt()),vm(l,u))},Yl=(l,u)=>{let p=l.getInput();if(!p)return null;switch(u.input){case"checkbox":return ns(p);case"radio":return Xl(p);case"file":return En(p);default:return u.inputAutoTrim?p.value.trim():p.value}},ns=l=>l.checked?1:0,Xl=l=>l.checked?l.value:null,En=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,Zl=(l,u)=>{let p=S();if(!p)return;let _=O=>{u.input==="select"?Xr(p,sr(O),u):u.input==="radio"&&ed(p,sr(O),u)};ae(u.inputOptions)||y(u.inputOptions)?(or(Yt()),A(u.inputOptions).then(O=>{l.hideLoading(),_(O)})):typeof u.inputOptions=="object"?_(u.inputOptions):z(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof u.inputOptions}`)},vm=(l,u)=>{let p=l.getInput();p&&(rt(p),A(u.inputValue).then(_=>{p.value=u.input==="number"?`${parseFloat(_)||0}`:`${_}`,Ye(p),p.focus(),l.hideLoading()}).catch(_=>{z(`Error in inputValue promise: ${_}`),p.value="",Ye(p),p.focus(),l.hideLoading()}))};function Xr(l,u,p){let _=jn(l,g.select);if(!_)return;let O=(Q,xe,ze)=>{let Qe=document.createElement("option");Qe.value=ze,xt(Qe,xe),Qe.selected=Zr(ze,p.inputValue),Q.appendChild(Qe)};u.forEach(Q=>{let xe=Q[0],ze=Q[1];if(Array.isArray(ze)){let Qe=document.createElement("optgroup");Qe.label=xe,Qe.disabled=!1,_.appendChild(Qe),ze.forEach(cs=>O(Qe,cs[1],cs[0]))}else O(_,ze,xe)}),_.focus()}function ed(l,u,p){let _=jn(l,g.radio);if(!_)return;u.forEach(Q=>{let xe=Q[0],ze=Q[1],Qe=document.createElement("input"),cs=document.createElement("label");Qe.type="radio",Qe.name=g.radio,Qe.value=xe,Zr(xe,p.inputValue)&&(Qe.checked=!0);let wm=document.createElement("span");xt(wm,ze),wm.className=g.label,cs.appendChild(Qe),cs.appendChild(wm),_.appendChild(cs)});let O=_.querySelectorAll("input");O.length&&O[0].focus()}let sr=l=>{let u=[];return l instanceof Map?l.forEach((p,_)=>{let O=p;typeof O=="object"&&(O=sr(O)),u.push([_,O])}):Object.keys(l).forEach(p=>{let _=l[p];typeof _=="object"&&(_=sr(_)),u.push([p,_])}),u},Zr=(l,u)=>!!u&&u.toString()===l.toString(),td=l=>{let u=Fe.innerParams.get(l);l.disableButtons(),u.input?ka(l,"confirm"):to(l,!0)},is=l=>{let u=Fe.innerParams.get(l);l.disableButtons(),u.returnInputValueOnDeny?ka(l,"deny"):rs(l,!1)},_m=(l,u)=>{l.disableButtons(),u(Nt.cancel)},ka=(l,u)=>{let p=Fe.innerParams.get(l);if(!p.input){z(`The "input" parameter is needed to be set when using returnInputValueOn${L(u)}`);return}let _=l.getInput(),O=Yl(l,p);p.inputValidator?eo(l,O,u):_&&!_.checkValidity()?(l.enableButtons(),l.showValidationMessage(p.validationMessage||_.validationMessage)):u==="deny"?rs(l,O):to(l,O)},eo=(l,u,p)=>{let _=Fe.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>A(_.inputValidator(u,_.validationMessage))).then(Q=>{l.enableButtons(),l.enableInput(),Q?l.showValidationMessage(Q):p==="deny"?rs(l,u):to(l,u)})},rs=(l,u)=>{let p=Fe.innerParams.get(l||void 0);p.showLoaderOnDeny&&or(Ot()),p.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>A(p.preDeny(u,p.validationMessage))).then(O=>{O===!1?(l.hideLoading(),In(l)):l.close({isDenied:!0,value:typeof O>"u"?u:O})}).catch(O=>os(l||void 0,O))):l.close({isDenied:!0,value:u})},Ra=(l,u)=>{l.close({isConfirmed:!0,value:u})},os=(l,u)=>{l.rejectPromise(u)},to=(l,u)=>{let p=Fe.innerParams.get(l||void 0);p.showLoaderOnConfirm&&or(),p.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>A(p.preConfirm(u,p.validationMessage))).then(O=>{Tt(qi())||O===!1?(l.hideLoading(),In(l)):Ra(l,typeof O>"u"?u:O)}).catch(O=>os(l||void 0,O))):Ra(l,u)};function no(){let l=Fe.innerParams.get(this);if(!l)return;let u=Fe.domCache.get(this);rt(u.loader),Qi()?l.icon&&Ye(I()):ss(u),Zt([u.popup,u.actions],g.loading),u.popup.removeAttribute("aria-busy"),u.popup.removeAttribute("data-loading"),u.confirmButton.disabled=!1,u.denyButton.disabled=!1,u.cancelButton.disabled=!1}let ss=l=>{let u=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));u.length?Ye(u[0],"inline-block"):Tl()&&rt(l.actions)};function Da(){let l=Fe.innerParams.get(this),u=Fe.domCache.get(this);return u?zo(u.popup,l.input):null}function Pa(l,u,p){let _=Fe.domCache.get(l);u.forEach(O=>{_[O].disabled=p})}function Gn(l,u){let p=S();if(!(!p||!l))if(l.type==="radio"){let _=p.querySelectorAll(`[name="${g.radio}"]`);for(let O=0;O<_.length;O++)_[O].disabled=u}else l.disabled=u}function Oa(){Pa(this,["confirmButton","denyButton","cancelButton"],!1)}function Ma(){Pa(this,["confirmButton","denyButton","cancelButton"],!0)}function Na(){Gn(this.getInput(),!1)}function Fa(){Gn(this.getInput(),!0)}function io(l){let u=Fe.domCache.get(this),p=Fe.innerParams.get(this);xt(u.validationMessage,l),u.validationMessage.className=g["validation-message"],p.customClass&&p.customClass.validationMessage&&be(u.validationMessage,p.customClass.validationMessage),Ye(u.validationMessage);let _=this.getInput();_&&(_.setAttribute("aria-invalid","true"),_.setAttribute("aria-describedby",g["validation-message"]),ba(_),be(_,g.inputerror))}function Ft(){let l=Fe.domCache.get(this);l.validationMessage&&rt(l.validationMessage);let u=this.getInput();u&&(u.removeAttribute("aria-invalid"),u.removeAttribute("aria-describedby"),Zt(u,g.inputerror))}let pi={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},nd=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ar={allowEnterKey:void 0},a=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],h=l=>Object.prototype.hasOwnProperty.call(pi,l),f=l=>nd.indexOf(l)!==-1,v=l=>ar[l],k=l=>{h(l)||D(`Unknown parameter "${l}"`)},P=l=>{a.includes(l)&&D(`The parameter "${l}" is incompatible with toasts`)},q=l=>{let u=v(l);u&&Z(l,u)},Oe=l=>{l.backdrop===!1&&l.allowOutsideClick&&D('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let u in l)k(u),l.toast&&P(u),q(u)};function st(l){let u=S(),p=Fe.innerParams.get(this);if(!u||Xt(u,p.hideClass.popup)){D("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let _=we(l),O=Object.assign({},p,_);Vl(this,O),Fe.innerParams.set(this,O),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let we=l=>{let u={};return Object.keys(l).forEach(p=>{f(p)?u[p]=l[p]:D(`Invalid parameter to update: ${p}`)}),u};function pt(){let l=Fe.domCache.get(this),u=Fe.innerParams.get(this);if(!u){gi(this);return}l.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof u.didDestroy=="function"&&u.didDestroy(),vt(this)}let vt=l=>{gi(l),delete l.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},gi=l=>{l.isAwaitingPromise?($t(Fe,l),l.isAwaitingPromise=!0):($t(er,l),$t(Fe,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},$t=(l,u)=>{for(let p in l)l[p].delete(u)};var as=Object.freeze({__proto__:null,_destroy:pt,close:en,closeModal:en,closePopup:en,closeToast:en,disableButtons:Ma,disableInput:Fa,disableLoading:no,enableButtons:Oa,enableInput:Na,getInput:Da,handleAwaitingPromise:In,hideLoading:no,rejectPromise:rr,resetValidationMessage:Ft,showValidationMessage:io,update:st});let La=(l,u,p)=>{l.toast?nA(l,u,p):(rA(u),oA(u),sA(l,u,p))},nA=(l,u,p)=>{u.popup.onclick=()=>{l&&(iA(l)||l.timer||l.input)||p(Nt.close)}},iA=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),id=!1,rA=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(u){l.container.onmouseup=()=>{},u.target===l.container&&(id=!0)}}},oA=l=>{l.container.onmousedown=u=>{u.target===l.container&&u.preventDefault(),l.popup.onmouseup=function(p){l.popup.onmouseup=()=>{},(p.target===l.popup||p.target instanceof HTMLElement&&l.popup.contains(p.target))&&(id=!0)}}},sA=(l,u,p)=>{u.container.onclick=_=>{if(id){id=!1;return}_.target===u.container&&Ce(l.allowOutsideClick)&&p(Nt.backdrop)}},aA=l=>typeof l=="object"&&l.jquery,Zv=l=>l instanceof Element||aA(l),cA=l=>{let u={};return typeof l[0]=="object"&&!Zv(l[0])?Object.assign(u,l[0]):["title","html","icon"].forEach((p,_)=>{let O=l[_];typeof O=="string"||Zv(O)?u[p]=O:O!==void 0&&z(`Unexpected type of ${p}! Expected "string" or "Element", got ${typeof O}`)}),u};function lA(){for(var l=arguments.length,u=new Array(l),p=0;p<l;p++)u[p]=arguments[p];return new this(...u)}function dA(l){class u extends this{_main(_,O){return super._main(_,Object.assign({},l,O))}}return u}let uA=()=>s.timeout&&s.timeout.getTimerLeft(),e_=()=>{if(s.timeout)return Cl(),s.timeout.stop()},t_=()=>{if(s.timeout){let l=s.timeout.start();return $o(l),l}},hA=()=>{let l=s.timeout;return l&&(l.running?e_():t_())},mA=l=>{if(s.timeout){let u=s.timeout.increase(l);return $o(u,!0),u}},fA=()=>!!(s.timeout&&s.timeout.isRunning()),n_=!1,ym={};function pA(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";ym[l]=this,n_||(document.body.addEventListener("click",gA),n_=!0)}let gA=l=>{for(let u=l.target;u&&u!==document;u=u.parentNode)for(let p in ym){let _=u.getAttribute(p);if(_){ym[p].fire({template:_});return}}};var bA=Object.freeze({__proto__:null,argsToParams:cA,bindClickHandler:pA,clickCancel:fi,clickConfirm:Ca,clickDeny:um,enableLoading:or,fire:lA,getActions:vn,getCancelButton:Hi,getCloseButton:pa,getConfirmButton:Yt,getContainer:w,getDenyButton:Ot,getFocusableElements:Wi,getFooter:El,getHtmlContainer:fa,getIcon:I,getIconContent:bn,getImage:$i,getInputLabel:gt,getLoader:Gi,getPopup:S,getProgressSteps:hi,getTimerLeft:uA,getTimerProgressBar:Un,getTitle:zi,getValidationMessage:qi,increaseTimer:mA,isDeprecatedParameter:v,isLoading:ga,isTimerRunning:fA,isUpdatableParameter:f,isValidParameter:h,isVisible:Ul,mixin:dA,resumeTimer:t_,showLoading:or,stopTimer:e_,toggleTimer:hA});class vA{constructor(u,p){this.callback=u,this.remaining=p,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(u){let p=this.running;return p&&this.stop(),this.remaining+=u,p&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let i_=["swal-title","swal-html","swal-footer"],_A=l=>{let u=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!u)return{};let p=u.content;return CA(p),Object.assign(yA(p),wA(p),IA(p),EA(p),xA(p),TA(p),AA(p,i_))},yA=l=>{let u={};return Array.from(l.querySelectorAll("swal-param")).forEach(_=>{ro(_,["name","value"]);let O=_.getAttribute("name"),Q=_.getAttribute("value");!O||!Q||(typeof pi[O]=="boolean"?u[O]=Q!=="false":typeof pi[O]=="object"?u[O]=JSON.parse(Q):u[O]=Q)}),u},wA=l=>{let u={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(_=>{let O=_.getAttribute("name"),Q=_.getAttribute("value");!O||!Q||(u[O]=new Function(`return ${Q}`)())}),u},IA=l=>{let u={};return Array.from(l.querySelectorAll("swal-button")).forEach(_=>{ro(_,["type","color","aria-label"]);let O=_.getAttribute("type");!O||!["confirm","cancel","deny"].includes(O)||(u[`${O}ButtonText`]=_.innerHTML,u[`show${L(O)}Button`]=!0,_.hasAttribute("color")&&(u[`${O}ButtonColor`]=_.getAttribute("color")),_.hasAttribute("aria-label")&&(u[`${O}ButtonAriaLabel`]=_.getAttribute("aria-label")))}),u},EA=l=>{let u={},p=l.querySelector("swal-image");return p&&(ro(p,["src","width","height","alt"]),p.hasAttribute("src")&&(u.imageUrl=p.getAttribute("src")||void 0),p.hasAttribute("width")&&(u.imageWidth=p.getAttribute("width")||void 0),p.hasAttribute("height")&&(u.imageHeight=p.getAttribute("height")||void 0),p.hasAttribute("alt")&&(u.imageAlt=p.getAttribute("alt")||void 0)),u},xA=l=>{let u={},p=l.querySelector("swal-icon");return p&&(ro(p,["type","color"]),p.hasAttribute("type")&&(u.icon=p.getAttribute("type")),p.hasAttribute("color")&&(u.iconColor=p.getAttribute("color")),u.iconHtml=p.innerHTML),u},TA=l=>{let u={},p=l.querySelector("swal-input");p&&(ro(p,["type","label","placeholder","value"]),u.input=p.getAttribute("type")||"text",p.hasAttribute("label")&&(u.inputLabel=p.getAttribute("label")),p.hasAttribute("placeholder")&&(u.inputPlaceholder=p.getAttribute("placeholder")),p.hasAttribute("value")&&(u.inputValue=p.getAttribute("value")));let _=Array.from(l.querySelectorAll("swal-input-option"));return _.length&&(u.inputOptions={},_.forEach(O=>{ro(O,["value"]);let Q=O.getAttribute("value");if(!Q)return;let xe=O.innerHTML;u.inputOptions[Q]=xe})),u},AA=(l,u)=>{let p={};for(let _ in u){let O=u[_],Q=l.querySelector(O);Q&&(ro(Q,[]),p[O.replace(/^swal-/,"")]=Q.innerHTML.trim())}return p},CA=l=>{let u=i_.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(p=>{let _=p.tagName.toLowerCase();u.includes(_)||D(`Unrecognized element <${_}>`)})},ro=(l,u)=>{Array.from(l.attributes).forEach(p=>{u.indexOf(p.name)===-1&&D([`Unrecognized attribute "${p.name}" on <${l.tagName.toLowerCase()}>.`,`${u.length?`Allowed attributes are: ${u.join(", ")}`:"To set the value, use HTML within the element."}`])})},r_=10,SA=l=>{let u=w(),p=S();typeof l.willOpen=="function"&&l.willOpen(p);let O=window.getComputedStyle(document.body).overflowY;DA(u,p,l),setTimeout(()=>{kA(u,p)},r_),Ki()&&(RA(u,l.scrollbarPadding,O),fm()),!Qi()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(p)),Zt(u,g["no-transition"])},o_=l=>{let u=S();if(l.target!==u||!zn)return;let p=w();u.removeEventListener(zn,o_),p.style.overflowY="auto"},kA=(l,u)=>{zn&&Ji(u)?(l.style.overflowY="hidden",u.addEventListener(zn,o_)):l.style.overflowY="auto"},RA=(l,u,p)=>{qn(),u&&p!=="hidden"&&Hn(p),setTimeout(()=>{l.scrollTop=0})},DA=(l,u,p)=>{be(l,p.showClass.backdrop),p.animation?(u.style.setProperty("opacity","0","important"),Ye(u,"grid"),setTimeout(()=>{be(u,p.showClass.popup),u.style.removeProperty("opacity")},r_)):Ye(u,"grid"),be([document.documentElement,document.body],g.shown),p.heightAuto&&p.backdrop&&!p.toast&&be([document.documentElement,document.body],g["height-auto"])};var s_={email:(l,u)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(u||"Invalid email address"),url:(l,u)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(u||"Invalid URL")};function PA(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=s_.email),l.input==="url"&&(l.inputValidator=s_.url))}function OA(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(D('Target parameter is not valid, defaulting to "body"'),l.target="body")}function MA(l){PA(l),l.showLoaderOnConfirm&&!l.preConfirm&&D(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),OA(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),ya(l)}let Wn;var rd=new WeakMap;class tt{constructor(){if(i(this,rd,void 0),typeof window>"u")return;Wn=this;for(var u=arguments.length,p=new Array(u),_=0;_<u;_++)p[_]=arguments[_];let O=Object.freeze(this.constructor.argsToParams(p));this.params=O,this.isAwaitingPromise=!1,r(rd,this,this._main(Wn.params))}_main(u){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Oe(Object.assign({},p,u)),s.currentInstance){let Q=er.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:xe}=s.currentInstance;s.currentInstance._destroy(),xe||Q({isDismissed:!0}),Ki()&&Bl()}s.currentInstance=Wn;let _=FA(u,p);MA(_),Object.freeze(_),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let O=LA(Wn);return Vl(Wn,_),Fe.innerParams.set(Wn,_),NA(Wn,O,_)}then(u){return t(rd,this).then(u)}finally(u){return t(rd,this).finally(u)}}let NA=(l,u,p)=>new Promise((_,O)=>{let Q=xe=>{l.close({isDismissed:!0,dismiss:xe})};er.swalPromiseResolve.set(l,_),er.swalPromiseReject.set(l,O),u.confirmButton.onclick=()=>{td(l)},u.denyButton.onclick=()=>{is(l)},u.cancelButton.onclick=()=>{_m(l,Q)},u.closeButton.onclick=()=>{Q(Nt.close)},La(p,u,Q),Zo(s,p,Q),Jl(l,p),SA(p),VA(s,p,Q),UA(u,p),setTimeout(()=>{u.container.scrollTop=0})}),FA=(l,u)=>{let p=_A(l),_=Object.assign({},pi,u,p,l);return _.showClass=Object.assign({},pi.showClass,_.showClass),_.hideClass=Object.assign({},pi.hideClass,_.hideClass),_.animation===!1&&(_.showClass={backdrop:"swal2-noanimation"},_.hideClass={}),_},LA=l=>{let u={popup:S(),container:w(),actions:vn(),confirmButton:Yt(),denyButton:Ot(),cancelButton:Hi(),loader:Gi(),closeButton:pa(),validationMessage:qi(),progressSteps:hi()};return Fe.domCache.set(l,u),u},VA=(l,u,p)=>{let _=Un();rt(_),u.timer&&(l.timeout=new vA(()=>{p("timer"),delete l.timeout},u.timer),u.timerProgressBar&&(Ye(_),Mt(_,u,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&$o(u.timer)})))},UA=(l,u)=>{if(!u.toast){if(!Ce(u.allowEnterKey)){Z("allowEnterKey"),zA();return}jA(l)||BA(l,u)||es(-1,1)}},jA=l=>{let u=l.popup.querySelectorAll("[autofocus]");for(let p of u)if(p instanceof HTMLElement&&Tt(p))return p.focus(),!0;return!1},BA=(l,u)=>u.focusDeny&&Tt(l.denyButton)?(l.denyButton.focus(),!0):u.focusCancel&&Tt(l.cancelButton)?(l.cancelButton.focus(),!0):u.focusConfirm&&Tt(l.confirmButton)?(l.confirmButton.focus(),!0):!1,zA=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,u=localStorage.getItem("swal-initiation");u?(l.getTime()-Date.parse(u))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let p=document.createElement("audio");p.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",p.loop=!0,document.body.appendChild(p),setTimeout(()=>{p.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}tt.prototype.disableButtons=Ma,tt.prototype.enableButtons=Oa,tt.prototype.getInput=Da,tt.prototype.disableInput=Fa,tt.prototype.enableInput=Na,tt.prototype.hideLoading=no,tt.prototype.disableLoading=no,tt.prototype.showValidationMessage=io,tt.prototype.resetValidationMessage=Ft,tt.prototype.close=en,tt.prototype.closePopup=en,tt.prototype.closeModal=en,tt.prototype.closeToast=en,tt.prototype.rejectPromise=rr,tt.prototype.update=st,tt.prototype._destroy=pt,Object.assign(tt,bA),Object.keys(as).forEach(l=>{tt[l]=function(){return Wn&&Wn[l]?Wn[l](...arguments):null}}),tt.DismissReason=Nt,tt.version="11.13.3";let od=tt;return od.default=od,od});typeof ei<"u"&&ei.Sweetalert2&&(ei.swal=ei.sweetAlert=ei.Swal=ei.SweetAlert=ei.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var Wm;try{Wm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Wm=!1}var Xe=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?Z_(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Wm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)($(Cn))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var vs,oy=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Km(){if(vs)return vs;if(typeof document!="object"||!document)return vs=new Set(oy),vs;let n=document.createElement("input");return vs=new Set(oy.filter(e=>(n.setAttribute("type",e),n.type===e))),vs}var Wa;function qA(){if(Wa==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Wa=!0}))}finally{Wa=Wa||!1}return Wa}function br(n){return qA()?n:!!n.capture}var Gm;function HA(){if(Gm==null){let n=typeof document<"u"?document.head:null;Gm=!!(n&&(n.createShadowRoot||n.attachShadow))}return Gm}function sy(n){if(HA()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function yi(n){return n.composedPath?n.composedPath()[0]:n.target}function ay(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ho(n){return n!=null&&`${n}`!="false"}function Qm(n){return Array.isArray(n)?n:[n]}function Jn(n){return n instanceof Ne?n.nativeElement:n}var GA=(()=>{let e=class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Id=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({providers:[GA]});let n=e;return n})();var cy=new Set,mo,WA=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):QA}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&KA(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)($(Xe),$(Ba,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function KA(n,e){if(!cy.has(n))try{mo||(mo=document.createElement("style"),e&&mo.setAttribute("nonce",e),mo.setAttribute("type","text/css"),document.head.appendChild(mo)),mo.sheet&&(mo.sheet.insertRule(`@media ${n} {body{ }}`,0),cy.add(n))}catch(t){console.error(t)}}function QA(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var dy=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new He}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return ly(Qm(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=ly(Qm(i)).map(c=>this._registerQuery(c).observable),s=ds(o);return s=sd(s.pipe(xn(1)),s.pipe(cd(1),Dm(0))),s.pipe(ie(c=>{let d={matches:!1,breakpoints:{}};return c.forEach(({matches:m,query:b})=>{d.matches=d.matches||m,d.breakpoints[b]=m}),d}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),s={observable:new Wt(c=>{let d=m=>this._zone.run(()=>c.next(m));return r.addListener(d),()=>{r.removeListener(d)}}).pipe(Va(r),ie(({matches:c})=>({query:i,matches:c})),Tn(this._destroySubject)),mql:r};return this._queries.set(i,s),s}};e.\u0275fac=function(r){return new(r||e)($(WA),$(ce))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function ly(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Ym(n){return n.buttons===0||n.detail===0}function Xm(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var JA=new J("cdk-input-modality-detector-options"),YA={ignoreKeys:[18,17,224,91,16]},my=650,_s=br({passive:!0,capture:!0}),XA=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,r,o,s){this._platform=i,this._mostRecentTarget=null,this._modality=new Kt(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=yi(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<my||(this._modality.next(Ym(c)?"keyboard":"mouse"),this._mostRecentTarget=yi(c))},this._onTouchstart=c=>{if(Xm(c)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=yi(c)},this._options=B(B({},YA),s),this.modalityDetected=this._modality.pipe(cd(1)),this.modalityChanged=this.modalityDetected.pipe(Om()),i.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,_s),o.addEventListener("mousedown",this._onMousedown,_s),o.addEventListener("touchstart",this._onTouchstart,_s)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,_s),document.removeEventListener("mousedown",this._onMousedown,_s),document.removeEventListener("touchstart",this._onTouchstart,_s))}};e.\u0275fac=function(r){return new(r||e)($(Xe),$(ce),$(ke),$(JA,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var xd=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(xd||{}),ZA=new J("cdk-focus-monitor-default-options"),Ed=br({passive:!0,capture:!0}),fy=(()=>{let e=class e{constructor(i,r,o,s,c){this._ngZone=i,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new He,this._rootNodeFocusAndBlurListener=d=>{let m=yi(d);for(let b=m;b;b=b.parentElement)d.type==="focus"?this._onFocus(d,b):this._onBlur(d,b)},this._document=s,this._detectionMode=c?.detectionMode||xd.IMMEDIATE}monitor(i,r=!1){let o=Jn(i);if(!this._platform.isBrowser||o.nodeType!==1)return ne();let s=sy(o)||this._getDocument(),c=this._elementInfo.get(o);if(c)return r&&(c.checkChildren=!0),c.subject;let d={checkChildren:r,subject:new He,rootNode:s};return this._elementInfo.set(o,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(i){let r=Jn(i),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(i,r,o){let s=Jn(i),c=this._getDocument().activeElement;s===c?this._getClosestElementsInfo(s).forEach(([d,m])=>this._originChanged(d,r,m)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===xd.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===xd.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?my:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,r){let o=this._elementInfo.get(r),s=yi(i);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(i,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ed),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ed)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Tn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ed),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ed),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,o){this._setClasses(i,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((o,s)=>{(s===i||o.checkChildren&&s.contains(i))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let s=i.labels;if(s){for(let c=0;c<s.length;c++)if(s[c].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)($(ce),$(Xe),$(XA),$(ke,8),$(ZA,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var fo=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(fo||{}),uy="cdk-high-contrast-black-on-white",hy="cdk-high-contrast-white-on-black",Jm="cdk-high-contrast-active",py=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=H(dy).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return fo.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return fo.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return fo.BLACK_ON_WHITE}return fo.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(Jm,uy,hy),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===fo.BLACK_ON_WHITE?i.add(Jm,uy):r===fo.WHITE_ON_BLACK&&i.add(Jm,hy)}}};e.\u0275fac=function(r){return new(r||e)($(Xe),$(ke))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var tC=new J("cdk-dir-doc",{providedIn:"root",factory:nC});function nC(){return H(ke)}var iC=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function rC(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?iC.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var gy=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new Lt,i){let r=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=rC(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)($(tC,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Zm=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({});let n=e;return n})();function aC(){return!0}var cC=new J("mat-sanity-checks",{providedIn:"root",factory:aC}),Be=(()=>{let e=class e{constructor(i,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return ay()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)($(py),$(cC,8),$(ke))},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Zm,Zm]});let n=e;return n})();var Ad=class{constructor(e,t,i,r,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var Ty=(()=>{let e=class e{isErrorState(i,r){return!!(i&&i.invalid&&(i.touched||r&&r.submitted))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var pn=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(pn||{}),nf=class{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=pn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},by=br({passive:!0,capture:!0}),rf=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=yi(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){let o=this._events.get(t);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,by)})}removeHandler(e,t,i){let r=this._events.get(e);if(!r)return;let o=r.get(t);o&&(o.delete(i),o.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,by)))}},vy={enterDuration:225,exitDuration:150},lC=800,_y=br({passive:!0,capture:!0}),yy=["mousedown","touchstart"],wy=["mouseup","mouseleave","touchend","touchcancel"],Ka=class Ka{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Jn(i))}fadeInRipple(e,t,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=B(B({},vy),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let s=i.radius||dC(e,t,r),c=e-r.left,d=t-r.top,m=o.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=`${c-s}px`,b.style.top=`${d-s}px`,b.style.height=`${s*2}px`,b.style.width=`${s*2}px`,i.color!=null&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(b);let g=window.getComputedStyle(b),E=g.transitionProperty,R=g.transitionDuration,M=E==="none"||R==="0s"||R==="0s, 0s"||r.width===0&&r.height===0,L=new nf(this,b,i,M);b.style.transform="scale3d(1, 1, 1)",L.state=pn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=L);let D=null;return!M&&(m||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let z=()=>{D&&(D.fallbackTimer=null),clearTimeout(X),this._finishRippleTransition(L)},te=()=>this._destroyRipple(L),X=setTimeout(te,m+100);b.addEventListener("transitionend",z),b.addEventListener("transitioncancel",te),D={onTransitionEnd:z,onTransitionCancel:te,fallbackTimer:X}}),this._activeRipples.set(L,D),(M||!m)&&this._finishRippleTransition(L),L}fadeOutRipple(e){if(e.state===pn.FADING_OUT||e.state===pn.HIDDEN)return;let t=e.element,i=B(B({},vy),e.config.animation);t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=pn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Jn(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,yy.forEach(i=>{Ka._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{wy.forEach(t=>{this._triggerElement.addEventListener(t,this,_y)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===pn.FADING_IN?this._startFadeOutTransition(e):e.state===pn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=pn.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=pn.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Ym(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+lC;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Xm(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===pn.VISIBLE||e.config.terminateOnPointerUp&&e.state===pn.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(yy.forEach(t=>Ka._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(wy.forEach(t=>e.removeEventListener(t,this,_y)),this._pointerUpEventsRegistered=!1))}};Ka._eventManager=new rf;var Cd=Ka;function dC(n,e,t){let i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}var of=new J("mat-ripple-global-options"),uC=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,o,s,c){this._elementRef=i,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Cd(this,r,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:B(B(B({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,o){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,B(B({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,B(B({},this.rippleConfig),i))}};e.\u0275fac=function(r){return new(r||e)(F(Ne),F(ce),F(Xe),F(of,8),F(mr,8))},e.\u0275dir=pe({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&Ve("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let n=e;return n})(),Sd=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Be,Be]});let n=e;return n})();var Ay=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Be]});let n=e;return n})();var Iy={capture:!0},Ey=["focus","mousedown","mouseenter","touchstart"],ef="mat-ripple-loader-uninitialized",tf="mat-ripple-loader-class-name",xy="mat-ripple-loader-centered",Td="mat-ripple-loader-disabled",Cy=(()=>{let e=class e{constructor(){this._document=H(ke,{optional:!0}),this._animationMode=H(mr,{optional:!0}),this._globalRippleOptions=H(of,{optional:!0}),this._platform=H(Xe),this._ngZone=H(ce),this._hosts=new Map,this._onInteraction=i=>{let r=yi(i);if(r instanceof HTMLElement){let o=r.closest(`[${ef}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}},this._ngZone.runOutsideAngular(()=>{for(let i of Ey)this._document?.addEventListener(i,this._onInteraction,Iy)})}ngOnDestroy(){let i=this._hosts.keys();for(let r of i)this.destroyRipple(r);for(let r of Ey)this._document?.removeEventListener(r,this._onInteraction,Iy)}configureRipple(i,r){i.setAttribute(ef,this._globalRippleOptions?.namespace??""),(r.className||!i.hasAttribute(tf))&&i.setAttribute(tf,r.className||""),r.centered&&i.setAttribute(xy,""),r.disabled&&i.setAttribute(Td,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,r){let o=this._hosts.get(i);if(o){o.disabled=r;return}r?i.setAttribute(Td,""):i.removeAttribute(Td)}_createRipple(i){if(!this._document)return;let r=this._hosts.get(i);if(r)return r;i.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",i.getAttribute(tf)),i.append(o);let s=new uC(new Ne(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=i,s.centered=i.hasAttribute(xy),s.disabled=i.hasAttribute(Td),this.attachRipple(i,s),s}attachRipple(i,r){i.removeAttribute(ef),this._hosts.set(i,r)}destroyRipple(i){let r=this._hosts.get(i);r&&(r.ngOnDestroy(),this._hosts.delete(i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var mC=["mat-button",""],ky=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ry=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var fC=["mat-fab",""];var pC=new J("MAT_BUTTON_CONFIG");var gC=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Dy=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,r,o,s){this._elementRef=i,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=H(fy),this._rippleLoader=H(Cy),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let c=H(pC,{optional:!0}),d=i.nativeElement,m=d.classList;this.disabledInteractive=c?.disabledInteractive??!1,this.color=c?.color??null,this._rippleLoader?.configureRipple(d,{className:"mat-mdc-button-ripple"});for(let{attribute:b,mdcClasses:g}of gC)d.hasAttribute(b)&&m.add(...g)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(r){ud()},e.\u0275dir=pe({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Ut],disabled:[2,"disabled","disabled",Ut],ariaDisabled:[2,"aria-disabled","ariaDisabled",Ut],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ut]},features:[Sn]});let n=e;return n})();var Yn=(()=>{let e=class e extends Dy{constructor(i,r,o,s){super(i,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(F(Ne),F(Xe),F(ce),F(mr,8))},e.\u0275cmp=Re({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(kt("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),uo(o.color?"mat-"+o.color:""),Ve("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[an,dt],attrs:mC,ngContentSelectors:Ry,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(Ht(ky),Ie(0,"span",0),De(1),U(2,"span",1),De(3,1),V(),De(4,2),Ie(5,"span",2)(6,"span",3)),r&2&&Ve("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let n=e;return n})();var bC=new J("mat-mdc-fab-default-options",{providedIn:"root",factory:Py});function Py(){return{color:"accent"}}var Sy=Py(),Oy=(()=>{let e=class e extends Dy{constructor(i,r,o,s,c){super(i,r,o,s),this._options=c,this._isFab=!0,this._options=this._options||Sy,this.color=this._options.color||Sy.color}};e.\u0275fac=function(r){return new(r||e)(F(Ne),F(Xe),F(ce),F(mr,8),F(bC,8))},e.\u0275cmp=Re({type:e,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(r,o){r&2&&(kt("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),uo(o.color?"mat-"+o.color:""),Ve("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0)("mdc-fab--extended",o.extended)("mat-mdc-extended-fab",o.extended))},inputs:{extended:[2,"extended","extended",Ut]},exportAs:["matButton"],standalone:!0,features:[Sn,an,dt],attrs:fC,ngContentSelectors:Ry,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(Ht(ky),Ie(0,"span",0),De(1),U(2,"span",1),De(3,1),V(),De(4,2),Ie(5,"span",2)(6,"span",3)),r&2&&Ve("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color, var(--mat-app-primary-container));border-radius:var(--mdc-fab-container-shape, var(--mat-app-corner-large));color:var(--mat-fab-foreground-color, var(--mat-app-on-primary-container, inherit));box-shadow:var(--mdc-fab-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-app-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color, var(--mat-app-primary-container));border-radius:var(--mdc-fab-small-container-shape, var(--mat-app-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-app-on-primary-container, inherit));box-shadow:var(--mdc-fab-small-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-app-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow, var(--mat-app-level3));height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape, var(--mat-app-corner-large));font-family:var(--mdc-extended-fab-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-extended-fab-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-extended-fab-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-extended-fab-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0});let n=e;return n})();var kd=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Be,Sd,Be]});let n=e;return n})();var zy=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(F($a),F(Ne))},e.\u0275dir=pe({type:e});let n=e;return n})(),vC=(()=>{let e=class e extends zy{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=hs(e)))(o||e)}})(),e.\u0275dir=pe({type:e,features:[an]});let n=e;return n})(),uf=new J("");var _C={provide:uf,useExisting:us(()=>Ud),multi:!0};function yC(){let n=bs()?bs().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var wC=new J(""),Ud=(()=>{let e=class e extends zy{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!yC())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(F($a),F(Ne),F(wC,8))},e.\u0275dir=pe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&ge("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[cn([_C]),an]});let n=e;return n})();function _r(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function $y(n){return n!=null&&typeof n.length=="number"}var jd=new J(""),Bd=new J(""),IC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Dd=class{static min(e){return EC(e)}static max(e){return xC(e)}static required(e){return TC(e)}static requiredTrue(e){return AC(e)}static email(e){return CC(e)}static minLength(e){return SC(e)}static maxLength(e){return kC(e)}static pattern(e){return RC(e)}static nullValidator(e){return qy(e)}static compose(e){return Jy(e)}static composeAsync(e){return Yy(e)}};function EC(n){return e=>{if(_r(e.value)||_r(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function xC(n){return e=>{if(_r(e.value)||_r(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function TC(n){return _r(n.value)?{required:!0}:null}function AC(n){return n.value===!0?null:{required:!0}}function CC(n){return _r(n.value)||IC.test(n.value)?null:{email:!0}}function SC(n){return e=>_r(e.value)||!$y(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function kC(n){return e=>$y(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function RC(n){if(!n)return qy;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(_r(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function qy(n){return null}function Hy(n){return n!=null}function Gy(n){return fd(n)?_t(n):n}function Wy(n){let e={};return n.forEach(t=>{e=t!=null?B(B({},e),t):e}),Object.keys(e).length===0?null:e}function Ky(n,e){return e.map(t=>t(n))}function DC(n){return!n.validate}function Qy(n){return n.map(e=>DC(e)?e:t=>e.validate(t))}function Jy(n){if(!n)return null;let e=n.filter(Hy);return e.length==0?null:function(t){return Wy(Ky(t,e))}}function hf(n){return n!=null?Jy(Qy(n)):null}function Yy(n){if(!n)return null;let e=n.filter(Hy);return e.length==0?null:function(t){let i=Ky(t,e).map(Gy);return ad(i).pipe(ie(Wy))}}function mf(n){return n!=null?Yy(Qy(n)):null}function My(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Xy(n){return n._rawValidators}function Zy(n){return n._rawAsyncValidators}function sf(n){return n?Array.isArray(n)?n:[n]:[]}function Pd(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ny(n,e){let t=sf(e);return sf(n).forEach(r=>{Pd(t,r)||t.push(r)}),t}function Fy(n,e){return sf(e).filter(t=>!Pd(n,t))}var Od=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},wi=class extends Od{get formDirective(){return null}get path(){return null}},Ii=class extends Od{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Md=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},PC={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nU=Me(B({},PC),{"[class.ng-submitted]":"isSubmitted"}),ew=(()=>{let e=class e extends Md{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(F(Ii,2))},e.\u0275dir=pe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Ve("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[an]});let n=e;return n})(),iU=(()=>{let e=class e extends Md{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(F(wi,10))},e.\u0275dir=pe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Ve("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[an]});let n=e;return n})();var Ja="VALID",Rd="INVALID",ys="PENDING",Ya="DISABLED",yr=class{},Nd=class extends yr{constructor(e,t){super(),this.value=e,this.source=t}},Za=class extends yr{constructor(e,t){super(),this.pristine=e,this.source=t}},ec=class extends yr{constructor(e,t){super(),this.touched=e,this.source=t}},ws=class extends yr{constructor(e,t){super(),this.status=e,this.source=t}},af=class extends yr{constructor(e){super(),this.source=e}},cf=class extends yr{constructor(e){super(),this.source=e}};function ff(n){return(zd(n)?n.validators:n)||null}function OC(n){return Array.isArray(n)?hf(n):n||null}function pf(n,e){return(zd(e)?e.asyncValidators:n)||null}function MC(n){return Array.isArray(n)?mf(n):n||null}function zd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function tw(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new Ue(1e3,"");if(!i[t])throw new Ue(1001,"")}function nw(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new Ue(1002,"")})}var Is=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=vi(()=>this.statusReactive()),this.statusReactive=ps(void 0),this._pristine=vi(()=>this.pristineReactive()),this.pristineReactive=ps(!0),this._touched=vi(()=>this.touchedReactive()),this.touchedReactive=ps(!1),this._events=new He,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return _i(this.statusReactive)}set status(e){_i(()=>this.statusReactive.set(e))}get valid(){return this.status===Ja}get invalid(){return this.status===Rd}get pending(){return this.status==ys}get disabled(){return this.status===Ya}get enabled(){return this.status!==Ya}get pristine(){return _i(this.pristineReactive)}set pristine(e){_i(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return _i(this.touchedReactive)}set touched(e){_i(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ny(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ny(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Fy(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Fy(e,this._rawAsyncValidators))}hasValidator(e){return Pd(this._rawValidators,e)}hasAsyncValidator(e){return Pd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Me(B({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new ec(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new ec(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Me(B({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Za(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Za(!0,i))}markAsPending(e={}){this.status=ys;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ws(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Me(B({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ya,this.errors=null,this._forEachChild(r=>{r.disable(Me(B({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Nd(this.value,i)),this._events.next(new ws(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Me(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ja,this._forEachChild(i=>{i.enable(Me(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Me(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ja||this.status===ys)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Nd(this.value,t)),this._events.next(new ws(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Me(B({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ya:Ja}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ys,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=Gy(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new ws(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new Lt,this.statusChanges=new Lt}_calculateStatus(){return this._allControlsDisabled()?Ya:this.errors?Rd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ys)?ys:this._anyControlsHaveStatus(Rd)?Rd:Ja}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Za(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ec(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=OC(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=MC(this._rawAsyncValidators)}},Es=class extends Is{constructor(e,t,i){super(ff(t),pf(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){nw(this,!0,e),Object.keys(e).forEach(i=>{tw(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var lf=class extends Es{};var nc=new J("CallSetDisabledState",{providedIn:"root",factory:()=>$d}),$d="always";function iw(n,e){return[...e.path,n]}function Fd(n,e,t=$d){gf(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),FC(n,e),VC(n,e),LC(n,e),NC(n,e)}function Ly(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Vd(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ld(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function NC(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function gf(n,e){let t=Xy(n);e.validator!==null?n.setValidators(My(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=Zy(n);e.asyncValidator!==null?n.setAsyncValidators(My(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Ld(e._rawValidators,r),Ld(e._rawAsyncValidators,r)}function Vd(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=Xy(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=Zy(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Ld(e._rawValidators,i),Ld(e._rawAsyncValidators,i),t}function FC(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&rw(n,e)})}function LC(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&rw(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function rw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function VC(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function ow(n,e){n==null,gf(n,e)}function UC(n,e){return Vd(n,e)}function sw(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function jC(n){return Object.getPrototypeOf(n.constructor)===vC}function aw(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function cw(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Ud?t=o:jC(o)?i=o:r=o}),r||i||t||null}function BC(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var zC={provide:wi,useExisting:us(()=>bf)},Xa=Promise.resolve(),bf=(()=>{let e=class e extends wi{get submitted(){return _i(this.submittedReactive)}constructor(i,r,o){super(),this.callSetDisabledState=o,this._submitted=vi(()=>this.submittedReactive()),this.submittedReactive=ps(!1),this._directives=new Set,this.ngSubmit=new Lt,this.form=new Es({},hf(i),mf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Xa.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),Fd(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Xa.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Xa.then(()=>{let r=this._findContainer(i.path),o=new Es({});ow(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Xa.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){Xa.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),aw(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(F(jd,10),F(Bd,10),F(nc,8))},e.\u0275dir=pe({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&ge("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[cn([zC]),an]});let n=e;return n})();function Vy(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Uy(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var tc=class extends Is{constructor(e=null,t,i){super(ff(t),pf(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Uy(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vy(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vy(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Uy(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var $C=n=>n instanceof tc;var qC={provide:Ii,useExisting:us(()=>vf)},jy=Promise.resolve(),vf=(()=>{let e=class e extends Ii{constructor(i,r,o,s,c,d){super(),this._changeDetectorRef=c,this.callSetDisabledState=d,this.control=new tc,this._registered=!1,this.name="",this.update=new Lt,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=cw(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),sw(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Fd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){jy.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&Ut(r);jy.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?iw(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(F(wi,9),F(jd,10),F(Bd,10),F(uf,10),F(bi,8),F(nc,8))},e.\u0275dir=pe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[cn([qC]),an,An]});let n=e;return n})(),oU=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=pe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var lw=new J("");var HC={provide:wi,useExisting:us(()=>_f)},_f=(()=>{let e=class e extends wi{get submitted(){return _i(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,r,o){super(),this.callSetDisabledState=o,this._submitted=vi(()=>this._submittedReactive()),this._submittedReactive=ps(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Lt,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return Fd(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){Ly(i.control||null,i,!1),BC(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this._submittedReactive.set(!0),aw(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new af(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new cf(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,o=this.form.get(i.path);r!==o&&(Ly(r||null,i),$C(o)&&(Fd(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);ow(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&UC(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gf(this.form,this),this._oldForm&&Vd(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(F(jd,10),F(Bd,10),F(nc,8))},e.\u0275dir=pe({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&ge("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[cn([HC]),an,An]});let n=e;return n})();var GC={provide:Ii,useExisting:us(()=>WC)},WC=(()=>{let e=class e extends Ii{set isDisabled(i){}constructor(i,r,o,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new Lt,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=cw(this,s)}ngOnChanges(i){this._added||this._setUpControl(),sw(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return iw(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(F(wi,13),F(jd,10),F(Bd,10),F(uf,10),F(lw,8))},e.\u0275dir=pe({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[cn([GC]),an,An]});let n=e;return n})();var dw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({});let n=e;return n})(),df=class extends Is{constructor(e,t,i){super(ff(t),pf(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){nw(this,!1,e),e.forEach((i,r)=>{tw(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function By(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var sU=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let o=this._reduceControls(i),s={};return By(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Es(o,s)}record(i,r=null){let o=this._reduceControls(i);return new lf(o,r)}control(i,r,o){let s={};return this.useNonNullable?(By(r)?s=r:(s.validators=r,s.asyncValidators=o),new tc(i,Me(B({},s),{nonNullable:!0}))):new tc(i,r,o)}array(i,r,o){let s=i.map(c=>this._createControl(c));return new df(s,r,o)}_reduceControls(i){let r={};return Object.keys(i).forEach(o=>{r[o]=this._createControl(i[o])}),r}_createControl(i){if(i instanceof tc)return i;if(i instanceof Is)return i;if(Array.isArray(i)){let r=i[0],o=i.length>1?i[1]:null,s=i.length>2?i[2]:null;return this.control(r,o,s)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var uw=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:nc,useValue:i.callSetDisabledState??$d}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[dw]});let n=e;return n})(),aU=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:lw,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:nc,useValue:i.callSetDisabledState??$d}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[dw]});let n=e;return n})();var rc=class{},Hd=class{},Ei=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var wf=class{encodeKey(e){return mw(e)}encodeValue(e){return mw(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function QC(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,c]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],d=t.get(s)||[];d.push(c),t.set(s,d)}),t}var JC=/%(\d[a-f0-9])/gi,YC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mw(n){return encodeURIComponent(n).replace(JC,(e,t)=>YC[t]??e)}function qd(n){return`${n}`}var Ir=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new wf,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=QC(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(qd):[qd(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(qd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(qd(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var If=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function XC(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function fw(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function pw(n){return typeof Blob<"u"&&n instanceof Blob}function gw(n){return typeof FormData<"u"&&n instanceof FormData}function ZC(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ic=class n{constructor(e,t,i,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(XC(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ei,this.context??=new If,!this.params)this.params=new Ir,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),d=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+d+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||fw(this.body)||pw(this.body)||gw(this.body)||ZC(this.body)?this.body:this.body instanceof Ir?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||gw(this.body)?null:pw(this.body)?this.body.type||null:fw(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ir?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,d=e.reportProgress??this.reportProgress,m=e.headers||this.headers,b=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(m=Object.keys(e.setHeaders).reduce((E,R)=>E.set(R,e.setHeaders[R]),m)),e.setParams&&(b=Object.keys(e.setParams).reduce((E,R)=>E.set(R,e.setParams[R]),b)),new n(t,i,s,{params:b,headers:m,context:g,reportProgress:d,responseType:r,withCredentials:c,transferCache:o})}},Er=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Er||{}),oc=class{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ei,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Gd=class n extends oc{constructor(e={}){super(e),this.type=Er.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},sc=class n extends oc{constructor(e={}){super(e),this.type=Er.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},wr=class extends oc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},yw=200,eS=204;function yf(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Rn=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof ic)s=i;else{let m;o.headers instanceof Ei?m=o.headers:m=new Ei(o.headers);let b;o.params&&(o.params instanceof Ir?b=o.params:b=new Ir({fromObject:o.params})),s=new ic(i,r,o.body!==void 0?o.body:null,{headers:m,context:o.context,params:b,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let c=ne(s).pipe(dr(m=>this.handler.handle(m)));if(i instanceof ic||o.observe==="events")return c;let d=c.pipe(nn(m=>m instanceof sc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe(ie(m=>{if(m.body!==null&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return d.pipe(ie(m=>{if(m.body!==null&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return d.pipe(ie(m=>{if(m.body!==null&&typeof m.body!="string")throw new Error("Response is not a string.");return m.body}));case"json":default:return d.pipe(ie(m=>m.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Ir().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,yf(o,r))}post(i,r,o={}){return this.request("POST",i,yf(o,r))}put(i,r,o={}){return this.request("PUT",i,yf(o,r))}};e.\u0275fac=function(r){return new(r||e)($(rc))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),tS=/^\)\]\}',?\n/,nS="X-Request-URL";function bw(n){if(n.url)return n.url;let e=nS.toLocaleLowerCase();return n.headers.get(e)}var iS=(()=>{let e=class e{constructor(){this.fetchImpl=H(Ef,{optional:!0})?.fetch??((...i)=>globalThis.fetch(...i)),this.ngZone=H(ce)}handle(i){return new Wt(r=>{let o=new AbortController;return this.doRequest(i,o.signal,r).then(xf,s=>r.error(new wr({error:s}))),()=>o.abort()})}doRequest(i,r,o){return x(this,null,function*(){let s=this.createRequestInit(i),c;try{let M=this.ngZone.runOutsideAngular(()=>this.fetchImpl(i.urlWithParams,B({signal:r},s)));rS(M),o.next({type:Er.Sent}),c=yield M}catch(M){o.error(new wr({error:M,status:M.status??0,statusText:M.statusText,url:i.urlWithParams,headers:M.headers}));return}let d=new Ei(c.headers),m=c.statusText,b=bw(c)??i.urlWithParams,g=c.status,E=null;if(i.reportProgress&&o.next(new Gd({headers:d,status:g,statusText:m,url:b})),c.body){let M=c.headers.get("content-length"),L=[],D=c.body.getReader(),z=0,te,X,Z=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>x(this,null,function*(){for(;;){let{done:ae,value:A}=yield D.read();if(ae)break;if(L.push(A),z+=A.length,i.reportProgress){X=i.responseType==="text"?(X??"")+(te??=new TextDecoder).decode(A,{stream:!0}):void 0;let y=()=>o.next({type:Er.DownloadProgress,total:M?+M:void 0,loaded:z,partialText:X});Z?Z.run(y):y()}}}));let Ce=this.concatChunks(L,z);try{let ae=c.headers.get("Content-Type")??"";E=this.parseBody(i,Ce,ae)}catch(ae){o.error(new wr({error:ae,headers:new Ei(c.headers),status:c.status,statusText:c.statusText,url:bw(c)??i.urlWithParams}));return}}g===0&&(g=E?yw:0),g>=200&&g<300?(o.next(new sc({body:E,headers:d,status:g,statusText:m,url:b})),o.complete()):o.error(new wr({error:E,headers:d,status:g,statusText:m,url:b}))})}parseBody(i,r,o){switch(i.responseType){case"json":let s=new TextDecoder().decode(r).replace(tS,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},o=i.withCredentials?"include":void 0;if(i.headers.forEach((s,c)=>r[s]=c.join(",")),i.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!i.headers.has("Content-Type")){let s=i.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:o}}concatChunks(i,r){let o=new Uint8Array(r),s=0;for(let c of i)o.set(c,s),s+=c.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),Ef=class{};function xf(){}function rS(n){n.then(xf,xf)}function oS(n,e){return e(n)}function sS(n,e,t){return(i,r)=>mn(t,()=>e(i,o=>n(o,r)))}var ww=new J(""),aS=new J(""),cS=new J("",{providedIn:"root",factory:()=>!0});var vw=(()=>{let e=class e extends rc{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=H(ld),this.contributeToStability=H(cS)}handle(i){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(ww),...this.injector.get(aS,[])]));this.chain=r.reduceRight((o,s)=>sS(o,s,this.injector),oS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(ur(()=>this.pendingTasks.remove(r)))}else return this.chain(i,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)($(Hd),$(ao))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})();var lS=/^\)\]\}',?\n/;function dS(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var _w=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new Ue(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?_t(r.\u0275loadImpl()):ne(null)).pipe(rn(()=>new Wt(s=>{let c=r.build();if(c.open(i.method,i.urlWithParams),i.withCredentials&&(c.withCredentials=!0),i.headers.forEach((D,z)=>c.setRequestHeader(D,z.join(","))),i.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let D=i.detectContentTypeHeader();D!==null&&c.setRequestHeader("Content-Type",D)}if(i.responseType){let D=i.responseType.toLowerCase();c.responseType=D!=="json"?D:"text"}let d=i.serializeBody(),m=null,b=()=>{if(m!==null)return m;let D=c.statusText||"OK",z=new Ei(c.getAllResponseHeaders()),te=dS(c)||i.url;return m=new Gd({headers:z,status:c.status,statusText:D,url:te}),m},g=()=>{let{headers:D,status:z,statusText:te,url:X}=b(),Z=null;z!==eS&&(Z=typeof c.response>"u"?c.responseText:c.response),z===0&&(z=Z?yw:0);let Ce=z>=200&&z<300;if(i.responseType==="json"&&typeof Z=="string"){let ae=Z;Z=Z.replace(lS,"");try{Z=Z!==""?JSON.parse(Z):null}catch(A){Z=ae,Ce&&(Ce=!1,Z={error:A,text:Z})}}Ce?(s.next(new sc({body:Z,headers:D,status:z,statusText:te,url:X||void 0})),s.complete()):s.error(new wr({error:Z,headers:D,status:z,statusText:te,url:X||void 0}))},E=D=>{let{url:z}=b(),te=new wr({error:D,status:c.status||0,statusText:c.statusText||"Unknown Error",url:z||void 0});s.error(te)},R=!1,M=D=>{R||(s.next(b()),R=!0);let z={type:Er.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(z.total=D.total),i.responseType==="text"&&c.responseText&&(z.partialText=c.responseText),s.next(z)},L=D=>{let z={type:Er.UploadProgress,loaded:D.loaded};D.lengthComputable&&(z.total=D.total),s.next(z)};return c.addEventListener("load",g),c.addEventListener("error",E),c.addEventListener("timeout",E),c.addEventListener("abort",E),i.reportProgress&&(c.addEventListener("progress",M),d!==null&&c.upload&&c.upload.addEventListener("progress",L)),c.send(d),s.next({type:Er.Sent}),()=>{c.removeEventListener("error",E),c.removeEventListener("abort",E),c.removeEventListener("load",g),c.removeEventListener("timeout",E),i.reportProgress&&(c.removeEventListener("progress",M),d!==null&&c.upload&&c.upload.removeEventListener("progress",L)),c.readyState!==c.DONE&&c.abort()}})))}};e.\u0275fac=function(r){return new(r||e)($(wd))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),Iw=new J(""),uS="XSRF-TOKEN",hS=new J("",{providedIn:"root",factory:()=>uS}),mS="X-XSRF-TOKEN",fS=new J("",{providedIn:"root",factory:()=>mS}),Wd=class{},pS=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=vd(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)($(ke),$(Cn),$(hS))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})();function gS(n,e){let t=n.url.toLowerCase();if(!H(Iw)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=H(Wd).getToken(),r=H(fS);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}function EU(...n){let e=[Rn,_w,vw,{provide:rc,useExisting:vw},{provide:Hd,useFactory:()=>H(iS,{optional:!0})??H(_w)},{provide:ww,useValue:gS,multi:!0},{provide:Iw,useValue:!0},{provide:Wd,useClass:pS}];for(let t of n)e.push(...t.\u0275providers);return on(e)}var Cf=class extends W_{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Sf=class n extends Cf{static makeCurrent(){G_(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=vS();return t==null?null:_S(t)}resetBaseElement(){cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vd(document.cookie,e)}},cc=null;function vS(){return cc=cc||document.querySelector("base"),cc?cc.getAttribute("href"):null}function _S(n){return new URL(n,document.baseURI).pathname}var yS=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),Kd=new J(""),Aw=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new Ue(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)($(Kd),$(ce))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),lc=class{constructor(e){this._doc=e}},Tf="ng-app-id",Cw=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yd(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Tf}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(Tf),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(Tf,this.appId),i.appendChild(c),c}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,c=s.get(r)?.elements;c?c.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)($(ke),$(dd),$(Ba,8),$(Cn))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),Af={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Rf=/%COMP%/g,Sw="%COMP%",wS=`_nghost-${Sw}`,IS=`_ngcontent-${Sw}`,ES=!0,xS=new J("",{providedIn:"root",factory:()=>ES});function TS(n){return IS.replace(Rf,n)}function AS(n){return wS.replace(Rf,n)}function kw(n,e){return e.map(t=>t.replace(Rf,n))}var Ew=(()=>{let e=class e{constructor(i,r,o,s,c,d,m,b=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=d,this.ngZone=m,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=yd(d),this.defaultRenderer=new dc(i,c,m,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ua.ShadowDom&&(r=Me(B({},r),{encapsulation:Ua.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof Qd?o.applyToHost(i):o instanceof uc&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let c=this.doc,d=this.ngZone,m=this.eventManager,b=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,E=this.platformIsServer;switch(r.encapsulation){case Ua.Emulated:s=new Qd(m,b,r,this.appId,g,c,d,E);break;case Ua.ShadowDom:return new kf(m,b,i,r,c,d,this.nonce,E);default:s=new uc(m,b,r,g,c,d,E);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)($(Aw),$(Cw),$(dd),$(xS),$(ke),$(Cn),$(ce),$(Ba))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),dc=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Af[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(xw(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(xw(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Ue(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=Af[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=Af[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(za.DashCase|za.Important)?e.style.setProperty(t,i,r&za.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&za.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=bs().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function xw(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var kf=class extends dc{constructor(e,t,i,r,o,s,c,d){super(e,o,s,d),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=kw(r.id,r.styles);for(let b of m){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=b,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},uc=class extends dc{constructor(e,t,i,r,o,s,c,d){super(e,o,s,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=d?kw(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Qd=class extends uc{constructor(e,t,i,r,o,s,c,d){let m=r+"-"+i.id;super(e,t,i,o,s,c,d,m),this.contentAttr=TS(m),this.hostAttr=AS(m)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},CS=(()=>{let e=class e extends lc{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)($(ke))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),SS=(()=>{let e=class e extends lc{constructor(i){super(i),this.delegate=H(q_,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,o){return this.delegate.addEventListener(i,r,o)}removeEventListener(i,r,o){return this.delegate.removeEventListener(i,r,o)}};e.\u0275fac=function(r){return new(r||e)($(ke))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),Tw=["alt","control","meta","shift"],kS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RS={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},DS=(()=>{let e=class e extends lc{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bs().onAndCancel(i,s.domEventName,c))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),c="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),c="code."),Tw.forEach(b=>{let g=r.indexOf(b);g>-1&&(r.splice(g,1),c+=b+".")}),c+=s,r.length!=0||s.length===0)return null;let m={};return m.domEventName=o,m.fullKey=c,m}static matchEventFullKeyCode(i,r){let o=kS[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Tw.forEach(c=>{if(c!==o){let d=RS[c];d(i)&&(s+=c+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)($(ke))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})();function qU(n,e){return $_(B({rootComponent:n},PS(e)))}function PS(n){return{appProviders:[...LS,...n?.providers??[]],platformProviders:FS}}function OS(){Sf.makeCurrent()}function MS(){return new co}function NS(){return b_(document),document}var FS=[{provide:Cn,useValue:X_},{provide:v_,useValue:OS,multi:!0},{provide:ke,useFactory:NS,deps:[]}];var LS=[{provide:g_,useValue:"root"},{provide:co,useFactory:MS,deps:[]},{provide:Kd,useClass:CS,multi:!0,deps:[ke,ce,Cn]},{provide:Kd,useClass:DS,multi:!0,deps:[ke]},{provide:Kd,useClass:SS,multi:!0},Ew,Cw,Aw,{provide:C_,useExisting:Ew},{provide:wd,useClass:yS,deps:[]},[]];var Rw=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)($(ke))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Df=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=$(VS),o},providedIn:"root"});let n=e;return n})(),VS=(()=>{let e=class e extends Df{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case sn.NONE:return r;case sn.HTML:return fs(r,"HTML")?ms(r):T_(this._doc,String(r)).toString();case sn.STYLE:return fs(r,"Style")?ms(r):r;case sn.SCRIPT:if(fs(r,"Script"))return ms(r);throw new Ue(5200,!1);case sn.URL:return fs(r,"URL")?ms(r):x_(String(r));case sn.RESOURCE_URL:if(fs(r,"ResourceURL"))return ms(r);throw new Ue(5201,!1);default:throw new Ue(5202,!1)}}bypassSecurityTrustHtml(i){return __(i)}bypassSecurityTrustStyle(i){return y_(i)}bypassSecurityTrustScript(i){return w_(i)}bypassSecurityTrustUrl(i){return I_(i)}bypassSecurityTrustResourceUrl(i){return E_(i)}};e.\u0275fac=function(r){return new(r||e)($(ke))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var fe="primary",Ac=Symbol("RouteTitle"),Ff=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Rs(n){return new Ff(n)}function US(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],c=n[o];if(s[0]===":")r[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function jS(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xn(n[t],e[t]))return!1;return!0}function Xn(n,e){let t=n?Lf(n):void 0,i=e?Lf(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!zw(n[r],e[r]))return!1;return!0}function Lf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function zw(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function $w(n){return n.length>0?n[n.length-1]:null}function Ar(n){return Sm(n)?n:fd(n)?_t(Promise.resolve(n)):ne(n)}var BS={exact:Hw,subset:Gw},qw={exact:zS,subset:$S,ignored:()=>!0};function Pw(n,e,t){return BS[t.paths](n.root,e.root,t.matrixParams)&&qw[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function zS(n,e){return Xn(n,e)}function Hw(n,e,t){if(!go(n.segments,e.segments)||!Xd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!Hw(n.children[i],e.children[i],t))return!1;return!0}function $S(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>zw(n[t],e[t]))}function Gw(n,e,t){return Ww(n,e,e.segments,t)}function Ww(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!go(r,t)||e.hasChildren()||!Xd(r,t,i))}else if(n.segments.length===t.length){if(!go(n.segments,t)||!Xd(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!Gw(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!go(n.segments,r)||!Xd(n.segments,r,i)||!n.children[fe]?!1:Ww(n.children[fe],e,o,i)}}function Xd(n,e,t){return e.every((i,r)=>qw[t](n[r].parameters,i.parameters))}var Ti=class{constructor(e=new Pe([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){return GS.serialize(this)}},Pe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zd(this)}},po=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Rs(this.parameters),this._parameterMap}toString(){return Qw(this)}};function qS(n,e){return go(n,e)&&n.every((t,i)=>Xn(t.parameters,e[i].parameters))}function go(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function HS(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===fe&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==fe&&(t=t.concat(e(r,i)))}),t}var Cc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:()=>new Ds,providedIn:"root"});let n=e;return n})(),Ds=class{parse(e){let t=new Uf(e);return new Ti(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${hc(e.root,!0)}`,i=QS(e.queryParams),r=typeof e.fragment=="string"?`#${WS(e.fragment)}`:"";return`${t}${i}${r}`}},GS=new Ds;function Zd(n){return n.segments.map(e=>Qw(e)).join("/")}function hc(n,e){if(!n.hasChildren())return Zd(n);if(e){let t=n.children[fe]?hc(n.children[fe],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==fe&&i.push(`${r}:${hc(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=HS(n,(i,r)=>r===fe?[hc(n.children[fe],!1)]:[`${r}:${hc(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[fe]!=null?`${Zd(n)}/${t[0]}`:`${Zd(n)}/(${t.join("//")})`}}function Kw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jd(n){return Kw(n).replace(/%3B/gi,";")}function WS(n){return encodeURI(n)}function Vf(n){return Kw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eu(n){return decodeURIComponent(n)}function Ow(n){return eu(n.replace(/\+/g,"%20"))}function Qw(n){return`${Vf(n.path)}${KS(n.parameters)}`}function KS(n){return Object.entries(n).map(([e,t])=>`;${Vf(e)}=${Vf(t)}`).join("")}function QS(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Jd(t)}=${Jd(r)}`).join("&"):`${Jd(t)}=${Jd(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var JS=/^[^\/()?;#]+/;function Pf(n){let e=n.match(JS);return e?e[0]:""}var YS=/^[^\/()?;=#]+/;function XS(n){let e=n.match(YS);return e?e[0]:""}var ZS=/^[^=?&#]+/;function ek(n){let e=n.match(ZS);return e?e[0]:""}var tk=/^[^&#]+/;function nk(n){let e=n.match(tk);return e?e[0]:""}var Uf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[fe]=new Pe(e,t)),i}parseSegment(){let e=Pf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Ue(4009,!1);return this.capture(e),new po(eu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=XS(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Pf(this.remaining);r&&(i=r,this.capture(i))}e[eu(t)]=eu(i)}parseQueryParam(e){let t=ek(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=nk(this.remaining);s&&(i=s,this.capture(i))}let r=Ow(t),o=Ow(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Pf(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Ue(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=fe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[fe]:new Pe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Ue(4011,!1)}};function Jw(n){return n.segments.length>0?new Pe([],{[fe]:n}):n}function Yw(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=Yw(r);if(i===fe&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new Pe(n.segments,e);return ik(t)}function ik(n){if(n.numberOfChildren===1&&n.children[fe]){let e=n.children[fe];return new Pe(n.segments.concat(e.segments),e.children)}return n}function bo(n){return n instanceof Ti}function rk(n,e,t=null,i=null){let r=Xw(n);return Zw(r,e,t,i)}function Xw(n){let e;function t(o){let s={};for(let d of o.children){let m=t(d);s[d.outlet]=m}let c=new Pe(o.url,s);return o===n&&(e=c),c}let i=t(n.root),r=Jw(i);return e??r}function Zw(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Of(r,r,r,t,i);let o=ok(e);if(o.toRoot())return Of(r,r,new Pe([],{}),t,i);let s=sk(o,r,n),c=s.processChildren?pc(s.segmentGroup,s.index,o.commands):t0(s.segmentGroup,s.index,o.commands);return Of(r,s.segmentGroup,c,t,i)}function tu(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function vc(n){return typeof n=="object"&&n!=null&&n.outlets}function Of(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([d,m])=>{o[d]=Array.isArray(m)?m.map(b=>`${b}`):`${m}`});let s;n===e?s=t:s=e0(n,e,t);let c=Jw(Yw(s));return new Ti(c,o,r)}function e0(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=e0(o,e,t)}),new Pe(n.segments,i)}var nu=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&tu(i[0]))throw new Ue(4003,!1);let r=i.find(vc);if(r&&r!==$w(i))throw new Ue(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ok(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new nu(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([d,m])=>{c[d]=typeof m=="string"?m.split("/"):m}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((c,d)=>{d==0&&c==="."||(d==0&&c===""?t=!0:c===".."?e++:c!=""&&r.push(c))}),r):[...r,o]},[]);return new nu(t,e,i)}var Cs=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function sk(n,e,t){if(n.isAbsolute)return new Cs(e,!0,0);if(!t)return new Cs(e,!1,NaN);if(t.parent===null)return new Cs(t,!0,0);let i=tu(n.commands[0])?0:1,r=t.segments.length-1+i;return ak(t,r,n.numberOfDoubleDots)}function ak(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Ue(4005,!1);r=i.segments.length}return new Cs(i,!1,r-o)}function ck(n){return vc(n[0])?n[0].outlets:{[fe]:n}}function t0(n,e,t){if(n??=new Pe([],{}),n.segments.length===0&&n.hasChildren())return pc(n,e,t);let i=lk(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Pe(n.segments.slice(0,i.pathIndex),{});return o.children[fe]=new Pe(n.segments.slice(i.pathIndex),n.children),pc(o,0,r)}else return i.match&&r.length===0?new Pe(n.segments,{}):i.match&&!n.hasChildren()?jf(n,e,t):i.match?pc(n,0,r):jf(n,e,t)}function pc(n,e,t){if(t.length===0)return new Pe(n.segments,{});{let i=ck(t),r={};if(Object.keys(i).some(o=>o!==fe)&&n.children[fe]&&n.numberOfChildren===1&&n.children[fe].segments.length===0){let o=pc(n.children[fe],e,t);return new Pe(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=t0(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Pe(n.segments,r)}}function lk(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],c=t[i];if(vc(c))break;let d=`${c}`,m=i<t.length-1?t[i+1]:null;if(r>0&&d===void 0)break;if(d&&m&&typeof m=="object"&&m.outlets===void 0){if(!Nw(d,m,s))return o;i+=2}else{if(!Nw(d,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function jf(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(vc(o)){let d=dk(o.outlets);return new Pe(i,d)}if(r===0&&tu(t[0])){let d=n.segments[e];i.push(new po(d.path,Mw(t[0]))),r++;continue}let s=vc(o)?o.outlets[fe]:`${o}`,c=r<t.length-1?t[r+1]:null;s&&c&&tu(c)?(i.push(new po(s,Mw(c))),r+=2):(i.push(new po(s,{})),r++)}return new Pe(i,{})}function dk(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=jf(new Pe([],{}),0,i))}),e}function Mw(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function Nw(n,e,t){return n==t.path&&Xn(e,t.parameters)}var gc="imperative",yt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(yt||{}),gn=class{constructor(e,t){this.id=e,this.url=t}},Ps=class extends gn{constructor(e,t,i="imperative",r=null){super(e,t),this.type=yt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zn=class extends gn{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=yt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},dn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(dn||{}),iu=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(iu||{}),xi=class extends gn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=yt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xr=class extends gn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=yt.NavigationSkipped}},_c=class extends gn{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=yt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ru=class extends gn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=yt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bf=class extends gn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=yt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zf=class extends gn{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=yt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$f=class extends gn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=yt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qf=class extends gn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=yt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hf=class{constructor(e){this.route=e,this.type=yt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gf=class{constructor(e){this.route=e,this.type=yt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wf=class{constructor(e){this.snapshot=e,this.type=yt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kf=class{constructor(e){this.snapshot=e,this.type=yt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qf=class{constructor(e){this.snapshot=e,this.type=yt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jf=class{constructor(e){this.snapshot=e,this.type=yt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ou=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=yt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},yc=class{},Os=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function uk(n,e){return n.providers&&!n._injector&&(n._injector=Vm(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Dn(n){return n.outlet||fe}function hk(n,e){let t=n.filter(i=>Dn(i)===e);return t.push(...n.filter(i=>Dn(i)!==e)),t}function Sc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Yf=class{get injector(){return Sc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new kc(this.rootInjector),this.attachRef=null}},kc=(()=>{let e=class e{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Yf(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)($(ao))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),su=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Xf(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=Xf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Zf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Zf(e,this._root).map(t=>t.value)}};function Xf(n,e){if(n===e.value)return e;for(let t of e.children){let i=Xf(n,t);if(i)return i}return null}function Zf(n,e){if(n===e.value)return[e];for(let t of e.children){let i=Zf(n,t);if(i.length)return i.unshift(e),i}return[]}var ln=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function As(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var au=class extends su{constructor(e,t){super(e),this.snapshot=t,cp(this,e)}toString(){return this.snapshot.toString()}};function n0(n){let e=mk(n),t=new Kt([new po("",{})]),i=new Kt({}),r=new Kt({}),o=new Kt({}),s=new Kt(""),c=new Tr(t,i,o,s,r,fe,n,e.root);return c.snapshot=e.root,new au(new ln(c,[]),e)}function mk(n){let e={},t={},i={},r="",o=new Ss([],e,i,r,t,fe,n,null,{});return new lu("",new ln(o,[]))}var Tr=class{constructor(e,t,i,r,o,s,c,d){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(ie(m=>m[Ac]))??ne(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Rs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Rs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cu(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:B(B({},e.params),n.params),data:B(B({},e.data),n.data),resolve:B(B(B(B({},n.data),e.data),r?.data),n._resolvedData)}:i={params:B({},n.params),data:B({},n.data),resolve:B(B({},n.data),n._resolvedData??{})},r&&r0(r)&&(i.resolve[Ac]=r.title),i}var Ss=class{get title(){return this.data?.[Ac]}constructor(e,t,i,r,o,s,c,d,m){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=c,this.routeConfig=d,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},lu=class extends su{constructor(e,t){super(t),this.url=e,cp(this,t)}toString(){return i0(this._root)}};function cp(n,e){e.value._routerState=n,e.children.forEach(t=>cp(n,t))}function i0(n){let e=n.children.length>0?` { ${n.children.map(i0).join(", ")} } `:"";return`${n.value}${e}`}function Mf(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Xn(e.params,t.params)||n.paramsSubject.next(t.params),jS(e.url,t.url)||n.urlSubject.next(t.url),Xn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ep(n,e){let t=Xn(n.params,e.params)&&qS(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||ep(n.parent,e.parent))}function r0(n){return typeof n.title=="string"||n.title===null}var fk=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new Lt,this.deactivateEvents=new Lt,this.attachEvents=new Lt,this.detachEvents=new Lt,this.parentContexts=H(kc),this.location=H(S_),this.changeDetector=H(bi),this.inputBinder=H(mu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ue(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Ue(4013,!1);this._activatedRoute=i;let o=this.location,c=i.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,m=new tp(i,d,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:m,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=pe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[An]});let n=e;return n})(),tp=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Tr?this.route:e===kc?this.childContexts:this.parent.get(e,t)}},mu=new J(""),Fw=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,o=ds([r.queryParams,r.params,r.data]).pipe(rn(([s,c,d],m)=>(d=B(B(B({},s),c),d),m===0?ne(d):Promise.resolve(d)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let c=H_(r.component);if(!c){this.unsubscribeFromRouteData(i);return}for(let{templateName:d}of c.inputs)i.activatedComponentRef.setInput(d,s[d])});this.outletDataSubscriptions.set(i,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})();function pk(n,e,t){let i=wc(n,e._root,t?t._root:void 0);return new au(i,e)}function wc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=gk(n,e,t);return new ln(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>wc(n,c)),s}}let i=bk(e.value),r=e.children.map(o=>wc(n,o));return new ln(i,r)}}function gk(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return wc(n,i,r);return wc(n,i)})}function bk(n){return new Tr(new Kt(n.url),new Kt(n.params),new Kt(n.queryParams),new Kt(n.fragment),new Kt(n.data),n.outlet,n.component,n)}var Ic=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},o0="ngNavigationCancelingError";function du(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=bo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=s0(!1,dn.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function s0(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[o0]=!0,t.cancellationCode=e,t}function vk(n){return a0(n)&&bo(n.url)}function a0(n){return!!n&&n[o0]}var _k=(n,e,t,i)=>ie(r=>(new np(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),np=class{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Mf(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=As(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=As(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=As(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=As(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Jf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Kf(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(Mf(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Mf(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},uu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ks=class{constructor(e,t){this.component=e,this.route=t}};function yk(n,e,t){let i=n._root,r=e?e._root:null;return mc(i,r,t,[i.value])}function wk(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ns(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!p_(n)?n:e.get(n):i}function mc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=As(e);return n.children.forEach(s=>{Ik(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>bc(c,t.getContext(s),r)),r}function Ik(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let d=Ek(s,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new uu(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?mc(n,e,c?c.children:null,i,r):mc(n,e,t,i,r),d&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new ks(c.outlet.component,s))}else s&&bc(e,c,r),r.canActivateChecks.push(new uu(i)),o.component?mc(n,null,c?c.children:null,i,r):mc(n,null,t,i,r);return r}function Ek(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!go(n.url,e.url);case"pathParamsOrQueryParamsChange":return!go(n.url,e.url)||!Xn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ep(n,e)||!Xn(n.queryParams,e.queryParams);case"paramsChange":default:return!ep(n,e)}}function bc(n,e,t){let i=As(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?bc(s,e.children.getContext(o),t):bc(s,null,t):bc(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ks(e.outlet.component,r)):t.canDeactivateChecks.push(new ks(null,r)):t.canDeactivateChecks.push(new ks(null,r))}function Rc(n){return typeof n=="function"}function xk(n){return typeof n=="boolean"}function Tk(n){return n&&Rc(n.canLoad)}function Ak(n){return n&&Rc(n.canActivate)}function Ck(n){return n&&Rc(n.canActivateChild)}function Sk(n){return n&&Rc(n.canDeactivate)}function kk(n){return n&&Rc(n.canMatch)}function c0(n){return n instanceof l_||n?.name==="EmptyError"}var Yd=Symbol("INITIAL_VALUE");function Ms(){return rn(n=>ds(n.map(e=>e.pipe(xn(1),Va(Yd)))).pipe(ie(e=>{for(let t of e)if(t!==!0){if(t===Yd)return Yd;if(t===!1||Rk(t))return t}return!0}),nn(e=>e!==Yd),xn(1)))}function Rk(n){return bo(n)||n instanceof Ic}function Dk(n,e){return tn(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ne(Me(B({},t),{guardsResult:!0})):Pk(s,i,r,n).pipe(tn(c=>c&&xk(c)?Ok(i,o,n,e):ne(c)),ie(c=>Me(B({},t),{guardsResult:c})))})}function Pk(n,e,t,i){return _t(n).pipe(tn(r=>Vk(r.component,r.route,t,e,i)),hr(r=>r!==!0,!0))}function Ok(n,e,t,i){return _t(e).pipe(dr(r=>sd(Nk(r.route.parent,i),Mk(r.route,i),Lk(n,r.path,t),Fk(n,r.route,t))),hr(r=>r!==!0,!0))}function Mk(n,e){return n!==null&&e&&e(new Qf(n)),ne(!0)}function Nk(n,e){return n!==null&&e&&e(new Wf(n)),ne(!0)}function Fk(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return ne(!0);let r=i.map(o=>Rm(()=>{let s=Sc(e)??t,c=Ns(o,s),d=Ak(c)?c.canActivate(e,n):mn(s,()=>c(e,n));return Ar(d).pipe(hr())}));return ne(r).pipe(Ms())}function Lk(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>wk(s)).filter(s=>s!==null).map(s=>Rm(()=>{let c=s.guards.map(d=>{let m=Sc(s.node)??t,b=Ns(d,m),g=Ck(b)?b.canActivateChild(i,n):mn(m,()=>b(i,n));return Ar(g).pipe(hr())});return ne(c).pipe(Ms())}));return ne(o).pipe(Ms())}function Vk(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(c=>{let d=Sc(e)??r,m=Ns(c,d),b=Sk(m)?m.canDeactivate(n,e,t,i):mn(d,()=>m(n,e,t,i));return Ar(b).pipe(hr())});return ne(s).pipe(Ms())}function Uk(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return ne(!0);let o=r.map(s=>{let c=Ns(s,n),d=Tk(c)?c.canLoad(e,t):mn(n,()=>c(e,t));return Ar(d)});return ne(o).pipe(Ms(),l0(i))}function l0(n){return Im(Ge(e=>{if(typeof e!="boolean")throw du(n,e)}),ie(e=>e===!0))}function jk(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return ne(!0);let o=r.map(s=>{let c=Ns(s,n),d=kk(c)?c.canMatch(e,t):mn(n,()=>c(e,t));return Ar(d)});return ne(o).pipe(Ms(),l0(i))}var Ec=class{constructor(e){this.segmentGroup=e||null}},xc=class extends Error{constructor(e){super(),this.urlTree=e}};function Ts(n){return so(new Ec(n))}function Bk(n){return so(new Ue(4e3,!1))}function zk(n){return so(s0(!1,dn.GuardRejected))}var ip=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ne(i);if(r.numberOfChildren>1||!r.children[fe])return Bk(`${e.redirectTo}`);r=r.children[fe]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let c=t,{queryParams:d,fragment:m,routeConfig:b,url:g,outlet:E,params:R,data:M,title:L}=r,D=mn(o,()=>c({params:R,data:M,queryParams:d,fragment:m,routeConfig:b,url:g,outlet:E,title:L}));if(D instanceof Ti)throw new xc(D);t=D}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new xc(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new Ti(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);i[r]=t[c]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([c,d])=>{s[c]=this.createSegmentGroup(e,d,i,r)}),new Pe(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new Ue(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},rp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $k(n,e,t,i,r){let o=d0(n,e,t);return o.matched?(i=uk(e,i),jk(i,e,t,r).pipe(ie(s=>s===!0?o:B({},rp)))):ne(o)}function d0(n,e,t){if(e.path==="**")return qk(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?B({},rp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||US)(t,n,e);if(!r)return B({},rp);let o={};Object.entries(r.posParams??{}).forEach(([c,d])=>{o[c]=d.path});let s=r.consumed.length>0?B(B({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function qk(n){return{matched:!0,parameters:n.length>0?$w(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Lw(n,e,t,i){return t.length>0&&Wk(n,t,i)?{segmentGroup:new Pe(e,Gk(i,new Pe(t,n.children))),slicedSegments:[]}:t.length===0&&Kk(n,t,i)?{segmentGroup:new Pe(n.segments,Hk(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Pe(n.segments,n.children),slicedSegments:t}}function Hk(n,e,t,i){let r={};for(let o of t)if(fu(n,e,o)&&!i[Dn(o)]){let s=new Pe([],{});r[Dn(o)]=s}return B(B({},i),r)}function Gk(n,e){let t={};t[fe]=e;for(let i of n)if(i.path===""&&Dn(i)!==fe){let r=new Pe([],{});t[Dn(i)]=r}return t}function Wk(n,e,t){return t.some(i=>fu(n,e,i)&&Dn(i)!==fe)}function Kk(n,e,t){return t.some(i=>fu(n,e,i))}function fu(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Qk(n,e,t){return e.length===0&&!n.children[t]}var op=class{};function Jk(n,e,t,i,r,o,s="emptyOnly"){return new sp(n,e,t,i,r,s,o).recognize()}var Yk=31,sp=class{constructor(e,t,i,r,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new ip(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Ue(4002,`'${e.segmentGroup}'`)}recognize(){let e=Lw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:t,rootSnapshot:i})=>{let r=new ln(i,t),o=new lu("",r),s=rk(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ss([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),fe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,fe,t).pipe(ie(i=>({children:i,rootSnapshot:t})),lr(i=>{if(i instanceof xc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ec?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(ie(s=>s instanceof ln?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return _t(o).pipe(dr(s=>{let c=i.children[s],d=hk(t,s);return this.processSegmentGroup(e,d,c,s,r)}),Nm((s,c)=>(s.push(...c),s)),Pm(null),h_(),tn(s=>{if(s===null)return Ts(i);let c=u0(s);return Xk(c),ne(c)}))}processSegment(e,t,i,r,o,s,c){return _t(t).pipe(dr(d=>this.processSegmentAgainstRoute(d._injector??e,t,d,i,r,o,s,c).pipe(lr(m=>{if(m instanceof Ec)return ne(null);throw m}))),hr(d=>!!d),lr(d=>{if(c0(d))return Qk(i,r,o)?ne(new op):Ts(i);throw d}))}processSegmentAgainstRoute(e,t,i,r,o,s,c,d){return Dn(i)!==s&&(s===fe||!fu(r,o,i))?Ts(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,d):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,d):Ts(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,c){let{matched:d,parameters:m,consumedSegments:b,positionalParamSegments:g,remainingSegments:E}=d0(t,r,o);if(!d)return Ts(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Yk&&(this.allowRedirects=!1));let R=new Ss(o,m,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Vw(r),Dn(r),r.component??r._loadedComponent??null,r,Uw(r)),M=cu(R,c,this.paramsInheritanceStrategy);R.params=Object.freeze(M.params),R.data=Object.freeze(M.data);let L=this.applyRedirects.applyRedirectCommands(b,r.redirectTo,g,R,e);return this.applyRedirects.lineralizeSegments(r,L).pipe(tn(D=>this.processSegment(e,i,t,D.concat(E),s,!1,c)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let c=$k(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),c.pipe(rn(d=>d.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(rn(({routes:m})=>{let b=i._loadedInjector??e,{parameters:g,consumedSegments:E,remainingSegments:R}=d,M=new Ss(E,g,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Vw(i),Dn(i),i.component??i._loadedComponent??null,i,Uw(i)),L=cu(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(L.params),M.data=Object.freeze(L.data);let{segmentGroup:D,slicedSegments:z}=Lw(t,E,R,m);if(z.length===0&&D.hasChildren())return this.processChildren(b,m,D,M).pipe(ie(X=>new ln(M,X)));if(m.length===0&&z.length===0)return ne(new ln(M,[]));let te=Dn(i)===o;return this.processSegment(b,m,D,z,te?fe:o,!0,M).pipe(ie(X=>new ln(M,X instanceof ln?[X]:[])))}))):Ts(t)))}getChildConfig(e,t,i){return t.children?ne({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ne({routes:t._loadedRoutes,injector:t._loadedInjector}):Uk(e,t,i,this.urlSerializer).pipe(tn(r=>r?this.configLoader.loadChildren(e,t).pipe(Ge(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):zk(t))):ne({routes:[],injector:e})}};function Xk(n){n.sort((e,t)=>e.value.outlet===fe?-1:t.value.outlet===fe?1:e.value.outlet.localeCompare(t.value.outlet))}function Zk(n){let e=n.value.routeConfig;return e&&e.path===""}function u0(n){let e=[],t=new Set;for(let i of n){if(!Zk(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=u0(i.children);e.push(new ln(i.value,r))}return e.filter(i=>!t.has(i))}function Vw(n){return n.data||{}}function Uw(n){return n.resolve||{}}function eR(n,e,t,i,r,o){return tn(s=>Jk(n,e,t,i,s.extractedUrl,r,o).pipe(ie(({state:c,tree:d})=>Me(B({},s),{targetSnapshot:c,urlAfterRedirects:d}))))}function tR(n,e){return tn(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ne(t);let o=new Set(r.map(d=>d.route)),s=new Set;for(let d of o)if(!s.has(d))for(let m of h0(d))s.add(m);let c=0;return _t(s).pipe(dr(d=>o.has(d)?nR(d,i,n,e):(d.data=cu(d,d.parent,n).resolve,ne(void 0))),Ge(()=>c++),Mm(1),tn(d=>c===s.size?ne(t):Kn))})}function h0(n){let e=n.children.map(t=>h0(t)).flat();return[n,...e]}function nR(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!r0(r)&&(o[Ac]=r.title),iR(o,n,e,i).pipe(ie(s=>(n._resolvedData=s,n.data=cu(n,n.parent,t).resolve,null)))}function iR(n,e,t,i){let r=Lf(n);if(r.length===0)return ne({});let o={};return _t(r).pipe(tn(s=>rR(n[s],e,t,i).pipe(hr(),Ge(c=>{if(c instanceof Ic)throw du(new Ds,c);o[s]=c}))),Mm(1),u_(o),lr(s=>c0(s)?Kn:so(s)))}function rR(n,e,t,i){let r=Sc(e)??i,o=Ns(n,r),s=o.resolve?o.resolve(e,t):mn(r,()=>o(e,t));return Ar(s)}function Nf(n){return rn(e=>{let t=n(e);return t?_t(t).pipe(ie(()=>e)):ne(e)})}var m0=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===fe);return r}getResolvedTitleForRoute(i){return i.data[Ac]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:()=>H(oR),providedIn:"root"});let n=e;return n})(),oR=(()=>{let e=class e extends m0{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)($(Rw))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Dc=new J("",{providedIn:"root",factory:()=>({})}),sR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Re({type:e,selectors:[["ng-component"]],standalone:!0,features:[dt],decls:1,vars:0,template:function(r,o){r&1&&Ie(0,"router-outlet")},dependencies:[fk],encapsulation:2});let n=e;return n})();function lp(n){let e=n.children&&n.children.map(lp),t=e?Me(B({},n),{children:e}):B({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==fe&&(t.component=sR),t}var Tc=new J(""),dp=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=H(bd)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return ne(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Ar(i.loadComponent()).pipe(ie(f0),Ge(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),ur(()=>{this.componentLoaders.delete(i)})),o=new xm(r,()=>new He).pipe(Em());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=aR(r,this.compiler,i,this.onLoadEndListener).pipe(ur(()=>{this.childrenLoaders.delete(r)})),c=new xm(s,()=>new He).pipe(Em());return this.childrenLoaders.set(r,c),c}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function aR(n,e,t,i){return Ar(n.loadChildren()).pipe(ie(f0),tn(r=>r instanceof R_||Array.isArray(r)?ne(r):_t(e.compileModuleAsync(r))),ie(r=>{i&&i(n);let o,s,c=!1;return Array.isArray(r)?(s=r,c=!0):(o=r.create(t).injector,s=o.get(Tc,[],{optional:!0,self:!0}).flat()),{routes:s.map(lp),injector:o}}))}function cR(n){return n&&typeof n=="object"&&"default"in n}function f0(n){return cR(n)?n.default:n}var up=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:()=>H(lR),providedIn:"root"});let n=e;return n})(),lR=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),p0=new J(""),g0=new J("");function dR(n,e,t){let i=n.get(g0),r=n.get(ke);return n.get(ce).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(m=>setTimeout(m));let o,s=new Promise(m=>{o=m}),c=r.startViewTransition(()=>(o(),uR(n))),{onViewTransitionCreated:d}=i;return d&&mn(n,()=>d({transition:c,from:e,to:t})),s})}function uR(n){return new Promise(e=>{Um({read:()=>setTimeout(e)},{injector:n})})}var hR=new J(""),hp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new He,this.transitionAbortSubject=new He,this.configLoader=H(dp),this.environmentInjector=H(ao),this.urlSerializer=H(Cc),this.rootContexts=H(kc),this.location=H(Ga),this.inputBindingEnabled=H(mu,{optional:!0})!==null,this.titleStrategy=H(m0),this.options=H(Dc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=H(up),this.createViewTransition=H(p0,{optional:!0}),this.navigationErrorHandler=H(hR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null;let i=o=>this.events.next(new Hf(o)),r=o=>this.events.next(new Gf(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Me(B(B({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new Kt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:gc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(nn(s=>s.id!==0),ie(s=>Me(B({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),rn(s=>{let c=!1,d=!1;return ne(s).pipe(rn(m=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",dn.SupersededByNewNavigation),Kn;this.currentTransition=s,this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,targetBrowserUrl:typeof m.extras.browserUrl=="string"?this.urlSerializer.parse(m.extras.browserUrl):m.extras.browserUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Me(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let b=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=m.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!b&&g!=="reload"){let E="";return this.events.next(new xr(m.id,this.urlSerializer.serialize(m.rawUrl),E,iu.IgnoredSameUrlNavigation)),m.resolve(!1),Kn}if(this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return ne(m).pipe(rn(E=>{let R=this.transitions?.getValue();return this.events.next(new Ps(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),R!==this.transitions?.getValue()?Kn:Promise.resolve(E)}),eR(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(E=>{s.targetSnapshot=E.targetSnapshot,s.urlAfterRedirects=E.urlAfterRedirects,this.currentNavigation=Me(B({},this.currentNavigation),{finalUrl:E.urlAfterRedirects});let R=new ru(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(R)}));if(b&&this.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){let{id:E,extractedUrl:R,source:M,restoredState:L,extras:D}=m,z=new Ps(E,this.urlSerializer.serialize(R),M,L);this.events.next(z);let te=n0(this.rootComponentType).snapshot;return this.currentTransition=s=Me(B({},m),{targetSnapshot:te,urlAfterRedirects:R,extras:Me(B({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=R,ne(s)}else{let E="";return this.events.next(new xr(m.id,this.urlSerializer.serialize(m.extractedUrl),E,iu.IgnoredByUrlHandlingStrategy)),m.resolve(!1),Kn}}),Ge(m=>{let b=new Bf(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}),ie(m=>(this.currentTransition=s=Me(B({},m),{guards:yk(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),s)),Dk(this.environmentInjector,m=>this.events.next(m)),Ge(m=>{if(s.guardsResult=m.guardsResult,m.guardsResult&&typeof m.guardsResult!="boolean")throw du(this.urlSerializer,m.guardsResult);let b=new zf(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(b)}),nn(m=>m.guardsResult?!0:(this.cancelNavigationTransition(m,"",dn.GuardRejected),!1)),Nf(m=>{if(m.guards.canActivateChecks.length)return ne(m).pipe(Ge(b=>{let g=new $f(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(g)}),rn(b=>{let g=!1;return ne(b).pipe(tR(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(b,"",dn.NoDataFromResolver)}}))}),Ge(b=>{let g=new qf(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(g)}))}),Nf(m=>{let b=g=>{let E=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(g.routeConfig).pipe(Ge(R=>{g.component=R}),ie(()=>{})));for(let R of g.children)E.push(...b(R));return E};return ds(b(m.targetSnapshot.root)).pipe(Pm(null),xn(1))}),Nf(()=>this.afterPreactivation()),rn(()=>{let{currentSnapshot:m,targetSnapshot:b}=s,g=this.createViewTransition?.(this.environmentInjector,m.root,b.root);return g?_t(g).pipe(ie(()=>s)):ne(s)}),ie(m=>{let b=pk(i.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=s=Me(B({},m),{targetRouterState:b}),this.currentNavigation.targetRouterState=b,s}),Ge(()=>{this.events.next(new yc)}),_k(this.rootContexts,i.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),xn(1),Ge({next:m=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zn(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),this.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{c=!0}}),Tn(this.transitionAbortSubject.pipe(Ge(m=>{throw m}))),ur(()=>{!c&&!d&&this.cancelNavigationTransition(s,"",dn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),lr(m=>{if(d=!0,a0(m))this.events.next(new xi(s.id,this.urlSerializer.serialize(s.extractedUrl),m.message,m.cancellationCode)),vk(m)?this.events.next(new Os(m.url,m.navigationBehaviorOptions)):s.resolve(!1);else{let b=new _c(s.id,this.urlSerializer.serialize(s.extractedUrl),m,s.targetSnapshot??void 0);try{let g=mn(this.environmentInjector,()=>this.navigationErrorHandler?.(b));if(g instanceof Ic){let{message:E,cancellationCode:R}=du(this.urlSerializer,g);this.events.next(new xi(s.id,this.urlSerializer.serialize(s.extractedUrl),E,R)),this.events.next(new Os(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(b);let E=i.errorHandler(m);s.resolve(!!E)}}catch(g){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(g)}}return Kn}))}))}cancelNavigationTransition(i,r,o){let s=new xi(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function mR(n){return n!==gc}var fR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:()=>H(pR),providedIn:"root"});let n=e;return n})(),ap=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},pR=(()=>{let e=class e extends ap{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=hs(e)))(o||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),b0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:()=>H(gR),providedIn:"root"});let n=e;return n})(),gR=(()=>{let e=class e extends b0{constructor(){super(...arguments),this.location=H(Ga),this.urlSerializer=H(Cc),this.options=H(Dc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=H(up),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ti,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=n0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Ps)this.stateMemento=this.createStateMemento();else if(i instanceof xr)this.rawUrlTree=r.initialUrl;else if(i instanceof ru){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else i instanceof yc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof xi&&(i.code===dn.GuardRejected||i.code===dn.NoDataFromResolver)?this.restoreHistory(r):i instanceof _c?this.restoreHistory(r,!0):i instanceof Zn&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=i instanceof Ti?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,c=B(B({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",c)}else{let s=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=hs(e)))(o||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),fc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(fc||{});function v0(n,e){n.events.pipe(nn(t=>t instanceof Zn||t instanceof xi||t instanceof _c||t instanceof xr),ie(t=>t instanceof Zn||t instanceof xr?fc.COMPLETE:(t instanceof xi?t.code===dn.Redirect||t.code===dn.SupersededByNewNavigation:!1)?fc.REDIRECTING:fc.FAILED),nn(t=>t!==fc.REDIRECTING),xn(1)).subscribe(()=>{e()})}function bR(n){throw n}var vR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_R={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Pn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=H(md),this.stateManager=H(b0),this.options=H(Dc,{optional:!0})||{},this.pendingTasks=H(ld),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=H(hp),this.urlSerializer=H(Cc),this.location=H(Ga),this.urlHandlingStrategy=H(up),this._events=new He,this.errorHandler=this.options.errorHandler||bR,this.navigated=!1,this.routeReuseStrategy=H(fR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=H(Tc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!H(mu,{optional:!0}),this.eventsSubscription=new oo,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof xi&&r.code!==dn.Redirect&&r.code!==dn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Zn)this.navigated=!0;else if(r instanceof Os){let c=r.navigationBehaviorOptions,d=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),m=B({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mR(o.source)},c);this.scheduleNavigation(d,gc,null,m,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}wR(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),gc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let m=B({},o);delete m.navigationId,delete m.\u0275routerPageId,Object.keys(m).length!==0&&(s.state=m)}let d=this.parseUrl(i);this.scheduleNavigation(d,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(lp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:m}=r,b=m?this.currentUrlTree.fragment:c,g=null;switch(d??this.options.defaultQueryParamsHandling){case"merge":g=B(B({},this.currentUrlTree.queryParams),s);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}g!==null&&(g=this.removeEmptyProps(g));let E;try{let R=o?o.snapshot:this.routerState.snapshot.root;E=Xw(R)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),E=this.currentUrlTree.root}return Zw(E,i,g,b??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=bo(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,gc,null,r)}navigate(i,r={skipLocationChange:!1}){return yR(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=B({},vR):r===!1?o=B({},_R):o=r,bo(i))return Pw(this.currentUrlTree,i,o);let s=this.parseUrl(i);return Pw(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,c){if(this.disposed)return Promise.resolve(!1);let d,m,b;c?(d=c.resolve,m=c.reject,b=c.promise):b=new Promise((E,R)=>{d=E,m=R});let g=this.pendingTasks.add();return v0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:d,reject:m,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(E=>Promise.reject(E))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function yR(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Ue(4008,!1)}function wR(n){return!(n instanceof yc)&&!(n instanceof Os)}var lj=(()=>{let e=class e{constructor(i,r,o,s,c,d){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=c,this.locationStrategy=d,this.href=null,this.onChanges=new He,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let m=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=m==="a"||m==="area",this.isAnchorElement?this.subscription=i.events.subscribe(b=>{b instanceof Zn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(bo(i)?this.routerLinkInput=i:this.routerLinkInput=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0"))}onClick(i,r,o,s,c){let d=this.urlTree;if(d===null||this.isAnchorElement&&(i!==0||r||o||s||c||typeof this.target=="string"&&this.target!="_self"))return!0;let m={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,m),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:A_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,i,r):o.removeAttribute(s,i)}get urlTree(){return this.routerLinkInput===null?null:bo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(F(Pn),F(Tr),ja("tabindex"),F($a),F(Ne),F(Ha))},e.\u0275dir=pe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&ge("click",function(c){return o.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),r&2&&kt("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ut],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ut],replaceUrl:[2,"replaceUrl","replaceUrl",Ut],routerLink:"routerLink"},standalone:!0,features:[Sn,An]});let n=e;return n})();var hu=class{};var IR=(()=>{let e=class e{constructor(i,r,o,s,c){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(nn(i=>i instanceof Zn),dr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Vm(s.providers,i,`Route: ${s.path}`));let c=s._injector??i,d=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(d,s.children??s._loadedRoutes))}return _t(o).pipe(km())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(i,r):o=ne(null);let s=o.pipe(tn(c=>c===null?ne(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??i,c.routes))));if(r.loadComponent&&!r._loadedComponent){let c=this.loader.loadComponent(r);return _t([s,c]).pipe(km())}else return s})}};e.\u0275fac=function(r){return new(r||e)($(Pn),$(bd),$(ao),$(hu),$(dp))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),_0=new J(""),ER=(()=>{let e=class e{constructor(i,r,o,s,c={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Ps?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Zn?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof xr&&i.code===iu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof ou&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ou(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){ud()},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})();function dj(n,...e){return on([{provide:Tc,multi:!0,useValue:n},[],{provide:Tr,useFactory:y0,deps:[Pn]},{provide:pd,multi:!0,useFactory:w0},e.map(t=>t.\u0275providers)])}function y0(n){return n.routerState.root}function Pc(n,e){return{\u0275kind:n,\u0275providers:e}}function w0(){let n=H(qt);return e=>{let t=n.get(gd);if(e!==t.components[0])return;let i=n.get(Pn),r=n.get(I0);n.get(mp)===1&&i.initialNavigation(),n.get(E0,null,Fm.Optional)?.setUpPreloading(),n.get(_0,null,Fm.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var I0=new J("",{factory:()=>new He}),mp=new J("",{providedIn:"root",factory:()=>1});function xR(){return Pc(2,[{provide:mp,useValue:0},{provide:$m,multi:!0,deps:[qt],useFactory:e=>{let t=e.get(K_,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(Pn),o=e.get(I0);v0(r,()=>{i(!0)}),e.get(hp).afterPreactivation=()=>(i(!0),o.closed?ne(void 0):o),r.initialNavigation()}))}}])}function TR(){return Pc(3,[{provide:$m,multi:!0,useFactory:()=>{let e=H(Pn);return()=>{e.setUpLocationChangeListener()}}},{provide:mp,useValue:2}])}var E0=new J("");function AR(n){return Pc(0,[{provide:E0,useExisting:IR},{provide:hu,useExisting:n}])}function CR(){return Pc(8,[Fw,{provide:mu,useExisting:Fw}])}function SR(n){let e=[{provide:p0,useValue:dR},{provide:g0,useValue:B({skipNextTransition:!!n?.skipInitialTransition},n)}];return Pc(9,e)}var jw=new J("ROUTER_FORROOT_GUARD"),kR=[Ga,{provide:Cc,useClass:Ds},Pn,kc,{provide:Tr,useFactory:y0,deps:[Pn]},dp,[]],Oc=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[kR,[],{provide:Tc,multi:!0,useValue:i},{provide:jw,useFactory:OR,deps:[[Pn,new nt,new Lm]]},{provide:Dc,useValue:r||{}},r?.useHash?DR():PR(),RR(),r?.preloadingStrategy?AR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?MR(r):[],r?.bindToComponentInputs?CR().\u0275providers:[],r?.enableViewTransitions?SR().\u0275providers:[],NR()]}}static forChild(i){return{ngModule:e,providers:[{provide:Tc,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)($(jw,8))},e.\u0275mod=me({type:e}),e.\u0275inj=he({});let n=e;return n})();function RR(){return{provide:_0,useFactory:()=>{let n=H(ey),e=H(ce),t=H(Dc),i=H(hp),r=H(Cc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new ER(r,i,n,e,t)}}}function DR(){return{provide:Ha,useClass:J_}}function PR(){return{provide:Ha,useClass:Q_}}function OR(n){return"guarded"}function MR(n){return[n.initialNavigation==="disabled"?TR().\u0275providers:[],n.initialNavigation==="enabledBlocking"?xR().\u0275providers:[]]}var Bw=new J("");function NR(){return[{provide:Bw,useFactory:w0},{provide:pd,multi:!0,useExisting:Bw}]}var PT=ls(vo());var DT=ls(vo());var LR=["*"],pu;function VR(){if(pu===void 0&&(pu=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(pu=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return pu}function Mc(n){return VR()?.createHTML(n)||n}function x0(n){return Error(`Unable to find icon with the name "${n}"`)}function UR(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function T0(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function A0(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Ai=class{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}},jR=(()=>{let e=class e{constructor(i,r,o,s){this._httpClient=i,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(i,r,o){return this.addSvgIconInNamespace("",i,r,o)}addSvgIconLiteral(i,r,o){return this.addSvgIconLiteralInNamespace("",i,r,o)}addSvgIconInNamespace(i,r,o,s){return this._addSvgIconConfig(i,r,new Ai(o,null,s))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,r,o,s){let c=this._sanitizer.sanitize(sn.HTML,o);if(!c)throw A0(o);let d=Mc(c);return this._addSvgIconConfig(i,r,new Ai("",d,s))}addSvgIconSet(i,r){return this.addSvgIconSetInNamespace("",i,r)}addSvgIconSetLiteral(i,r){return this.addSvgIconSetLiteralInNamespace("",i,r)}addSvgIconSetInNamespace(i,r,o){return this._addSvgIconSetConfig(i,new Ai(r,null,o))}addSvgIconSetLiteralInNamespace(i,r,o){let s=this._sanitizer.sanitize(sn.HTML,r);if(!s)throw A0(r);let c=Mc(s);return this._addSvgIconSetConfig(i,new Ai("",c,o))}registerFontClassAlias(i,r=i){return this._fontCssClassesByAlias.set(i,r),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){let r=this._sanitizer.sanitize(sn.RESOURCE_URL,i);if(!r)throw T0(i);let o=this._cachedIconsByUrl.get(r);return o?ne(gu(o)):this._loadSvgIconFromConfig(new Ai(i,null)).pipe(Ge(s=>this._cachedIconsByUrl.set(r,s)),ie(s=>gu(s)))}getNamedSvgIcon(i,r=""){let o=C0(r,i),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,i),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(i,c):so(x0(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?ne(gu(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(ie(r=>gu(r)))}_getSvgFromIconSetConfigs(i,r){let o=this._extractIconWithNameFromAnySet(i,r);if(o)return ne(o);let s=r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(lr(d=>{let b=`Loading icon set URL: ${this._sanitizer.sanitize(sn.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(b)),ne(null)})));return ad(s).pipe(ie(()=>{let c=this._extractIconWithNameFromAnySet(i,r);if(!c)throw x0(i);return c}))}_extractIconWithNameFromAnySet(i,r){for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.svgText&&s.svgText.toString().indexOf(i)>-1){let c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,i,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(Ge(r=>i.svgText=r),ie(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?ne(null):this._fetchIcon(i).pipe(Ge(r=>i.svgText=r))}_extractSvgIconFromSet(i,r,o){let s=i.querySelector(`[id="${r}"]`);if(!s)return null;let c=s.cloneNode(!0);if(c.removeAttribute("id"),c.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(c,o);if(c.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(c),o);let d=this._svgElementFromString(Mc("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,o)}_svgElementFromString(i){let r=this._document.createElement("DIV");r.innerHTML=i;let o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(i){let r=this._svgElementFromString(Mc("<svg></svg>")),o=i.attributes;for(let s=0;s<o.length;s++){let{name:c,value:d}=o[s];c!=="id"&&r.setAttribute(c,d)}for(let s=0;s<i.childNodes.length;s++)i.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(i.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(i,r){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),r&&r.viewBox&&i.setAttribute("viewBox",r.viewBox),i}_fetchIcon(i){let{url:r,options:o}=i,s=o?.withCredentials??!1;if(!this._httpClient)throw UR();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let c=this._sanitizer.sanitize(sn.RESOURCE_URL,r);if(!c)throw T0(r);let d=this._inProgressUrlFetches.get(c);if(d)return d;let m=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe(ie(b=>Mc(b)),ur(()=>this._inProgressUrlFetches.delete(c)),m_());return this._inProgressUrlFetches.set(c,m),m}_addSvgIconConfig(i,r,o){return this._svgIconConfigs.set(C0(i,r),o),this}_addSvgIconSetConfig(i,r){let o=this._iconSetConfigs.get(i);return o?o.push(r):this._iconSetConfigs.set(i,[r]),this}_svgElementFromConfig(i){if(!i.svgElement){let r=this._svgElementFromString(i.svgText);this._setSvgAttributes(r,i.options),i.svgElement=r}return i.svgElement}_getIconConfigFromResolvers(i,r){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](r,i);if(s)return BR(s)?new Ai(s.url,null,s.options):new Ai(s,null)}}};e.\u0275fac=function(r){return new(r||e)($(Rn,8),$(Df),$(ke,8),$(co))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function gu(n){return n.cloneNode(!0)}function C0(n,e){return n+":"+e}function BR(n){return!!(n.url&&n.options)}var zR=new J("MAT_ICON_DEFAULT_OPTIONS"),$R=new J("mat-icon-location",{providedIn:"root",factory:qR});function qR(){let n=H(ke),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var S0=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],HR=S0.map(n=>`[${n}]`).join(", "),GR=/^url\(['"]?#(.*?)['"]?\)$/,bu=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(i){this._color=i}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){let r=this._cleanupFontValue(i);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){let r=this._cleanupFontValue(i);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(i,r,o,s,c,d){this._elementRef=i,this._iconRegistry=r,this._location=s,this._errorHandler=c,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=oo.EMPTY,d&&(d.color&&(this.color=this._defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),o||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];let r=i.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let i=this._elementsWithExternalReferences;if(i&&i.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){let i=this._elementRef.nativeElement,r=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let o=i.childNodes[r];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let i=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>i.classList.remove(o)),r.forEach(o=>i.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return typeof i=="string"?i.trim().split(" ")[0]:i}_prependPathToReferences(i){let r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(c=>{s.setAttribute(c.name,`url('${i}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(i){let r=i.querySelectorAll(HR),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)S0.forEach(c=>{let d=r[s],m=d.getAttribute(c),b=m?m.match(GR):null;if(b){let g=o.get(d);g||(g=[],o.set(d,g)),g.push({name:c,value:b[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){let[r,o]=this._splitIconName(i);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(xn(1)).subscribe(s=>this._setSvgElement(s),s=>{let c=`Error retrieving icon ${r}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(c))})}}};e.\u0275fac=function(r){return new(r||e)(F(Ne),F(jR),ja("aria-hidden"),F($R),F(co),F(zR,8))},e.\u0275cmp=Re({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,o){r&2&&(kt("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),uo(o.color?"mat-"+o.color:""),Ve("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Ut],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Sn,dt],ngContentSelectors:LR,decls:1,vars:0,template:function(r,o){r&1&&(Ht(),De(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let n=e;return n})(),vu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Be,Be]});let n=e;return n})();var WR=["*",[["mat-toolbar-row"]]],KR=["*","mat-toolbar-row"],QR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=pe({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let n=e;return n})(),R0=(()=>{let e=class e{constructor(i,r,o){this._elementRef=i,this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};e.\u0275fac=function(r){return new(r||e)(F(Ne),F(Xe),F(ke))},e.\u0275cmp=Re({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,o,s){if(r&1&&Qn(s,QR,5),r&2){let c;at(c=ct())&&(o._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){r&2&&(uo(o.color?"mat-"+o.color:""),Ve("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[dt],ngContentSelectors:KR,decls:2,vars:0,template:function(r,o){r&1&&(Ht(WR),De(0),De(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let n=e;return n})();var D0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Be,Be]});let n=e;return n})();var P0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Be,Be]});let n=e;return n})();var _u=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Id,kn,Be,Sd,Ay,P0]});let n=e;return n})();var M0=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},YR=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=n[t++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=n[t++],s=n[t++],c=n[t++],d=((r&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{let o=n[t++],s=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},N0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let o=n[r],s=r+1<n.length,c=s?n[r+1]:0,d=r+2<n.length,m=d?n[r+2]:0,b=o>>2,g=(o&3)<<4|c>>4,E=(c&15)<<2|m>>6,R=m&63;d||(R=64,s||(E=64)),i.push(t[b],t[g],t[E],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(M0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let o=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;let m=r<n.length?t[n.charAt(r)]:64;++r;let g=r<n.length?t[n.charAt(r)]:64;if(++r,o==null||c==null||m==null||g==null)throw new gp;let E=o<<2|c>>4;if(i.push(E),m!==64){let R=c<<4&240|m>>2;if(i.push(R),g!==64){let M=m<<6&192|g;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},gp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},XR=function(n){let e=M0(n);return N0.encodeByteArray(e,!0)},Nc=function(n){return XR(n).replace(/\./g,"")},vp=function(n){try{return N0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var eD=()=>ZR().__FIREBASE_DEFAULTS__,tD=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&vp(n[1]);return e&&JSON.parse(e)},wu=()=>{try{return eD()||tD()||nD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_p=n=>{var e,t;return(t=(e=wu())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Iu=n=>{let e=_p(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},yp=()=>{var n;return(n=wu())===null||n===void 0?void 0:n.config},wp=n=>{var e;return(e=wu())===null||e===void 0?void 0:e[`_${n}`]};var yu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function Eu(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Nc(JSON.stringify(t)),Nc(JSON.stringify(s)),""].join(".")}function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function iD(){var n;let e=(n=wu())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L0(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function V0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U0(){let n=wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function j0(){return!iD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ip(){try{return typeof indexedDB=="object"}catch{return!1}}function B0(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var rD="FirebaseError",Gt=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=rD,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ci.prototype.create)}},Ci=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?oD(o,i):"Error",c=`${this.serviceName}: ${s} (${r}).`;return new Gt(r,c,i)}};function oD(n,e){return n.replace(sD,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var sD=/\{\$([^}]+)}/g;function z0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _o(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let o=n[r],s=e[r];if(O0(o)&&O0(s)){if(!_o(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function O0(n){return n!==null&&typeof n=="object"}function Fc(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Fs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Ls(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function $0(n,e){let t=new bp(n,e);return t.subscribe.bind(t)}var bp=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");aD(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=pp),r.error===void 0&&(r.error=pp),r.complete===void 0&&(r.complete=pp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function aD(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function pp(){}var Lj=4*60*60*1e3;function Ze(n){return n&&n._delegate?n._delegate:n}var Qt=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var yo="[DEFAULT]";var Ep=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new yu;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lD(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return x(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);i===c&&s.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:cD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cD(n){return n===yo?void 0:n}function lD(n){return n.instantiationMode==="EAGER"}var xu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Ep(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var dD=[],ve=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ve||{}),uD={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},hD=ve.INFO,mD={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},fD=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=mD[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Cr=class{constructor(e){this.name=e,this._logLevel=hD,this._logHandler=fD,this._userLogHandler=null,dD.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var pD=(n,e)=>e.some(t=>n instanceof t),q0,H0;function gD(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bD(){return H0||(H0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var G0=new WeakMap,Tp=new WeakMap,W0=new WeakMap,xp=new WeakMap,Cp=new WeakMap;function vD(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ti(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&G0.set(t,n)}).catch(()=>{}),Cp.set(e,n),e}function _D(n){if(Tp.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Tp.set(n,e)}var Ap={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Tp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||W0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ti(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function K0(n){Ap=n(Ap)}function yD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(Tu(this),e,...t);return W0.set(i,e.sort?e.sort():[e]),ti(i)}:bD().includes(n)?function(...e){return n.apply(Tu(this),e),ti(G0.get(this))}:function(...e){return ti(n.apply(Tu(this),e))}}function wD(n){return typeof n=="function"?yD(n):(n instanceof IDBTransaction&&_D(n),pD(n,gD())?new Proxy(n,Ap):n)}function ti(n){if(n instanceof IDBRequest)return vD(n);if(xp.has(n))return xp.get(n);let e=wD(n);return e!==n&&(xp.set(n,e),Cp.set(e,n)),e}var Tu=n=>Cp.get(n);function J0(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(n,e),c=ti(s);return i&&s.addEventListener("upgradeneeded",d=>{i(ti(s.result),d.oldVersion,d.newVersion,ti(s.transaction),d)}),t&&s.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),c}var ID=["get","getKey","getAll","getAllKeys","count"],ED=["put","add","delete","clear"],Sp=new Map;function Q0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Sp.get(e))return Sp.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=ED.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||ID.includes(t)))return;let o=function(s,...c){return x(this,null,function*(){let d=this.transaction(s,r?"readwrite":"readonly"),m=d.store;return i&&(m=m.index(c.shift())),(yield Promise.all([m[t](...c),r&&d.done]))[0]})};return Sp.set(e,o),o}K0(n=>Me(B({},n),{get:(e,t,i)=>Q0(e,t)||n.get(e,t,i),has:(e,t)=>!!Q0(e,t)||n.has(e,t)}));var Rp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(xD(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function xD(n){let e=n.getComponent();return e?.type==="VERSION"}var Dp="@firebase/app",Y0="0.10.10";var Si=new Cr("@firebase/app"),TD="@firebase/app-compat",AD="@firebase/analytics-compat",CD="@firebase/analytics",SD="@firebase/app-check-compat",kD="@firebase/app-check",RD="@firebase/auth",DD="@firebase/auth-compat",PD="@firebase/database",OD="@firebase/database-compat",MD="@firebase/functions",ND="@firebase/functions-compat",FD="@firebase/installations",LD="@firebase/installations-compat",VD="@firebase/messaging",UD="@firebase/messaging-compat",jD="@firebase/performance",BD="@firebase/performance-compat",zD="@firebase/remote-config",$D="@firebase/remote-config-compat",qD="@firebase/storage",HD="@firebase/storage-compat",GD="@firebase/firestore",WD="@firebase/vertexai-preview",KD="@firebase/firestore-compat",QD="firebase",JD="10.13.1";var Pp="[DEFAULT]",YD={[Dp]:"fire-core",[TD]:"fire-core-compat",[CD]:"fire-analytics",[AD]:"fire-analytics-compat",[kD]:"fire-app-check",[SD]:"fire-app-check-compat",[RD]:"fire-auth",[DD]:"fire-auth-compat",[PD]:"fire-rtdb",[OD]:"fire-rtdb-compat",[MD]:"fire-fn",[ND]:"fire-fn-compat",[FD]:"fire-iid",[LD]:"fire-iid-compat",[VD]:"fire-fcm",[UD]:"fire-fcm-compat",[jD]:"fire-perf",[BD]:"fire-perf-compat",[zD]:"fire-rc",[$D]:"fire-rc-compat",[qD]:"fire-gcs",[HD]:"fire-gcs-compat",[GD]:"fire-fst",[KD]:"fire-fst-compat",[WD]:"fire-vertex","fire-js":"fire-js",[QD]:"fire-js-all"};var Lc=new Map,XD=new Map,Op=new Map;function X0(n,e){try{n.container.addComponent(e)}catch(t){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ni(n){let e=n.name;if(Op.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;Op.set(e,n);for(let t of Lc.values())X0(t,n);for(let t of XD.values())X0(t,n);return!0}function wo(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function On(n){return n.settings!==void 0}var ZD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new Ci("app","Firebase",ZD);var Mp=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}};var ii=JD;function Lp(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Pp,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Sr.create("bad-app-name",{appName:String(r)});if(t||(t=yp()),!t)throw Sr.create("no-options");let o=Lc.get(r);if(o){if(_o(t,o.options)&&_o(i,o.config))return o;throw Sr.create("duplicate-app",{appName:r})}let s=new xu(r);for(let d of Op.values())s.addComponent(d);let c=new Mp(t,i,s);return Lc.set(r,c),c}function kr(n=Pp){let e=Lc.get(n);if(!e&&n===Pp&&yp())return Lp();if(!e)throw Sr.create("no-app",{appName:n});return e}function Au(){return Array.from(Lc.values())}function We(n,e,t){var i;let r=(i=YD[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(c.join(" "));return}ni(new Qt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var e1="firebase-heartbeat-database",t1=1,Vc="firebase-heartbeat-store",kp=null;function nI(){return kp||(kp=J0(e1,t1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Vc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Sr.create("idb-open",{originalErrorMessage:n.message})})),kp}function n1(n){return x(this,null,function*(){try{let t=(yield nI()).transaction(Vc),i=yield t.objectStore(Vc).get(iI(n));return yield t.done,i}catch(e){if(e instanceof Gt)Si.warn(e.message);else{let t=Sr.create("idb-get",{originalErrorMessage:e?.message});Si.warn(t.message)}}})}function Z0(n,e){return x(this,null,function*(){try{let i=(yield nI()).transaction(Vc,"readwrite");yield i.objectStore(Vc).put(e,iI(n)),yield i.done}catch(t){if(t instanceof Gt)Si.warn(t.message);else{let i=Sr.create("idb-set",{originalErrorMessage:t?.message});Si.warn(i.message)}}})}function iI(n){return`${n.name}!${n.options.appId}`}var i1=1024,r1=30*24*60*60*1e3,Np=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Fp(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return x(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=eI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=r1}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Si.warn(i)}})}getHeartbeatsHeader(){return x(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=eI(),{heartbeatsToSend:i,unsentEntries:r}=o1(this._heartbeatsCache.heartbeats),o=Nc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Si.warn(t),""}})}};function eI(){return new Date().toISOString().substring(0,10)}function o1(n,e=i1){let t=[],i=n.slice();for(let r of n){let o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),tI(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),tI(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var Fp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return x(this,null,function*(){return Ip()?B0().then(()=>!0).catch(()=>!1):!1})}read(){return x(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield n1(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function tI(n){return Nc(JSON.stringify({version:2,heartbeats:n})).length}function s1(n){ni(new Qt("platform-logger",e=>new Rp(e),"PRIVATE")),ni(new Qt("heartbeat",e=>new Np(e),"PRIVATE")),We(Dp,Y0,n),We(Dp,Y0,"esm2017"),We("fire-js","")}s1("");var a1="firebase",c1="10.13.1";We(a1,c1,"app");var ki=new gs("ANGULARFIRE2_VERSION");function Us(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Eo=(n,e)=>{let t=e?[e]:Au(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Rr=class{constructor(){return Eo(l1)}},l1="app-check";function Vs(){}var Cu=class{zone;delegate;constructor(e,t=c_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,i)}},Vp=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vs,{},Vs,Vs)),t.pipe(Ge({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Dr=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Cu(Zone.current)),this.insideAngular=t.run(()=>new Cu(Zone.current,a_)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)($(ce))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Su(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function d1(n){return Su().ngZone.runOutsideAngular(()=>n())}function Io(n){return Su().ngZone.run(()=>n())}function u1(n){return h1(Su())(n)}function h1(n){return function(t){return t=t.lift(new Vp(n.ngZone)),t.pipe(Cm(n.outsideAngular),Am(n.insideAngular))}}var m1=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Io(()=>n.apply(void 0,i))},ut=(n,e)=>function(){let t,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(t||=Io(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vs,{},Vs,Vs))),i[o]=m1(i[o],t));let r=d1(()=>n.apply(this,i));if(!e)if(r instanceof Wt){let o=Su();return r.pipe(Cm(o.outsideAngular),Am(o.insideAngular))}else return Io(()=>r);return r instanceof Wt?r.pipe(u1):r instanceof Promise?Io(()=>new Promise((o,s)=>r.then(c=>Io(()=>o(c)),c=>Io(()=>s(c))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Io(()=>r)};var Mn=class{constructor(e){return e}},Ri=class{constructor(){return Au()}};function f1(n){return n&&n.length===1?n[0]:new Mn(kr())}var Up=new J("angularfire2._apps"),p1={provide:Mn,useFactory:f1,deps:[[new nt,Up]]},g1={provide:Ri,deps:[[new nt,Up]]};function b1(n){return(e,t)=>{let i=t.get(Cn);We("angularfire",ki.full,"core"),We("angularfire",ki.full,"app"),We("angular",z_.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new Mn(r)}}function EB(n,...e){return on([p1,g1,{provide:Up,useFactory:b1(n),multi:!0,deps:[ce,qt,Dr,...e]}])}var xB=ut(Lp,!0);function yI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var wI=yI,II=new Ci("auth","Firebase",yI());var Mu=new Cr("@firebase/auth");function v1(n,...e){Mu.logLevel<=ve.WARN&&Mu.warn(`Auth (${ii}): ${n}`,...e)}function Ru(n,...e){Mu.logLevel<=ve.ERROR&&Mu.error(`Auth (${ii}): ${n}`,...e)}function oi(n,...e){throw cg(n,...e)}function xo(n,...e){return cg(n,...e)}function EI(n,e,t){let i=Object.assign(Object.assign({},wI()),{[e]:t});return new Ci("auth","Firebase",i).create(e,{appName:n.name})}function Oi(n){return EI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cg(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return II.create(n,...e)}function oe(n,e,...t){if(!n)throw cg(e,...t)}function Di(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Ru(e),new Error(e)}function Or(n,e){n||Di(e)}function $p(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function _1(){return rI()==="http:"||rI()==="https:"}function rI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function y1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_1()||L0()||"connection"in navigator)?navigator.onLine:!0}function w1(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var To=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Or(t>e,"Short delay should be less than long delay!"),this.isMobile=F0()||V0()}get(){return y1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function lg(n,e){Or(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Nu=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var I1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var E1=new To(3e4,6e4);function Mr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Nr(o,s,c,d){return x(this,arguments,function*(n,e,t,i,r={}){return xI(n,r,()=>x(this,null,function*(){let m={},b={};i&&(e==="GET"?b=i:m={body:JSON.stringify(i)});let g=Fc(Object.assign({key:n.config.apiKey},b)).slice(1),E=yield n._getAdditionalHeaders();return E["Content-Type"]="application/json",n.languageCode&&(E["X-Firebase-Locale"]=n.languageCode),Nu.fetch()(TI(n,n.config.apiHost,t,g),Object.assign({method:e,headers:E,referrerPolicy:"no-referrer"},m))}))})}function xI(n,e,t){return x(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},I1),e);try{let r=new qp(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ku(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[d,m]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ku(n,"credential-already-in-use",s);if(d==="EMAIL_EXISTS")throw ku(n,"email-already-in-use",s);if(d==="USER_DISABLED")throw ku(n,"user-disabled",s);let b=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw EI(n,b,m);oi(n,b)}}catch(r){if(r instanceof Gt)throw r;oi(n,"network-request-failed",{message:String(r)})}})}function Gc(o,s,c,d){return x(this,arguments,function*(n,e,t,i,r={}){let m=yield Nr(n,e,t,i,r);return"mfaPendingCredential"in m&&oi(n,"multi-factor-auth-required",{_serverResponse:m}),m})}function TI(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?lg(n.config,r):`${n.config.apiScheme}://${r}`}function x1(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var qp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(xo(this.auth,"network-request-failed")),E1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ku(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=xo(n,e,i);return r.customData._tokenResponse=t,r}function oI(n){return n!==void 0&&n.enterprise!==void 0}var Hp=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return x1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function T1(n,e){return x(this,null,function*(){return Nr(n,"GET","/v2/recaptchaConfig",Mr(n,e))})}function A1(n,e){return x(this,null,function*(){return Nr(n,"POST","/v1/accounts:delete",e)})}function AI(n,e){return x(this,null,function*(){return Nr(n,"POST","/v1/accounts:lookup",e)})}function Uc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function dg(n,e=!1){return x(this,null,function*(){let t=Ze(n),i=yield t.getIdToken(e),r=ug(i);oe(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Uc(jp(r.auth_time)),issuedAtTime:Uc(jp(r.iat)),expirationTime:Uc(jp(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function jp(n){return Number(n)*1e3}function ug(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Ru("JWT malformed, contained fewer than 3 sections"),null;try{let r=vp(t);return r?JSON.parse(r):(Ru("Failed to decode base64 JWT payload"),null)}catch(r){return Ru("Caught error parsing JWT payload as JSON",r?.toString()),null}}function sI(n){let e=ug(n);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Bc(n,e,t=!1){return x(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof Gt&&C1(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function C1({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Gp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>x(this,null,function*(){yield this.iteration()}),t)}iteration(){return x(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Fu(n){return x(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Bc(n,AI(t,{idToken:i}));oe(r?.users.length,t,"internal-error");let o=r.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?CI(o.providerUserInfo):[],c=S1(n.providerData,s),d=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!c?.length,b=d?m:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new zc(o.createdAt,o.lastLoginAt),isAnonymous:b};Object.assign(n,g)})}function hg(n){return x(this,null,function*(){let e=Ze(n);yield Fu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function S1(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function CI(n){return n.map(e=>{var{providerId:t}=e,i=Tm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function k1(n,e){return x(this,null,function*(){let t=yield xI(n,{},()=>x(this,null,function*(){let i=Fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=TI(n,r,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Nu.fetch()(s,{method:"POST",headers:c,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function R1(n,e){return x(this,null,function*(){return Nr(n,"POST","/v2/accounts:revokeToken",Mr(n,e))})}var jc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){oe(e.length!==0,"internal-error");let t=sI(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return x(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return x(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield k1(e,t);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new n;return i&&(oe(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(oe(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(oe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Di("not implemented")}};function Pr(n,e){oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var js=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=Tm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return x(this,null,function*(){let t=yield Bc(this,this.stsTokenManager.getToken(this.auth,e));return oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return dg(this,e)}reload(){return hg(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return x(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Fu(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return x(this,null,function*(){if(On(this.auth.app))return Promise.reject(Oi(this.auth));let e=yield this.getIdToken();return yield Bc(this,A1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,c,d,m,b;let g=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(r=t.email)!==null&&r!==void 0?r:void 0,R=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,M=(s=t.photoURL)!==null&&s!==void 0?s:void 0,L=(c=t.tenantId)!==null&&c!==void 0?c:void 0,D=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,z=(m=t.createdAt)!==null&&m!==void 0?m:void 0,te=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:X,emailVerified:Z,isAnonymous:Ce,providerData:ae,stsTokenManager:A}=t;oe(X&&A,e,"internal-error");let y=jc.fromJSON(this.name,A);oe(typeof X=="string",e,"internal-error"),Pr(g,e.name),Pr(E,e.name),oe(typeof Z=="boolean",e,"internal-error"),oe(typeof Ce=="boolean",e,"internal-error"),Pr(R,e.name),Pr(M,e.name),Pr(L,e.name),Pr(D,e.name),Pr(z,e.name),Pr(te,e.name);let w=new n({uid:X,auth:e,email:E,emailVerified:Z,displayName:g,isAnonymous:Ce,photoURL:M,phoneNumber:R,tenantId:L,stsTokenManager:y,createdAt:z,lastLoginAt:te});return ae&&Array.isArray(ae)&&(w.providerData=ae.map(T=>Object.assign({},T))),D&&(w._redirectEventId=D),w}static _fromIdTokenResponse(e,t,i=!1){return x(this,null,function*(){let r=new jc;r.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Fu(o),o})}static _fromGetAccountInfoResponse(e,t,i){return x(this,null,function*(){let r=t.users[0];oe(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?CI(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,c=new jc;c.updateFromIdToken(i);let d=new n({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:s}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new zc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,m),d})}};var aI=new Map;function Pi(n){Or(n instanceof Function,"Expected a class definition");let e=aI.get(n);return e?(Or(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,aI.set(n,e),e)}var D1=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return x(this,null,function*(){return!0})}_set(t,i){return x(this,null,function*(){this.storage[t]=i})}_get(t){return x(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return x(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),Wp=D1;function Du(n,e,t){return`firebase:${n}:${e}:${t}`}var Lu=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=Du(this.userKey,r.apiKey,o),this.fullPersistenceKey=Du("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return x(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?js._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return x(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return x(this,null,function*(){if(!t.length)return new n(Pi(Wp),e,i);let r=(yield Promise.all(t.map(m=>x(this,null,function*(){if(yield m._isAvailable())return m})))).filter(m=>m),o=r[0]||Pi(Wp),s=Du(i,e.config.apiKey,e.name),c=null;for(let m of t)try{let b=yield m._get(s);if(b){let g=js._fromJSON(e,b);m!==o&&(c=g),o=m;break}}catch{}let d=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new n(o,e,i):(o=d[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(m=>x(this,null,function*(){if(m!==o)try{yield m._remove(s)}catch{}}))),new n(o,e,i))})}};function cI(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OI(e))return"Blackberry";if(MI(e))return"Webos";if(kI(e))return"Safari";if((e.includes("chrome/")||RI(e))&&!e.includes("edge/"))return"Chrome";if(PI(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function SI(n=wt()){return/firefox\//i.test(n)}function kI(n=wt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RI(n=wt()){return/crios\//i.test(n)}function DI(n=wt()){return/iemobile/i.test(n)}function PI(n=wt()){return/android/i.test(n)}function OI(n=wt()){return/blackberry/i.test(n)}function MI(n=wt()){return/webos/i.test(n)}function mg(n=wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function P1(n=wt()){var e;return mg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function O1(){return U0()&&document.documentMode===10}function NI(n=wt()){return mg(n)||PI(n)||MI(n)||OI(n)||/windows phone/i.test(n)||DI(n)}function FI(n,e=[]){let t;switch(n){case"Browser":t=cI(wt());break;case"Worker":t=`${cI(wt())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ii}/${i}`}var Kp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=o=>new Promise((s,c)=>{try{let d=e(o);s(d)}catch(d){c(d)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return x(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function M1(t){return x(this,arguments,function*(n,e={}){return Nr(n,"GET","/v2/passwordPolicy",Mr(n,e))})}var N1=6,Qp=class{constructor(e){var t,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:N1,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,c;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(s=d.containsNumericCharacter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Jp=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vu(this),this.idTokenSubscription=new Vu(this),this.beforeStateQueue=new Kp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=II,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pi(t)),this._initializationPromise=this.queue(()=>x(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Lu.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return x(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return x(this,null,function*(){try{let t=yield AI(this,{idToken:e}),i=yield js._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return x(this,null,function*(){var t;if(On(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!s||s===c)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return x(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return x(this,null,function*(){try{yield Fu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=w1()}_delete(){return x(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return x(this,null,function*(){if(On(this.app))return Promise.reject(Oi(this));let t=e?Ze(e):null;return t&&oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return x(this,null,function*(){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>x(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return x(this,null,function*(){return On(this.app)?Promise.reject(Oi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return On(this.app)?Promise.reject(Oi(this)):this.queue(()=>x(this,null,function*(){yield this.assertedPersistence.setPersistence(Pi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return x(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return x(this,null,function*(){let e=yield M1(this),t=new Qp(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ci("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return x(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield R1(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return x(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return x(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Pi(e)||this._popupRedirectResolver;oe(t,this,"argument-error"),this.redirectPersistenceManager=yield Lu.create(this,[Pi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return x(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>x(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return x(this,null,function*(){if(e===this.currentUser)return this.queue(()=>x(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let d=e.addObserver(t,i,r);return()=>{s=!0,d()}}else{let d=e.addObserver(t);return()=>{s=!0,d()}}}directlySetCurrentUser(e){return x(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return x(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return x(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&v1(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Co(n){return Ze(n)}var Vu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=$0(t=>this.observer=t)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Hu={loadJS(){return x(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F1(n){Hu=n}function LI(n){return Hu.loadJS(n)}function L1(){return Hu.recaptchaEnterpriseScript}function V1(){return Hu.gapiScript}function VI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var U1="recaptcha-enterprise",j1="NO_RECAPTCHA",Yp=class{constructor(e){this.type=U1,this.auth=Co(e)}verify(e="verify",t=!1){return x(this,null,function*(){function i(o){return x(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,c)=>x(this,null,function*(){T1(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let m=new Hp(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,s(m.siteKey)}}).catch(d=>{c(d)})}))})}function r(o,s,c){let d=window.grecaptcha;oI(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(m=>{s(m)}).catch(()=>{s(j1)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{i(this.auth).then(c=>{if(!t&&oI(window.grecaptcha))r(c,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let d=L1();d.length!==0&&(d+=c),LI(d).then(()=>{r(c,o,s)}).catch(m=>{s(m)})}}).catch(c=>{s(c)})})})}};function lI(n,e,t,i=!1){return x(this,null,function*(){let r=new Yp(n),o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}let s=Object.assign({},e);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Xp(n,e,t,i){return x(this,null,function*(){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield lI(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(o=>x(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield lI(n,e,t,t==="getOobCode");return i(n,s)}else return Promise.reject(o)}))})}function fg(n,e){let t=wo(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),o=t.getOptions();if(_o(o,e??{}))return r;oi(r,"already-initialized")}return t.initialize({options:e})}function B1(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Pi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function pg(n,e,t){let i=Co(n);oe(i._canInitEmulator,i,"emulator-config-failed"),oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,o=UI(e),{host:s,port:c}=z1(e),d=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${s}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||$1()}function UI(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function z1(n){let e=UI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:dI(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:dI(s)}}}function dI(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function $1(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var $c=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,t){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}};function q1(n,e){return x(this,null,function*(){return Nr(n,"POST","/v1/accounts:signUp",e)})}function H1(n,e){return x(this,null,function*(){return Gc(n,"POST","/v1/accounts:signInWithPassword",Mr(n,e))})}function G1(n,e){return x(this,null,function*(){return Gc(n,"POST","/v1/accounts:signInWithEmailLink",Mr(n,e))})}function W1(n,e){return x(this,null,function*(){return Gc(n,"POST","/v1/accounts:signInWithEmailLink",Mr(n,e))})}var qc=class n extends $c{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return x(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xp(e,t,"signInWithPassword",H1);case"emailLink":return G1(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}})}_linkToIdToken(e,t){return x(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xp(e,i,"signUpPassword",q1);case"emailLink":return W1(e,{idToken:t,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Bp(n,e){return x(this,null,function*(){return Gc(n,"POST","/v1/accounts:signInWithIdp",Mr(n,e))})}function K1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Q1(n){let e=Fs(Ls(n)).link,t=e?Fs(Ls(e)).deep_link_id:null,i=Fs(Ls(n)).deep_link_id;return(i?Fs(Ls(i)).link:null)||i||t||e||n}var Uu=class n{constructor(e){var t,i,r,o,s,c;let d=Fs(Ls(e)),m=(t=d.apiKey)!==null&&t!==void 0?t:null,b=(i=d.oobCode)!==null&&i!==void 0?i:null,g=K1((r=d.mode)!==null&&r!==void 0?r:null);oe(m&&b&&g,"argument-error"),this.apiKey=m,this.operation=g,this.code=b,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=d.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let t=Q1(e);try{return new n(t)}catch{return null}}};var jI=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return qc._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=Uu.parseLink(i);return oe(r,"argument-error"),qc._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),ju=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Zp=class extends ju{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function J1(n,e){return x(this,null,function*(){return Gc(n,"POST","/v1/accounts:signUp",Mr(n,e))})}var Bs=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return x(this,null,function*(){let o=yield js._fromIdTokenResponse(e,i,r),s=uI(i);return new n({user:o,providerId:s,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return x(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=uI(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function uI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var eg=class n extends Gt{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function BI(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?eg._fromErrorAndOperation(n,o,e,i):o})}function Y1(n,e,t=!1){return x(this,null,function*(){let i=yield Bc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Bs._forOperation(n,"link",i)})}function X1(n,e,t=!1){return x(this,null,function*(){let{auth:i}=n;if(On(i.app))return Promise.reject(Oi(i));let r="reauthenticate";try{let o=yield Bc(n,BI(i,r,e,n),t);oe(o.idToken,i,"internal-error");let s=ug(o.idToken);oe(s,i,"internal-error");let{sub:c}=s;return oe(n.uid===c,i,"user-mismatch"),Bs._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&oi(i,"user-mismatch"),o}})}function zI(n,e,t=!1){return x(this,null,function*(){if(On(n.app))return Promise.reject(Oi(n));let i="signIn",r=yield BI(n,i,e),o=yield Bs._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})}function gg(n,e){return x(this,null,function*(){return zI(Co(n),e)})}function $I(n){return x(this,null,function*(){let e=Co(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function bg(n,e,t){return x(this,null,function*(){if(On(n.app))return Promise.reject(Oi(n));let i=Co(n),s=yield Xp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J1).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&$I(n),d}),c=yield Bs._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(c.user),c})}function vg(n,e,t){return On(n.app)?Promise.reject(Oi(n)):gg(Ze(n),jI.credential(e,t)).catch(i=>x(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&$I(n),i}))}function _g(n,e,t,i){return Ze(n).onIdTokenChanged(e,t,i)}function yg(n,e,t){return Ze(n).beforeAuthStateChanged(e,t)}function wg(n,e,t,i){return Ze(n).onAuthStateChanged(e,t,i)}function Ig(n){return Ze(n).signOut()}var Bu="__sak";var zu=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bu,"1"),this.storage.removeItem(Bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Z1=1e3,eP=10,tP=(()=>{class n extends zu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NI(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}let r=t.key;i?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);O1()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,eP):o()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Z1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return x(this,null,function*(){yield cr(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return x(this,null,function*(){let i=yield cr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return x(this,null,function*(){yield cr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),qI=tP;var nP=(()=>{class n extends zu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),Eg=nP;function iP(n){return Promise.all(n.map(e=>x(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var rP=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return x(this,null,function*(){let i=t,{eventId:r,eventType:o,data:s}=i.data,c=this.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let d=Array.from(c).map(b=>x(this,null,function*(){return b(i.origin,s)})),m=yield iP(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function HI(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var tg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return x(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((c,d)=>{let m=HI("",20);r.port1.start();let b=setTimeout(()=>{d(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(g){let E=g;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(b),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(b),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ri(){return window}function oP(n){ri().location.href=n}function GI(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}function sP(){return x(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function aP(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function cP(){return GI()?self:null}var WI="firebaseLocalStorageDb",lP=1,$u="firebaseLocalStorage",KI="fbase_key",Ao=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Gu(n,e){return n.transaction([$u],e?"readwrite":"readonly").objectStore($u)}function dP(){let n=indexedDB.deleteDatabase(WI);return new Ao(n).toPromise()}function ng(){let n=indexedDB.open(WI,lP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore($u,{keyPath:KI})}catch(r){t(r)}}),n.addEventListener("success",()=>x(this,null,function*(){let i=n.result;i.objectStoreNames.contains($u)?e(i):(i.close(),yield dP(),e(yield ng()))}))})}function hI(n,e,t){return x(this,null,function*(){let i=Gu(n,!0).put({[KI]:e,value:t});return new Ao(i).toPromise()})}function uP(n,e){return x(this,null,function*(){let t=Gu(n,!1).get(e),i=yield new Ao(t).toPromise();return i===void 0?null:i.value})}function mI(n,e){let t=Gu(n,!0).delete(e);return new Ao(t).toPromise()}var hP=800,mP=3,fP=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return x(this,null,function*(){return this.db?this.db:(this.db=yield ng(),this.db)})}_withRetries(t){return x(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>mP)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return x(this,null,function*(){return GI()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return x(this,null,function*(){this.receiver=rP._getInstance(cP()),this.receiver._subscribe("keyChanged",(t,i)=>x(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>x(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return x(this,null,function*(){var t,i;if(this.activeServiceWorker=yield sP(),!this.activeServiceWorker)return;this.sender=new tg(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return x(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||aP()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return x(this,null,function*(){try{if(!indexedDB)return!1;let t=yield ng();return yield hI(t,Bu,"1"),yield mI(t,Bu),!0}catch{}return!1})}_withPendingWrite(t){return x(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return x(this,null,function*(){return this._withPendingWrite(()=>x(this,null,function*(){return yield this._withRetries(r=>hI(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return x(this,null,function*(){let i=yield this._withRetries(r=>uP(r,t));return this.localCache[t]=i,i})}_remove(t){return x(this,null,function*(){return this._withPendingWrite(()=>x(this,null,function*(){return yield this._withRetries(i=>mI(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return x(this,null,function*(){let t=yield this._withRetries(o=>{let s=Gu(o,!1).getAll();return new Ao(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>x(this,null,function*(){return this._poll()}),hP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),QI=fP;var PB=VI("rcb"),OB=new To(3e4,6e4);function pP(n,e){return e?Pi(e):(oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Hc=class extends $c{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bp(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function gP(n){return zI(n.auth,new Hc(n),n.bypassAuthState)}function bP(n){let{auth:e,user:t}=n;return oe(t,e,"internal-error"),X1(t,new Hc(n),n.bypassAuthState)}function vP(n){return x(this,null,function*(){let{auth:e,user:t}=n;return oe(t,e,"internal-error"),Y1(t,new Hc(n),n.bypassAuthState)})}var ig=class{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>x(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return x(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let d={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(d))}catch(m){this.reject(m)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gP;case"linkViaPopup":case"linkViaRedirect":return vP;case"reauthViaPopup":case"reauthViaRedirect":return bP;default:oi(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var MB=new To(2e3,1e4);var _P="pendingRedirect",Pu=new Map,rg=class n extends ig{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return x(this,null,function*(){let e=Pu.get(this.auth._key());if(!e){try{let i=(yield yP(this.resolver,this.auth))?yield cr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return x(this,null,function*(){if(e.type==="signInViaRedirect")return cr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,cr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return x(this,null,function*(){})}cleanUp(){}};function yP(n,e){return x(this,null,function*(){let t=EP(e),i=IP(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function wP(n,e){Pu.set(n._key(),e)}function IP(n){return Pi(n._redirectPersistence)}function EP(n){return Du(_P,n.config.apiKey,n.name)}function xP(n,e,t=!1){return x(this,null,function*(){if(On(n.app))return Promise.reject(Oi(n));let i=Co(n),r=pP(i,e),s=yield new rg(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var TP=10*60*1e3,og=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!JI(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(xo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TP&&this.cachedEventUids.clear(),this.cachedEventUids.has(fI(e))}saveEventToCache(e){this.cachedEventUids.add(fI(e)),this.lastProcessedEventTime=Date.now()}};function fI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function JI({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function AP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JI(n);default:return!1}}function CP(t){return x(this,arguments,function*(n,e={}){return Nr(n,"GET","/v1/projects",e)})}var SP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kP=/^https?/;function RP(n){return x(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield CP(n);for(let t of e)try{if(DP(t))return}catch{}oi(n,"unauthorized-domain")})}function DP(n){let e=$p(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===i}if(!kP.test(t))return!1;if(SP.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var PP=new To(3e4,6e4);function pI(){let n=ri().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function OP(n){return new Promise((e,t)=>{var i,r,o;function s(){pI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pI(),t(xo(n,"network-request-failed"))},timeout:PP.get()})}if(!((r=(i=ri().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=ri().gapi)===null||o===void 0)&&o.load)s();else{let c=VI("iframefcb");return ri()[c]=()=>{gapi.load?s():t(xo(n,"network-request-failed"))},LI(`${V1()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw Ou=null,e})}var Ou=null;function MP(n){return Ou=Ou||OP(n),Ou}var NP=new To(5e3,15e3),FP="__/auth/iframe",LP="emulator/auth/iframe",VP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jP(n){let e=n.config;oe(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?lg(e,LP):`https://${n.config.authDomain}/${FP}`,i={apiKey:e.apiKey,appName:n.name,v:ii},r=UP.get(n.config.apiHost);r&&(i.eid=r);let o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Fc(i).slice(1)}`}function BP(n){return x(this,null,function*(){let e=yield MP(n),t=ri().gapi;return oe(t,n,"internal-error"),e.open({where:document.body,url:jP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VP,dontclear:!0},i=>new Promise((r,o)=>x(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=xo(n,"network-request-failed"),c=ri().setTimeout(()=>{o(s)},NP.get());function d(){ri().clearTimeout(c),r(i)}i.ping(d).then(d,()=>{o(s)})})))})}var zP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$P=500,qP=600,HP="_blank",GP="http://localhost",qu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function WP(n,e,t,i=$P,r=qP){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),c="",d=Object.assign(Object.assign({},zP),{width:i.toString(),height:r.toString(),top:o,left:s}),m=wt().toLowerCase();t&&(c=RI(m)?HP:t),SI(m)&&(e=e||GP,d.scrollbars="yes");let b=Object.entries(d).reduce((E,[R,M])=>`${E}${R}=${M},`,"");if(P1(m)&&c!=="_self")return KP(e||"",c),new qu(null);let g=window.open(e||"",c,b);oe(g,n,"popup-blocked");try{g.focus()}catch{}return new qu(g)}function KP(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var QP="__/auth/handler",JP="emulator/auth/handler",YP=encodeURIComponent("fac");function gI(n,e,t,i,r,o){return x(this,null,function*(){oe(n.config.authDomain,n,"auth-domain-config-required"),oe(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ii,eventId:r};if(e instanceof ju){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",z0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[b,g]of Object.entries(o||{}))s[b]=g}if(e instanceof Zp){let b=e.getScopes().filter(g=>g!=="");b.length>0&&(s.scopes=b.join(","))}n.tenantId&&(s.tid=n.tenantId);let c=s;for(let b of Object.keys(c))c[b]===void 0&&delete c[b];let d=yield n._getAppCheckToken(),m=d?`#${YP}=${encodeURIComponent(d)}`:"";return`${XP(n)}?${Fc(c).slice(1)}${m}`})}function XP({config:n}){return n.emulator?lg(n,JP):`https://${n.authDomain}/${QP}`}var zp="webStorageSupport",sg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eg,this._completeRedirectFn=xP,this._overrideRedirectResult=wP}_openPopup(e,t,i,r){return x(this,null,function*(){var o;Or((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield gI(e,t,i,$p(),r);return WP(e,s,HI())})}_openRedirect(e,t,i,r){return x(this,null,function*(){yield this._originValidation(e);let o=yield gI(e,t,i,$p(),r);return oP(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Or(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return x(this,null,function*(){let t=yield BP(e),i=new og(e);return t.register("authEvent",r=>(oe(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zp,{type:zp},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[zp];s!==void 0&&t(!!s),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return NI()||kI()||mg()}},YI=sg;var bI="@firebase/auth",vI="1.7.8";var ag=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return x(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ZP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eO(n){ni(new Qt("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=i.options;oe(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let d={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FI(n)},m=new Jp(i,r,o,d);return B1(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ni(new Qt("auth-internal",e=>{let t=Co(e.getProvider("auth").getImmediate());return(i=>new ag(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(bI,vI,ZP(n)),We(bI,vI,"esm2017")}var tO=5*60,nO=wp("authIdTokenMaxAge")||tO,_I=null,iO=n=>e=>x(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>nO)return;let r=t?.token;_I!==r&&(_I=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function xg(n=kr()){let e=wo(n,"auth");if(e.isInitialized())return e.getImmediate();let t=fg(n,{popupRedirectResolver:YI,persistence:[QI,qI,Eg]}),i=wp("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=iO(o.toString());yg(t,s,()=>s(t.currentUser)),_g(t,c=>s(c))}}let r=_p("auth");return r&&pg(t,`http://${r}`),t}function rO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}F1({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let o=xo("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",rO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eO("Browser");var XI="auth",Mi=class{constructor(e){return e}},So=class{constructor(){return Eo(XI)}};var Tg=new J("angularfire2.auth-instances");function WO(n,e){let t=Us(XI,n,e);return t&&new Mi(t)}function KO(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Mi(i)}}var QO={provide:So,deps:[[new nt,Tg]]},JO={provide:Mi,useFactory:WO,deps:[[new nt,Tg],Mn]};function bz(n,...e){return We("angularfire",ki.full,"auth"),on([JO,QO,{provide:Tg,useFactory:KO(n),multi:!0,deps:[ce,qt,Dr,Ri,[new nt,Rr],...e]}])}var ZI=ut(bg,!0);var vz=ut(xg,!0);var eE=ut(wg,!0);var tE=ut(vg,!0);var nE=ut(Ig,!0);var rE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oE={};var Fr,Ag;(function(){var n;function e(A,y){function w(){}w.prototype=y.prototype,A.D=y.prototype,A.prototype=new w,A.prototype.constructor=A,A.C=function(T,C,S){for(var I=Array(arguments.length-2),bn=2;bn<arguments.length;bn++)I[bn-2]=arguments[bn];return y.prototype[C].apply(T,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,y,w){w||(w=0);var T=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)T[C]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(C=0;16>C;++C)T[C]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=A.g[0],w=A.g[1],C=A.g[2];var S=A.g[3],I=y+(S^w&(C^S))+T[0]+3614090360&4294967295;y=w+(I<<7&4294967295|I>>>25),I=S+(C^y&(w^C))+T[1]+3905402710&4294967295,S=y+(I<<12&4294967295|I>>>20),I=C+(w^S&(y^w))+T[2]+606105819&4294967295,C=S+(I<<17&4294967295|I>>>15),I=w+(y^C&(S^y))+T[3]+3250441966&4294967295,w=C+(I<<22&4294967295|I>>>10),I=y+(S^w&(C^S))+T[4]+4118548399&4294967295,y=w+(I<<7&4294967295|I>>>25),I=S+(C^y&(w^C))+T[5]+1200080426&4294967295,S=y+(I<<12&4294967295|I>>>20),I=C+(w^S&(y^w))+T[6]+2821735955&4294967295,C=S+(I<<17&4294967295|I>>>15),I=w+(y^C&(S^y))+T[7]+4249261313&4294967295,w=C+(I<<22&4294967295|I>>>10),I=y+(S^w&(C^S))+T[8]+1770035416&4294967295,y=w+(I<<7&4294967295|I>>>25),I=S+(C^y&(w^C))+T[9]+2336552879&4294967295,S=y+(I<<12&4294967295|I>>>20),I=C+(w^S&(y^w))+T[10]+4294925233&4294967295,C=S+(I<<17&4294967295|I>>>15),I=w+(y^C&(S^y))+T[11]+2304563134&4294967295,w=C+(I<<22&4294967295|I>>>10),I=y+(S^w&(C^S))+T[12]+1804603682&4294967295,y=w+(I<<7&4294967295|I>>>25),I=S+(C^y&(w^C))+T[13]+4254626195&4294967295,S=y+(I<<12&4294967295|I>>>20),I=C+(w^S&(y^w))+T[14]+2792965006&4294967295,C=S+(I<<17&4294967295|I>>>15),I=w+(y^C&(S^y))+T[15]+1236535329&4294967295,w=C+(I<<22&4294967295|I>>>10),I=y+(C^S&(w^C))+T[1]+4129170786&4294967295,y=w+(I<<5&4294967295|I>>>27),I=S+(w^C&(y^w))+T[6]+3225465664&4294967295,S=y+(I<<9&4294967295|I>>>23),I=C+(y^w&(S^y))+T[11]+643717713&4294967295,C=S+(I<<14&4294967295|I>>>18),I=w+(S^y&(C^S))+T[0]+3921069994&4294967295,w=C+(I<<20&4294967295|I>>>12),I=y+(C^S&(w^C))+T[5]+3593408605&4294967295,y=w+(I<<5&4294967295|I>>>27),I=S+(w^C&(y^w))+T[10]+38016083&4294967295,S=y+(I<<9&4294967295|I>>>23),I=C+(y^w&(S^y))+T[15]+3634488961&4294967295,C=S+(I<<14&4294967295|I>>>18),I=w+(S^y&(C^S))+T[4]+3889429448&4294967295,w=C+(I<<20&4294967295|I>>>12),I=y+(C^S&(w^C))+T[9]+568446438&4294967295,y=w+(I<<5&4294967295|I>>>27),I=S+(w^C&(y^w))+T[14]+3275163606&4294967295,S=y+(I<<9&4294967295|I>>>23),I=C+(y^w&(S^y))+T[3]+4107603335&4294967295,C=S+(I<<14&4294967295|I>>>18),I=w+(S^y&(C^S))+T[8]+1163531501&4294967295,w=C+(I<<20&4294967295|I>>>12),I=y+(C^S&(w^C))+T[13]+2850285829&4294967295,y=w+(I<<5&4294967295|I>>>27),I=S+(w^C&(y^w))+T[2]+4243563512&4294967295,S=y+(I<<9&4294967295|I>>>23),I=C+(y^w&(S^y))+T[7]+1735328473&4294967295,C=S+(I<<14&4294967295|I>>>18),I=w+(S^y&(C^S))+T[12]+2368359562&4294967295,w=C+(I<<20&4294967295|I>>>12),I=y+(w^C^S)+T[5]+4294588738&4294967295,y=w+(I<<4&4294967295|I>>>28),I=S+(y^w^C)+T[8]+2272392833&4294967295,S=y+(I<<11&4294967295|I>>>21),I=C+(S^y^w)+T[11]+1839030562&4294967295,C=S+(I<<16&4294967295|I>>>16),I=w+(C^S^y)+T[14]+4259657740&4294967295,w=C+(I<<23&4294967295|I>>>9),I=y+(w^C^S)+T[1]+2763975236&4294967295,y=w+(I<<4&4294967295|I>>>28),I=S+(y^w^C)+T[4]+1272893353&4294967295,S=y+(I<<11&4294967295|I>>>21),I=C+(S^y^w)+T[7]+4139469664&4294967295,C=S+(I<<16&4294967295|I>>>16),I=w+(C^S^y)+T[10]+3200236656&4294967295,w=C+(I<<23&4294967295|I>>>9),I=y+(w^C^S)+T[13]+681279174&4294967295,y=w+(I<<4&4294967295|I>>>28),I=S+(y^w^C)+T[0]+3936430074&4294967295,S=y+(I<<11&4294967295|I>>>21),I=C+(S^y^w)+T[3]+3572445317&4294967295,C=S+(I<<16&4294967295|I>>>16),I=w+(C^S^y)+T[6]+76029189&4294967295,w=C+(I<<23&4294967295|I>>>9),I=y+(w^C^S)+T[9]+3654602809&4294967295,y=w+(I<<4&4294967295|I>>>28),I=S+(y^w^C)+T[12]+3873151461&4294967295,S=y+(I<<11&4294967295|I>>>21),I=C+(S^y^w)+T[15]+530742520&4294967295,C=S+(I<<16&4294967295|I>>>16),I=w+(C^S^y)+T[2]+3299628645&4294967295,w=C+(I<<23&4294967295|I>>>9),I=y+(C^(w|~S))+T[0]+4096336452&4294967295,y=w+(I<<6&4294967295|I>>>26),I=S+(w^(y|~C))+T[7]+1126891415&4294967295,S=y+(I<<10&4294967295|I>>>22),I=C+(y^(S|~w))+T[14]+2878612391&4294967295,C=S+(I<<15&4294967295|I>>>17),I=w+(S^(C|~y))+T[5]+4237533241&4294967295,w=C+(I<<21&4294967295|I>>>11),I=y+(C^(w|~S))+T[12]+1700485571&4294967295,y=w+(I<<6&4294967295|I>>>26),I=S+(w^(y|~C))+T[3]+2399980690&4294967295,S=y+(I<<10&4294967295|I>>>22),I=C+(y^(S|~w))+T[10]+4293915773&4294967295,C=S+(I<<15&4294967295|I>>>17),I=w+(S^(C|~y))+T[1]+2240044497&4294967295,w=C+(I<<21&4294967295|I>>>11),I=y+(C^(w|~S))+T[8]+1873313359&4294967295,y=w+(I<<6&4294967295|I>>>26),I=S+(w^(y|~C))+T[15]+4264355552&4294967295,S=y+(I<<10&4294967295|I>>>22),I=C+(y^(S|~w))+T[6]+2734768916&4294967295,C=S+(I<<15&4294967295|I>>>17),I=w+(S^(C|~y))+T[13]+1309151649&4294967295,w=C+(I<<21&4294967295|I>>>11),I=y+(C^(w|~S))+T[4]+4149444226&4294967295,y=w+(I<<6&4294967295|I>>>26),I=S+(w^(y|~C))+T[11]+3174756917&4294967295,S=y+(I<<10&4294967295|I>>>22),I=C+(y^(S|~w))+T[2]+718787259&4294967295,C=S+(I<<15&4294967295|I>>>17),I=w+(S^(C|~y))+T[9]+3951481745&4294967295,A.g[0]=A.g[0]+y&4294967295,A.g[1]=A.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,A.g[2]=A.g[2]+C&4294967295,A.g[3]=A.g[3]+S&4294967295}i.prototype.u=function(A,y){y===void 0&&(y=A.length);for(var w=y-this.blockSize,T=this.B,C=this.h,S=0;S<y;){if(C==0)for(;S<=w;)r(this,A,S),S+=this.blockSize;if(typeof A=="string"){for(;S<y;)if(T[C++]=A.charCodeAt(S++),C==this.blockSize){r(this,T),C=0;break}}else for(;S<y;)if(T[C++]=A[S++],C==this.blockSize){r(this,T),C=0;break}}this.h=C,this.o+=y},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var y=1;y<A.length-8;++y)A[y]=0;var w=8*this.o;for(y=A.length-8;y<A.length;++y)A[y]=w&255,w/=256;for(this.u(A),A=Array(16),y=w=0;4>y;++y)for(var T=0;32>T;T+=8)A[w++]=this.g[y]>>>T&255;return A};function o(A,y){var w=c;return Object.prototype.hasOwnProperty.call(w,A)?w[A]:w[A]=y(A)}function s(A,y){this.h=y;for(var w=[],T=!0,C=A.length-1;0<=C;C--){var S=A[C]|0;T&&S==y||(w[C]=S,T=!1)}this.g=w}var c={};function d(A){return-128<=A&&128>A?o(A,function(y){return new s([y|0],0>y?-1:0)}):new s([A|0],0>A?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return g;if(0>A)return D(m(-A));for(var y=[],w=1,T=0;A>=w;T++)y[T]=A/w|0,w*=4294967296;return new s(y,0)}function b(A,y){if(A.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(A.charAt(0)=="-")return D(b(A.substring(1),y));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=m(Math.pow(y,8)),T=g,C=0;C<A.length;C+=8){var S=Math.min(8,A.length-C),I=parseInt(A.substring(C,C+S),y);8>S?(S=m(Math.pow(y,S)),T=T.j(S).add(m(I))):(T=T.j(w),T=T.add(m(I)))}return T}var g=d(0),E=d(1),R=d(16777216);n=s.prototype,n.m=function(){if(L(this))return-D(this).m();for(var A=0,y=1,w=0;w<this.g.length;w++){var T=this.i(w);A+=(0<=T?T:4294967296+T)*y,y*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M(this))return"0";if(L(this))return"-"+D(this).toString(A);for(var y=m(Math.pow(A,6)),w=this,T="";;){var C=Z(w,y).g;w=z(w,C.j(y));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(A);if(w=C,M(w))return S+T;for(;6>S.length;)S="0"+S;T=S+T}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function M(A){if(A.h!=0)return!1;for(var y=0;y<A.g.length;y++)if(A.g[y]!=0)return!1;return!0}function L(A){return A.h==-1}n.l=function(A){return A=z(this,A),L(A)?-1:M(A)?0:1};function D(A){for(var y=A.g.length,w=[],T=0;T<y;T++)w[T]=~A.g[T];return new s(w,~A.h).add(E)}n.abs=function(){return L(this)?D(this):this},n.add=function(A){for(var y=Math.max(this.g.length,A.g.length),w=[],T=0,C=0;C<=y;C++){var S=T+(this.i(C)&65535)+(A.i(C)&65535),I=(S>>>16)+(this.i(C)>>>16)+(A.i(C)>>>16);T=I>>>16,S&=65535,I&=65535,w[C]=I<<16|S}return new s(w,w[w.length-1]&-2147483648?-1:0)};function z(A,y){return A.add(D(y))}n.j=function(A){if(M(this)||M(A))return g;if(L(this))return L(A)?D(this).j(D(A)):D(D(this).j(A));if(L(A))return D(this.j(D(A)));if(0>this.l(R)&&0>A.l(R))return m(this.m()*A.m());for(var y=this.g.length+A.g.length,w=[],T=0;T<2*y;T++)w[T]=0;for(T=0;T<this.g.length;T++)for(var C=0;C<A.g.length;C++){var S=this.i(T)>>>16,I=this.i(T)&65535,bn=A.i(C)>>>16,zi=A.i(C)&65535;w[2*T+2*C]+=I*zi,te(w,2*T+2*C),w[2*T+2*C+1]+=S*zi,te(w,2*T+2*C+1),w[2*T+2*C+1]+=I*bn,te(w,2*T+2*C+1),w[2*T+2*C+2]+=S*bn,te(w,2*T+2*C+2)}for(T=0;T<y;T++)w[T]=w[2*T+1]<<16|w[2*T];for(T=y;T<2*y;T++)w[T]=0;return new s(w,0)};function te(A,y){for(;(A[y]&65535)!=A[y];)A[y+1]+=A[y]>>>16,A[y]&=65535,y++}function X(A,y){this.g=A,this.h=y}function Z(A,y){if(M(y))throw Error("division by zero");if(M(A))return new X(g,g);if(L(A))return y=Z(D(A),y),new X(D(y.g),D(y.h));if(L(y))return y=Z(A,D(y)),new X(D(y.g),y.h);if(30<A.g.length){if(L(A)||L(y))throw Error("slowDivide_ only works with positive integers.");for(var w=E,T=y;0>=T.l(A);)w=Ce(w),T=Ce(T);var C=ae(w,1),S=ae(T,1);for(T=ae(T,2),w=ae(w,2);!M(T);){var I=S.add(T);0>=I.l(A)&&(C=C.add(w),S=I),T=ae(T,1),w=ae(w,1)}return y=z(A,C.j(y)),new X(C,y)}for(C=g;0<=A.l(y);){for(w=Math.max(1,Math.floor(A.m()/y.m())),T=Math.ceil(Math.log(w)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),S=m(w),I=S.j(y);L(I)||0<I.l(A);)w-=T,S=m(w),I=S.j(y);M(S)&&(S=E),C=C.add(S),A=z(A,I)}return new X(C,A)}n.A=function(A){return Z(this,A).h},n.and=function(A){for(var y=Math.max(this.g.length,A.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)&A.i(T);return new s(w,this.h&A.h)},n.or=function(A){for(var y=Math.max(this.g.length,A.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)|A.i(T);return new s(w,this.h|A.h)},n.xor=function(A){for(var y=Math.max(this.g.length,A.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)^A.i(T);return new s(w,this.h^A.h)};function Ce(A){for(var y=A.g.length+1,w=[],T=0;T<y;T++)w[T]=A.i(T)<<1|A.i(T-1)>>>31;return new s(w,A.h)}function ae(A,y){var w=y>>5;y%=32;for(var T=A.g.length-w,C=[],S=0;S<T;S++)C[S]=0<y?A.i(S+w)>>>y|A.i(S+w+1)<<32-y:A.i(S+w);return new s(C,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ag=oE.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=m,s.fromString=b,Fr=oE.Integer=s}).apply(typeof rE<"u"?rE:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ni={};var Cg,Sg,zs,kg,Wc,Ku,Rg,Dg,Pg;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,f){return a==Array.prototype||a==Object.prototype||(a[h]=f.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var h=0;h<a.length;++h){var f=a[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=t(this);function r(a,h){if(h)e:{var f=i;a=a.split(".");for(var v=0;v<a.length-1;v++){var k=a[v];if(!(k in f))break e;f=f[k]}a=a[a.length-1],v=f[a],h=h(v),h!=v&&h!=null&&e(f,a,{configurable:!0,writable:!0,value:h})}}function o(a,h){a instanceof String&&(a+="");var f=0,v=!1,k={next:function(){if(!v&&f<a.length){var P=f++;return{value:h(P,a[P]),done:!1}}return v=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}r("Array.prototype.values",function(a){return a||function(){return o(this,function(h,f){return f})}});var s=s||{},c=this||self;function d(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function m(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function b(a,h,f){return a.call.apply(a.bind,arguments)}function g(a,h,f){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,v),a.apply(h,k)}}return function(){return a.apply(h,arguments)}}function E(a,h,f){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:g,E.apply(null,arguments)}function R(a,h){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function M(a,h){function f(){}f.prototype=h.prototype,a.aa=h.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(v,k,P){for(var q=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)q[Oe-2]=arguments[Oe];return h.prototype[k].apply(v,q)}}function L(a){let h=a.length;if(0<h){let f=Array(h);for(let v=0;v<h;v++)f[v]=a[v];return f}return[]}function D(a,h){for(let f=1;f<arguments.length;f++){let v=arguments[f];if(d(v)){let k=a.length||0,P=v.length||0;a.length=k+P;for(let q=0;q<P;q++)a[k+q]=v[q]}else a.push(v)}}class z{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function te(a){return/^[\s\xa0]*$/.test(a)}function X(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Z(a){return Z[" "](a),a}Z[" "]=function(){};var Ce=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ae(a,h,f){for(let v in a)h.call(f,a[v],v,a)}function A(a,h){for(let f in a)h.call(void 0,a[f],f,a)}function y(a){let h={};for(let f in a)h[f]=a[f];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(a,h){let f,v;for(let k=1;k<arguments.length;k++){v=arguments[k];for(f in v)a[f]=v[f];for(let P=0;P<w.length;P++)f=w[P],Object.prototype.hasOwnProperty.call(v,f)&&(a[f]=v[f])}}function C(a){var h=1;a=a.split(":");let f=[];for(;0<h&&a.length;)f.push(a.shift()),h--;return a.length&&f.push(a.join(":")),f}function S(a){c.setTimeout(()=>{throw a},0)}function I(){var a=qi;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class bn{constructor(){this.h=this.g=null}add(h,f){let v=zi.get();v.set(h,f),this.h?this.h.next=v:this.g=v,this.h=v}}var zi=new z(()=>new fa,a=>a.reset());class fa{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let $i,hi=!1,qi=new bn,Yt=()=>{let a=c.Promise.resolve(void 0);$i=()=>{a.then(Hi)}};var Hi=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(f){S(f)}var h=zi;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}hi=!1};function Ot(){this.s=this.s,this.C=this.C}Ot.prototype.s=!1,Ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gt(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var Gi=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,h),c.removeEventListener("test",f,h)}catch{}return a}();function vn(a,h){if(gt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(Ce){e:{try{Z(h.nodeName);var k=!0;break e}catch{}k=!1}k||(h=null)}}else f=="mouseover"?h=a.fromElement:f=="mouseout"&&(h=a.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:El[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&vn.aa.h.call(this)}}M(vn,gt);var El={2:"touch",3:"pen",4:"mouse"};vn.prototype.h=function(){vn.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Un="closure_listenable_"+(1e6*Math.random()|0),pa=0;function nm(a,h,f,v,k){this.listener=a,this.proxy=null,this.src=h,this.type=f,this.capture=!!v,this.ha=k,this.key=++pa,this.da=this.fa=!1}function Wi(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ki(a){this.src=a,this.g={},this.h=0}Ki.prototype.add=function(a,h,f,v,k){var P=a.toString();a=this.g[P],a||(a=this.g[P]=[],this.h++);var q=ga(a,h,v,k);return-1<q?(h=a[q],f||(h.fa=!1)):(h=new nm(h,this.src,P,!!v,k),h.fa=f,a.push(h)),h};function Qi(a,h){var f=h.type;if(f in a.g){var v=a.g[f],k=Array.prototype.indexOf.call(v,h,void 0),P;(P=0<=k)&&Array.prototype.splice.call(v,k,1),P&&(Wi(h),a.g[f].length==0&&(delete a.g[f],a.h--))}}function ga(a,h,f,v){for(var k=0;k<a.length;++k){var P=a[k];if(!P.da&&P.listener==h&&P.capture==!!f&&P.ha==v)return k}return-1}var xt="closure_lm_"+(1e6*Math.random()|0),Xt={};function xl(a,h,f,v,k){if(v&&v.once)return ba(a,h,f,v,k);if(Array.isArray(h)){for(var P=0;P<h.length;P++)xl(a,h[P],f,v,k);return null}return f=rt(f),a&&a[Un]?a.K(h,f,m(v)?!!v.capture:!!v,k):Mt(a,h,f,!1,v,k)}function Mt(a,h,f,v,k,P){if(!h)throw Error("Invalid event type");var q=m(k)?!!k.capture:!!k,Oe=_n(a);if(Oe||(a[xt]=Oe=new Ki(a)),f=Oe.add(h,f,v,q,P),f.proxy)return f;if(v=zo(),f.proxy=v,v.src=a,v.listener=f,a.addEventListener)Gi||(k=q),k===void 0&&(k=!1),a.addEventListener(h.toString(),v,k);else if(a.attachEvent)a.attachEvent(Zt(h.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function zo(){function a(f){return h.call(a.src,a.listener,f)}let h=jn;return a}function ba(a,h,f,v,k){if(Array.isArray(h)){for(var P=0;P<h.length;P++)ba(a,h[P],f,v,k);return null}return f=rt(f),a&&a[Un]?a.L(h,f,m(v)?!!v.capture:!!v,k):Mt(a,h,f,!0,v,k)}function va(a,h,f,v,k){if(Array.isArray(h))for(var P=0;P<h.length;P++)va(a,h[P],f,v,k);else v=m(v)?!!v.capture:!!v,f=rt(f),a&&a[Un]?(a=a.i,h=String(h).toString(),h in a.g&&(P=a.g[h],f=ga(P,f,v,k),-1<f&&(Wi(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete a.g[h],a.h--)))):a&&(a=_n(a))&&(h=a.g[h.toString()],a=-1,h&&(a=ga(h,f,v,k)),(f=-1<a?h[a]:null)&&be(f))}function be(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Un])Qi(h.i,a);else{var f=a.type,v=a.proxy;h.removeEventListener?h.removeEventListener(f,v,a.capture):h.detachEvent?h.detachEvent(Zt(f),v):h.addListener&&h.removeListener&&h.removeListener(v),(f=_n(h))?(Qi(f,a),f.h==0&&(f.src=null,h[xt]=null)):Wi(a)}}}function Zt(a){return a in Xt?Xt[a]:Xt[a]="on"+a}function jn(a,h){if(a.da)a=!0;else{h=new vn(h,this);var f=a.listener,v=a.ha||a.src;a.fa&&be(a),a=f.call(v,h)}return a}function _n(a){return a=a[xt],a instanceof Ki?a:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function rt(a){return typeof a=="function"?a:(a[Ye]||(a[Ye]=function(h){return a.handleEvent(h)}),a[Ye])}function ot(){Ot.call(this),this.i=new Ki(this),this.M=this,this.F=null}M(ot,Ot),ot.prototype[Un]=!0,ot.prototype.removeEventListener=function(a,h,f,v){va(this,a,h,f,v)};function bt(a,h){var f,v=a.F;if(v)for(f=[];v;v=v.F)f.push(v);if(a=a.M,v=h.type||h,typeof h=="string")h=new gt(h,a);else if(h instanceof gt)h.target=h.target||a;else{var k=h;h=new gt(v,a),T(h,k)}if(k=!0,f)for(var P=f.length-1;0<=P;P--){var q=h.g=f[P];k=Bn(q,v,!0,h)&&k}if(q=h.g=a,k=Bn(q,v,!0,h)&&k,k=Bn(q,v,!1,h)&&k,f)for(P=0;P<f.length;P++)q=h.g=f[P],k=Bn(q,v,!1,h)&&k}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var f=a.g[h],v=0;v<f.length;v++)Wi(f[v]);delete a.g[h],a.h--}}this.F=null},ot.prototype.K=function(a,h,f,v){return this.i.add(String(a),h,!1,f,v)},ot.prototype.L=function(a,h,f,v){return this.i.add(String(a),h,!0,f,v)};function Bn(a,h,f,v){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var k=!0,P=0;P<h.length;++P){var q=h[P];if(q&&!q.da&&q.capture==f){var Oe=q.listener,st=q.ha||q.src;q.fa&&Qi(a.i,q),k=Oe.call(st,v)!==!1&&k}}return k&&!v.defaultPrevented}function Tt(a,h,f){if(typeof a=="function")f&&(a=E(a,f));else if(a&&typeof a.handleEvent=="function")a=E(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(a,h||0)}function Tl(a){a.g=Tt(()=>{a.g=null,a.i&&(a.i=!1,Tl(a))},a.l);let h=a.h;a.h=null,a.m.apply(null,h)}class Al extends Ot{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Tl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ji(a){Ot.call(this),this.h=a,this.g={}}M(Ji,Ot);var $o=[];function Cl(a){ae(a.g,function(h,f){this.g.hasOwnProperty(f)&&be(h)},a),a.g={}}Ji.prototype.N=function(){Ji.aa.N.call(this),Cl(this)},Ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qo=c.JSON.stringify,im=c.JSON.parse,rm=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function yn(){}yn.prototype.h=null;function Sl(a){return a.h||(a.h=a.i())}function kl(){}var $r={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _a(){gt.call(this,"d")}M(_a,gt);function ya(){gt.call(this,"c")}M(ya,gt);var wn={},Rl=null;function Ho(){return Rl=Rl||new ot}wn.La="serverreachability";function zn(a){gt.call(this,wn.La,a)}M(zn,gt);function qr(a){let h=Ho();bt(h,new zn(h))}wn.STAT_EVENT="statevent";function Dl(a,h){gt.call(this,wn.STAT_EVENT,a),this.stat=h}M(Dl,gt);function At(a){let h=Ho();bt(h,new Dl(h,a))}wn.Ma="timingevent";function Go(a,h){gt.call(this,wn.Ma,a),this.size=h}M(Go,gt);function Hr(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},h)}function Gr(){this.g=!0}Gr.prototype.xa=function(){this.g=!1};function om(a,h,f,v,k,P){a.info(function(){if(a.g)if(P)for(var q="",Oe=P.split("&"),st=0;st<Oe.length;st++){var we=Oe[st].split("=");if(1<we.length){var pt=we[0];we=we[1];var vt=pt.split("_");q=2<=vt.length&&vt[1]=="type"?q+(pt+"="+we+"&"):q+(pt+"=redacted&")}}else q=null;else q=P;return"XMLHTTP REQ ("+v+") [attempt "+k+"]: "+h+`
`+f+`
`+q})}function sm(a,h,f,v,k,P,q){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+k+"]: "+h+`
`+f+`
`+P+" "+q})}function Yi(a,h,f,v){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+am(a,f)+(v?" "+v:"")})}function Fe(a,h){a.info(function(){return"TIMEOUT: "+h})}Gr.prototype.info=function(){};function am(a,h){if(!a.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var v=f[a];if(!(2>v.length)){var k=v[1];if(Array.isArray(k)&&!(1>k.length)){var P=k[0];if(P!="noop"&&P!="stop"&&P!="close")for(var q=1;q<k.length;q++)k[q]=""}}}}return qo(f)}catch{return h}}var Wo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wa;function Ko(){}M(Ko,yn),Ko.prototype.g=function(){return new XMLHttpRequest},Ko.prototype.i=function(){return{}},wa=new Ko;function $n(a,h,f,v){this.j=a,this.i=h,this.l=f,this.R=v||1,this.U=new Ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qo}function Qo(){this.i=null,this.g="",this.h=!1}var Xi={},Jo={};function Zi(a,h,f){a.L=1,a.v=ts(Nt(h)),a.m=f,a.P=!0,$e(a,null)}function $e(a,h){a.F=Date.now(),Yo(a),a.A=Nt(a.v);var f=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),ql(f.i,"t",v),a.C=0,f=a.j.J,a.h=new Qo,a.g=Na(a.j,f?h:null,!a.m),0<a.O&&(a.M=new Al(E(a.Y,a,a.g),a.O)),h=a.U,f=a.g,v=a.ca;var k="readystatechange";Array.isArray(k)||(k&&($o[0]=k.toString()),k=$o);for(var P=0;P<k.length;P++){var q=xl(f,k[P],v||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),qr(),om(a.i,a.u,a.A,a.l,a.R,a.m)}$n.prototype.ca=function(a){a=a.target;let h=this.M;h&&En(a)==3?h.j():this.Y(a)},$n.prototype.Y=function(a){try{if(a==this.g)e:{let vt=En(this.g);var h=this.g.Ba();let gi=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Zl(this.g)))){this.J||vt!=4||h==7||(h==8||0>=gi?qr(3):qr(2)),Ea(this);var f=this.g.Z();this.X=f;t:if(Ol(this)){var v=Zl(this.g);a="";var k=v.length,P=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),Wr(this);var q="";break t}this.h.i=new c.TextDecoder}for(h=0;h<k;h++)this.h.h=!0,a+=this.h.i.decode(v[h],{stream:!(P&&h==k-1)});v.length=0,this.h.g+=a,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=f==200,sm(this.i,this.u,this.A,this.l,this.R,vt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,st=this.g;if((Oe=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Oe)){var we=Oe;break t}}we=null}if(f=we)Yi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xo(this,f);else{this.o=!1,this.s=3,At(12),mi(this),Wr(this);break e}}if(this.P){f=!0;let $t;for(;!this.J&&this.C<q.length;)if($t=cm(this,q),$t==Jo){vt==4&&(this.s=4,At(14),f=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if($t==Xi){this.s=4,At(15),Yi(this.i,this.l,q,"[Invalid Chunk]"),f=!1;break}else Yi(this.i,this.l,$t,null),Xo(this,$t);if(Ol(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||q.length!=0||this.h.h||(this.s=1,At(16),f=!1),this.o=this.o&&f,!f)Yi(this.i,this.l,q,"[Invalid Chunked Response]"),mi(this),Wr(this);else if(0<q.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),to(pt),pt.M=!0,At(11))}}else Yi(this.i,this.l,q,null),Xo(this,q);vt==4&&mi(this),this.o&&!this.J&&(vt==4?Da(this.j,this):(this.o=!1,Yo(this)))}else vm(this.g),f==400&&0<q.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),mi(this),Wr(this)}}}catch{}finally{}};function Ol(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function cm(a,h){var f=a.C,v=h.indexOf(`
`,f);return v==-1?Jo:(f=Number(h.substring(f,v)),isNaN(f)?Xi:(v+=1,v+f>h.length?Jo:(h=h.slice(v,v+f),a.C=v+f,h)))}$n.prototype.cancel=function(){this.J=!0,mi(this)};function Yo(a){a.S=Date.now()+a.I,Ia(a,a.I)}function Ia(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Hr(E(a.ba,a),h)}function Ea(a){a.B&&(c.clearTimeout(a.B),a.B=null)}$n.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(Fe(this.i,this.A),this.L!=2&&(qr(),At(17)),mi(this),this.s=2,Wr(this)):Ia(this,this.S-a)};function Wr(a){a.j.G==0||a.J||Da(a.j,a)}function mi(a){Ea(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Cl(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Xo(a,h){try{var f=a.j;if(f.G!=0&&(f.g==a||Ta(f.h,a))){if(!a.K&&Ta(f.h,a)&&f.G==3){try{var v=f.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var k=v;if(k[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)ss(f),Zr(f);else break e;os(f),At(18)}}else f.za=k[1],0<f.za-f.T&&37500>k[2]&&f.F&&f.v==0&&!f.C&&(f.C=Hr(E(f.Za,f),6e3));if(1>=Nl(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Gn(f,11)}else if((a.K||f.g==a)&&ss(f),!te(h))for(k=f.Da.g.parse(h),h=0;h<k.length;h++){let we=k[h];if(f.T=we[0],we=we[1],f.G==2)if(we[0]=="c"){f.K=we[1],f.ia=we[2];let pt=we[3];pt!=null&&(f.la=pt,f.j.info("VER="+f.la));let vt=we[4];vt!=null&&(f.Aa=vt,f.j.info("SVER="+f.Aa));let gi=we[5];gi!=null&&typeof gi=="number"&&0<gi&&(v=1.5*gi,f.L=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;let $t=a.g;if($t){let as=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(as){var P=v.h;P.g||as.indexOf("spdy")==-1&&as.indexOf("quic")==-1&&as.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Aa(P,P.h),P.h=null))}if(v.D){let La=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(v.ya=La,Le(v.I,v.D,La))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),v=f;var q=a;if(v.qa=Ma(v,v.J?v.ia:null,v.W),q.K){Fl(v.h,q);var Oe=q,st=v.L;st&&(Oe.I=st),Oe.B&&(Ea(Oe),Yo(Oe)),v.g=q}else Ra(v);0<f.i.length&&is(f)}else we[0]!="stop"&&we[0]!="close"||Gn(f,7);else f.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Gn(f,7):sr(f):we[0]!="noop"&&f.l&&f.l.ta(we),f.v=0)}}qr(4)}catch{}}var lm=class{constructor(a,h){this.g=a,this.map=h}};function xa(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ml(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Nl(a){return a.h?1:a.g?a.g.size:0}function Ta(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Aa(a,h){a.g?a.g.add(h):a.h=h}function Fl(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}xa.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Ll(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(let f of a.g.values())h=h.concat(f.D);return h}return L(a.i)}function dm(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(d(a)){for(var h=[],f=a.length,v=0;v<f;v++)h.push(a[v]);return h}h=[],f=0;for(v in a)h[f++]=a[v];return h}function Vl(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(d(a)||typeof a=="string"){var h=[];a=a.length;for(var f=0;f<a;f++)h.push(f);return h}h=[],f=0;for(let v in a)h[f++]=v;return h}}}function Ul(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(d(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var f=Vl(a),v=dm(a),k=v.length,P=0;P<k;P++)h.call(void 0,v[P],f&&f[P],a)}var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function um(a,h){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var v=a[f].indexOf("="),k=null;if(0<=v){var P=a[f].substring(0,v);k=a[f].substring(v+1)}else P=a[f];h(P,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function fi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof fi){this.h=a.h,Kr(this,a.j),this.o=a.o,this.g=a.g,Zo(this,a.s),this.l=a.l;var h=a.i,f=new tr;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),es(this,f),this.m=a.m}else a&&(h=String(a).match(Ca))?(this.h=!1,Kr(this,h[1]||"",!0),this.o=Qr(h[2]||""),this.g=Qr(h[3]||"",!0),Zo(this,h[4]),this.l=Qr(h[5]||"",!0),es(this,h[6]||"",!0),this.m=Qr(h[7]||"")):(this.h=!1,this.i=new tr(null,this.h))}fi.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Jr(h,jl,!0),":");var f=this.g;return(f||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Jr(h,jl,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Jr(f,f.charAt(0)=="/"?er:mm,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Jr(f,Bl)),a.join("")};function Nt(a){return new fi(a)}function Kr(a,h,f){a.j=f?Qr(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Zo(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function es(a,h,f){h instanceof tr?(a.i=h,pm(a.i,a.h)):(f||(h=Jr(h,fm)),a.i=new tr(h,a.h))}function Le(a,h,f){a.i.set(h,f)}function ts(a){return Le(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Qr(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Jr(a,h,f){return typeof a=="string"?(a=encodeURI(a).replace(h,hm),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function hm(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var jl=/[#\/\?@]/g,mm=/[#\?:]/g,er=/[#\?]/g,fm=/[#\?@]/g,Bl=/#/g;function tr(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function qn(a){a.g||(a.g=new Map,a.h=0,a.i&&um(a.i,function(h,f){a.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}n=tr.prototype,n.add=function(a,h){qn(this),this.i=null,a=nr(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(h),this.h+=1,this};function zl(a,h){qn(a),h=nr(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function $l(a,h){return qn(a),h=nr(a,h),a.g.has(h)}n.forEach=function(a,h){qn(this),this.g.forEach(function(f,v){f.forEach(function(k){a.call(h,k,v,this)},this)},this)},n.na=function(){qn(this);let a=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let v=0;v<h.length;v++){let k=a[v];for(let P=0;P<k.length;P++)f.push(h[v])}return f},n.V=function(a){qn(this);let h=[];if(typeof a=="string")$l(this,a)&&(h=h.concat(this.g.get(nr(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)h=h.concat(a[f])}return h},n.set=function(a,h){return qn(this),this.i=null,a=nr(this,a),$l(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},n.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function ql(a,h,f){zl(a,h),0<f.length&&(a.i=null,a.g.set(nr(a,h),L(f)),a.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var v=h[f];let P=encodeURIComponent(String(v)),q=this.V(v);for(v=0;v<q.length;v++){var k=P;q[v]!==""&&(k+="="+encodeURIComponent(String(q[v]))),a.push(k)}}return this.i=a.join("&")};function nr(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function pm(a,h){h&&!a.j&&(qn(a),a.i=null,a.g.forEach(function(f,v){var k=v.toLowerCase();v!=k&&(zl(this,v),ql(this,k,f))},a)),a.j=h}function gm(a,h){let f=new Gr;if(c.Image){let v=new Image;v.onload=R(Hn,f,"TestLoadImage: loaded",!0,h,v),v.onerror=R(Hn,f,"TestLoadImage: error",!1,h,v),v.onabort=R(Hn,f,"TestLoadImage: abort",!1,h,v),v.ontimeout=R(Hn,f,"TestLoadImage: timeout",!1,h,v),c.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else h(!1)}function ir(a,h){let f=new Gr,v=new AbortController,k=setTimeout(()=>{v.abort(),Hn(f,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:v.signal}).then(P=>{clearTimeout(k),P.ok?Hn(f,"TestPingServer: ok",!0,h):Hn(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(k),Hn(f,"TestPingServer: error",!1,h)})}function Hn(a,h,f,v,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),v(f)}catch{}}function bm(){this.g=new rm}function Hl(a,h,f){let v=f||"";try{Ul(a,function(k,P){let q=k;m(k)&&(q=qo(k)),h.push(v+P+"="+encodeURIComponent(q))})}catch(k){throw h.push(v+"type="+encodeURIComponent("_badmap")),k}}function Yr(a){this.l=a.Ub||null,this.j=a.eb||!1}M(Yr,yn),Yr.prototype.g=function(){return new en(this.l,this.j)},Yr.prototype.i=function(a){return function(){return a}}({});function en(a,h){ot.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(en,ot),n=en.prototype,n.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,In(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gl(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gl(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?rr(this):In(this),this.readyState==3&&Gl(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,rr(this))},n.Qa=function(a){this.g&&(this.response=a,rr(this))},n.ga=function(){this.g&&rr(this)};function rr(a){a.readyState=4,a.l=null,a.j=null,a.v=null,In(a)}n.setRequestHeader=function(a,h){this.u.append(a,h)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=h.next();return a.join(`\r
`)};function In(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(en.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Wl(a){let h="";return ae(a,function(f,v){h+=v,h+=":",h+=f,h+=`\r
`}),h}function Sa(a,h,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=Wl(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Le(a,h,f))}function qe(a){ot.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(qe,ot);var Kl=/^https?$/i,or=["POST","PUT"];n=qe.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,h,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wa.g(),this.v=this.o?Sl(this.o):Sl(wa),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(P){Ql(this,P);return}if(a=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var k in v)f.set(k,v[k]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let P of v.keys())f.set(P,v.get(P));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),k=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(or,h,void 0))||v||k||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,q]of f)this.g.setRequestHeader(P,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xl(this),this.u=!0,this.g.send(a),this.u=!1}catch(P){Ql(this,P)}};function Ql(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Jl(a),ns(a)}function Jl(a){a.A||(a.A=!0,bt(a,"complete"),bt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,bt(this,"complete"),bt(this,"abort"),ns(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Yl(this):this.bb())},n.bb=function(){Yl(this)};function Yl(a){if(a.h&&typeof s<"u"&&(!a.v[1]||En(a)!=4||a.Z()!=2)){if(a.u&&En(a)==4)Tt(a.Ea,0,a);else if(bt(a,"readystatechange"),En(a)==4){a.h=!1;try{let q=a.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var v;if(v=q===0){var k=String(a.D).match(Ca)[1]||null;!k&&c.self&&c.self.location&&(k=c.self.location.protocol.slice(0,-1)),v=!Kl.test(k?k.toLowerCase():"")}f=v}if(f)bt(a,"complete"),bt(a,"success");else{a.m=6;try{var P=2<En(a)?a.g.statusText:""}catch{P=""}a.l=P+" ["+a.Z()+"]",Jl(a)}}finally{ns(a)}}}}function ns(a,h){if(a.g){Xl(a);let f=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||bt(a,"ready");try{f.onreadystatechange=v}catch{}}}function Xl(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function En(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),im(h)}};function Zl(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function vm(a){let h={};a=(a.g&&2<=En(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(te(a[v]))continue;var f=C(a[v]);let k=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=h[k]||[];h[k]=P,P.push(f)}A(h,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(a,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||h}function ed(a){this.Aa=0,this.i=[],this.j=new Gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,a),this.cb=Xr("retryDelaySeedMs",1e4,a),this.Wa=Xr("forwardChannelMaxRetries",2,a),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new xa(a&&a.concurrentRequestLimit),this.Da=new bm,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ed.prototype,n.la=8,n.G=1,n.connect=function(a,h,f,v){At(0),this.W=a,this.H=h||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.I=Ma(this,null,this.W),is(this)};function sr(a){if(td(a),a.G==3){var h=a.U++,f=Nt(a.I);if(Le(f,"SID",a.K),Le(f,"RID",h),Le(f,"TYPE","terminate"),eo(a,f),h=new $n(a,a.j,h),h.L=2,h.v=ts(Nt(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=h.v,f=!0),f||(h.g=Na(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Yo(h)}Oa(a)}function Zr(a){a.g&&(to(a),a.g.cancel(),a.g=null)}function td(a){Zr(a),a.u&&(c.clearTimeout(a.u),a.u=null),ss(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function is(a){if(!Ml(a.h)&&!a.s){a.s=!0;var h=a.Ga;$i||Yt(),hi||($i(),hi=!0),qi.add(h,a),a.B=0}}function _m(a,h){return Nl(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Hr(E(a.Ga,a,h),Pa(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let k=new $n(this,this.j,a),P=this.o;if(this.S&&(P?(P=y(P),T(P,this.S)):P=this.S),this.m!==null||this.O||(k.H=P,P=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=rs(this,k,h),f=Nt(this.I),Le(f,"RID",a),Le(f,"CVER",22),this.D&&Le(f,"X-HTTP-Session-Id",this.D),eo(this,f),P&&(this.O?h="headers="+encodeURIComponent(String(Wl(P)))+"&"+h:this.m&&Sa(f,this.m,P)),Aa(this.h,k),this.Ua&&Le(f,"TYPE","init"),this.P?(Le(f,"$req",h),Le(f,"SID","null"),k.T=!0,Zi(k,f,null)):Zi(k,f,h),this.G=2}}else this.G==3&&(a?ka(this,a):this.i.length==0||Ml(this.h)||ka(this))};function ka(a,h){var f;h?f=h.l:f=a.U++;let v=Nt(a.I);Le(v,"SID",a.K),Le(v,"RID",f),Le(v,"AID",a.T),eo(a,v),a.m&&a.o&&Sa(v,a.m,a.o),f=new $n(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),h&&(a.i=h.D.concat(a.i)),h=rs(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Aa(a.h,f),Zi(f,v,h)}function eo(a,h){a.H&&ae(a.H,function(f,v){Le(h,v,f)}),a.l&&Ul({},function(f,v){Le(h,v,f)})}function rs(a,h,f){f=Math.min(a.i.length,f);var v=a.l?E(a.l.Na,a.l,a):null;e:{var k=a.i;let P=-1;for(;;){let q=["count="+f];P==-1?0<f?(P=k[0].g,q.push("ofs="+P)):P=0:q.push("ofs="+P);let Oe=!0;for(let st=0;st<f;st++){let we=k[st].g,pt=k[st].map;if(we-=P,0>we)P=Math.max(0,k[st].g-100),Oe=!1;else try{Hl(pt,q,"req"+we+"_")}catch{v&&v(pt)}}if(Oe){v=q.join("&");break e}}}return a=a.i.splice(0,f),h.D=a,v}function Ra(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;$i||Yt(),hi||($i(),hi=!0),qi.add(h,a),a.v=0}}function os(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Hr(E(a.Fa,a),Pa(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,no(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Hr(E(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Zr(this),no(this))};function to(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function no(a){a.g=new $n(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=Nt(a.qa);Le(h,"RID","rpc"),Le(h,"SID",a.K),Le(h,"AID",a.T),Le(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Le(h,"TO",a.ja),Le(h,"TYPE","xmlhttp"),eo(a,h),a.m&&a.o&&Sa(h,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=ts(Nt(h)),f.m=null,f.P=!0,$e(f,a)}n.Za=function(){this.C!=null&&(this.C=null,Zr(this),os(this),At(19))};function ss(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Da(a,h){var f=null;if(a.g==h){ss(a),to(a),a.g=null;var v=2}else if(Ta(a.h,h))f=h.D,Fl(a.h,h),v=1;else return;if(a.G!=0){if(h.o)if(v==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var k=a.B;v=Ho(),bt(v,new Go(v,f)),is(a)}else Ra(a);else if(k=h.s,k==3||k==0&&0<h.X||!(v==1&&_m(a,h)||v==2&&os(a)))switch(f&&0<f.length&&(h=a.h,h.i=h.i.concat(f)),k){case 1:Gn(a,5);break;case 4:Gn(a,10);break;case 3:Gn(a,6);break;default:Gn(a,2)}}}function Pa(a,h){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*h}function Gn(a,h){if(a.j.info("Error code "+h),h==2){var f=E(a.fb,a),v=a.Xa;let k=!v;v=new fi(v||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Kr(v,"https"),ts(v),k?gm(v.toString(),f):ir(v.toString(),f)}else At(2);a.G=0,a.l&&a.l.sa(h),Oa(a),td(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Oa(a){if(a.G=0,a.ka=[],a.l){let h=Ll(a.h);(h.length!=0||a.i.length!=0)&&(D(a.ka,h),D(a.ka,a.i),a.h.i.length=0,L(a.i),a.i.length=0),a.l.ra()}}function Ma(a,h,f){var v=f instanceof fi?Nt(f):new fi(f);if(v.g!="")h&&(v.g=h+"."+v.g),Zo(v,v.s);else{var k=c.location;v=k.protocol,h=h?h+"."+k.hostname:k.hostname,k=+k.port;var P=new fi(null);v&&Kr(P,v),h&&(P.g=h),k&&Zo(P,k),f&&(P.l=f),v=P}return f=a.D,h=a.ya,f&&h&&Le(v,f,h),Le(v,"VER",a.la),eo(a,v),v}function Na(a,h,f){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new qe(new Yr({eb:f})):new qe(a.pa),h.Ha(a.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fa(){}n=Fa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function io(){}io.prototype.g=function(a,h){return new Ft(a,h)};function Ft(a,h){ot.call(this),this.g=new ed(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!te(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!te(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new ar(this)}M(Ft,ot),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){sr(this.g)},Ft.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=qo(a),a=f);h.i.push(new lm(h.Ya++,a)),h.G==3&&is(h)},Ft.prototype.N=function(){this.g.l=null,delete this.j,sr(this.g),delete this.g,Ft.aa.N.call(this)};function pi(a){_a.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(let f in h){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}M(pi,_a);function nd(){ya.call(this),this.status=1}M(nd,ya);function ar(a){this.g=a}M(ar,Fa),ar.prototype.ua=function(){bt(this.g,"a")},ar.prototype.ta=function(a){bt(this.g,new pi(a))},ar.prototype.sa=function(a){bt(this.g,new nd)},ar.prototype.ra=function(){bt(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,Pg=Ni.createWebChannelTransport=function(){return new io},Dg=Ni.getStatEventTarget=function(){return Ho()},Rg=Ni.Event=wn,Ku=Ni.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wo.NO_ERROR=0,Wo.TIMEOUT=8,Wo.HTTP_ERROR=6,Wc=Ni.ErrorCode=Wo,Pl.COMPLETE="complete",kg=Ni.EventType=Pl,kl.EventType=$r,$r.OPEN="a",$r.CLOSE="b",$r.ERROR="c",$r.MESSAGE="d",ot.prototype.listen=ot.prototype.K,zs=Ni.WebChannel=kl,Sg=Ni.FetchXmlHttpFactory=Yr,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,Cg=Ni.XhrIo=qe}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});var sE="@firebase/firestore";var It=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");var aa="10.13.1";var Oo=new Cr("@firebase/firestore");function Kc(){return Oo.logLevel}function Y(n,...e){if(Oo.logLevel<=ve.DEBUG){let t=e.map(_v);Oo.debug(`Firestore (${aa}): ${n}`,...t)}}function Li(n,...e){if(Oo.logLevel<=ve.ERROR){let t=e.map(_v);Oo.error(`Firestore (${aa}): ${n}`,...t)}}function Qs(n,...e){if(Oo.logLevel<=ve.WARN){let t=e.map(_v);Oo.warn(`Firestore (${aa}): ${n}`,...t)}}function _v(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function se(n="Unexpected state"){let e=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: `+n;throw Li(e),new Error(e)}function je(n,e){n||se()}function de(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends Gt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Fi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Zu=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Lg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(It.UNAUTHENTICATED))}shutdown(){}},Vg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Ug=class{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve(),o=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fi,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let d=o;e.enqueueRetryable(()=>x(this,null,function*(){yield d.promise,yield r(this.currentUser)}))},c=d=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?c(d):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fi)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(je(typeof i.accessToken=="string"),new Zu(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new It(e)}},jg=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=It.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Bg=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new jg(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}},zg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},$g=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=o=>{o.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(je(typeof t.token=="string"),this.R=t.token,new zg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function YO(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var eh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=YO(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}};function Ae(n,e){return n<e?-1:n>e?1:0}function Js(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Rt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new K(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new K(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new K(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ue=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Rt(0,0))}static max(){return new n(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var th=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&se(),i===void 0?i=e.length-t:i>e.length-t&&se(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Je=class n extends th{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new K(N.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},XO=/^[_a-zA-Z][_a-zA-Z0-9]*$/,un=class n extends th{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return XO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,o=()=>{if(i.length===0)throw new K(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},s=!1;for(;r<e.length;){let c=e[r];if(c==="\\"){if(r+1===e.length)throw new K(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new K(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else c==="`"?(s=!s,r++):c!=="."||s?(i+=c,r++):(o(),r++)}if(o(),s)throw new K(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var re=class n{constructor(e){this.path=e}static fromPath(e){return new n(Je.fromString(e))}static fromName(e){return new n(Je.fromString(e).popFirst(5))}static empty(){return new n(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Je(e.slice()))}};var qg=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};qg.UNKNOWN_ID=-1;function ZO(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ue.fromTimestamp(i===1e9?new Rt(t+1,0):new Rt(t,i));return new Mo(r,re.empty(),e)}function eM(n){return new Mo(n.readTime,n.key,-1)}var Mo=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(ue.min(),re.empty(),-1)}static max(){return new n(ue.max(),re.empty(),-1)}};function tM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=re.comparator(n.documentKey,e.documentKey),t!==0?t:Ae(n.largestBatchId,e.largestBatchId))}var nM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function fl(n){return x(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==nM)throw n;Y("LocalStore","Unexpectedly lost primary lease")})}var j=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,o=0,s=!1;e.forEach(c=>{++r,c.next(()=>{++o,s&&o===r&&t()},d=>i(d))}),s=!0,o===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let o=e.length,s=new Array(o),c=0;for(let d=0;d<o;d++){let m=d;t(e[m]).next(b=>{s[m]=b,++c,c===o&&i(s)},b=>r(b))}})}static doWhile(e,t){return new n((i,r)=>{let o=()=>{e()===!0?t().next(()=>{o()},r):i()};o()})}};function iM(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pl(n){return n.name==="IndexedDbTransactionError"}var BE=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Rh(n){return n==null}function tl(n){return n===0&&1/n==-1/0}function rM(n){return typeof n=="number"&&Number.isInteger(n)&&!tl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var oM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Dz=[...oM,"documentOverlays"],sM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],aM=sM,cM=[...aM,"indexConfiguration","indexState","indexEntries"];var Pz=[...cM,"globals"];function aE(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ca(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zE(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var et=class n{constructor(e,t){this.comparator=e,this.root=t||ci.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gs(this.root,e,this.comparator,!0)}},Gs=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ci=class n{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new n(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):o===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();let e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}};ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1;ci.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,t,i,r,o){return this}insert(e,t,i){return new ci(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Bt=class n{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nh(this.data.getIterator())}getIteratorFrom(e){return new nh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},nh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ai=class n{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new n([])}unionWith(e){let t=new Bt(un.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Js(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var ih=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var zt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ih("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};zt.EMPTY_BYTE_STRING=new zt("");var lM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(n){if(je(!!n),typeof n=="string"){let e=0,t=lM.exec(n);if(je(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ke(n.seconds),nanos:Ke(n.nanos)}}function Ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vr(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}function yv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function wv(n){let e=n.mapValue.fields.__previous_value__;return yv(e)?wv(e):e}function nl(n){let e=Vi(n.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}var Gg=class{constructor(e,t,i,r,o,s,c,d,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=m}},rh=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function No(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yv(n)?4:qE(n)?9007199254740991:$E(n)?10:11:se()}function ui(n,e){if(n===e)return!0;let t=No(n);if(t!==No(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nl(n).isEqual(nl(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Vi(r.timestampValue),c=Vi(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return Vr(r.bytesValue).isEqual(Vr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Ke(r.geoPointValue.latitude)===Ke(o.geoPointValue.latitude)&&Ke(r.geoPointValue.longitude)===Ke(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ke(r.integerValue)===Ke(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Ke(r.doubleValue),c=Ke(o.doubleValue);return s===c?tl(s)===tl(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Js(n.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(r,o){let s=r.mapValue.fields||{},c=o.mapValue.fields||{};if(aE(s)!==aE(c))return!1;for(let d in s)if(s.hasOwnProperty(d)&&(c[d]===void 0||!ui(s[d],c[d])))return!1;return!0}(n,e);default:return se()}}function il(n,e){return(n.values||[]).find(t=>ui(t,e))!==void 0}function Ys(n,e){if(n===e)return 0;let t=No(n),i=No(e);if(t!==i)return Ae(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ae(n.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Ke(o.integerValue||o.doubleValue),d=Ke(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return cE(n.timestampValue,e.timestampValue);case 4:return cE(nl(n),nl(e));case 5:return Ae(n.stringValue,e.stringValue);case 6:return function(o,s){let c=Vr(o),d=Vr(s);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),d=s.split("/");for(let m=0;m<c.length&&m<d.length;m++){let b=Ae(c[m],d[m]);if(b!==0)return b}return Ae(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let c=Ae(Ke(o.latitude),Ke(s.latitude));return c!==0?c:Ae(Ke(o.longitude),Ke(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return lE(n.arrayValue,e.arrayValue);case 10:return function(o,s){var c,d,m,b;let g=o.fields||{},E=s.fields||{},R=(c=g.value)===null||c===void 0?void 0:c.arrayValue,M=(d=E.value)===null||d===void 0?void 0:d.arrayValue,L=Ae(((m=R?.values)===null||m===void 0?void 0:m.length)||0,((b=M?.values)===null||b===void 0?void 0:b.length)||0);return L!==0?L:lE(R,M)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Qu.mapValue&&s===Qu.mapValue)return 0;if(o===Qu.mapValue)return 1;if(s===Qu.mapValue)return-1;let c=o.fields||{},d=Object.keys(c),m=s.fields||{},b=Object.keys(m);d.sort(),b.sort();for(let g=0;g<d.length&&g<b.length;++g){let E=Ae(d[g],b[g]);if(E!==0)return E;let R=Ys(c[d[g]],m[b[g]]);if(R!==0)return R}return Ae(d.length,b.length)}(n.mapValue,e.mapValue);default:throw se()}}function cE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ae(n,e);let t=Vi(n),i=Vi(e),r=Ae(t.seconds,i.seconds);return r!==0?r:Ae(t.nanos,i.nanos)}function lE(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let o=Ys(t[r],i[r]);if(o)return o}return Ae(t.length,i.length)}function Xs(n){return Wg(n)}function Wg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=Vi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Vr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let o of t.values||[])r?r=!1:i+=",",i+=Wg(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${Wg(t.fields[s])}`;return r+"}"}(n.mapValue):se()}function dE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Kg(n){return!!n&&"integerValue"in n}function Iv(n){return!!n&&"arrayValue"in n}function uE(n){return!!n&&"nullValue"in n}function hE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yu(n){return!!n&&"mapValue"in n}function $E(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Jc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ca(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Jc(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qE(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Nn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Yu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jc(t)}setAll(e){let t=un.emptyPath(),i={},r=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let d=this.getFieldsMap(t);this.applyChanges(d,i,r),i={},r=[],t=c.popLast()}s?i[c.lastSegment()]=Jc(s):r.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){let t=this.field(e.popLast());Yu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Yu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ca(t,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new n(Jc(this.value))}};function HE(n){let e=[];return ca(n.fields,(t,i)=>{let r=new un([t]);if(Yu(i)){let o=HE(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new ai(e)}var Fn=class n{constructor(e,t,i,r,o,s,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ue.min(),ue.min(),ue.min(),Nn.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,ue.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,ue.min(),ue.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ue.min(),ue.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Zs=class{constructor(e,t){this.position=e,this.inclusive=t}};function mE(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?i=re.comparator(re.fromName(s.referenceValue),t.key):i=Ys(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function fE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ui(n.position[t],e.position[t]))return!1;return!0}var Fo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function dM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var oh=class{},ft=class n extends oh{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Jg(e,t,i):t==="array-contains"?new Zg(e,i):t==="in"?new eb(e,i):t==="not-in"?new tb(e,i):t==="array-contains-any"?new nb(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Yg(e,i):new Xg(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ys(t,this.value)):t!==null&&No(this.value)===No(t)&&this.matchesComparison(Ys(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ln=class n extends oh{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return GE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function GE(n){return n.op==="and"}function WE(n){return uM(n)&&GE(n)}function uM(n){for(let e of n.filters)if(e instanceof Ln)return!1;return!0}function Qg(n){if(n instanceof ft)return n.field.canonicalString()+n.op.toString()+Xs(n.value);if(WE(n))return n.filters.map(e=>Qg(e)).join(",");{let e=n.filters.map(t=>Qg(t)).join(",");return`${n.op}(${e})`}}function KE(n,e){return n instanceof ft?function(i,r){return r instanceof ft&&i.op===r.op&&i.field.isEqual(r.field)&&ui(i.value,r.value)}(n,e):n instanceof Ln?function(i,r){return r instanceof Ln&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,c)=>o&&KE(s,r.filters[c]),!0):!1}(n,e):void se()}function QE(n){return n instanceof ft?function(t){return`${t.field.canonicalString()} ${t.op} ${Xs(t.value)}`}(n):n instanceof Ln?function(t){return t.op.toString()+" {"+t.getFilters().map(QE).join(" ,")+"}"}(n):"Filter"}var Jg=class extends ft{constructor(e,t,i){super(e,t,i),this.key=re.fromName(i.referenceValue)}matches(e){let t=re.comparator(e.key,this.key);return this.matchesComparison(t)}},Yg=class extends ft{constructor(e,t){super(e,"in",t),this.keys=JE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Xg=class extends ft{constructor(e,t){super(e,"not-in",t),this.keys=JE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function JE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>re.fromName(i.referenceValue))}var Zg=class extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Iv(t)&&il(t.arrayValue,this.value)}},eb=class extends ft{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&il(this.value.arrayValue,t)}},tb=class extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!il(this.value.arrayValue,t)}},nb=class extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Iv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>il(this.value.arrayValue,i))}};var ib=class{constructor(e,t=null,i=[],r=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function pE(n,e=null,t=[],i=[],r=null,o=null,s=null){return new ib(n,e,t,i,r,o,s)}function Ev(n){let e=de(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Qg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Rh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Xs(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Xs(i)).join(",")),e.ue=t}return e.ue}function xv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fE(n.startAt,e.startAt)&&fE(n.endAt,e.endAt)}function rb(n){return re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ur=class{constructor(e,t=null,i=[],r=[],o=null,s="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function hM(n,e,t,i,r,o,s,c){return new Ur(n,e,t,i,r,o,s,c)}function Tv(n){return new Ur(n)}function gE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function YE(n){return n.collectionGroup!==null}function Yc(n){let e=de(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Bt(un.comparator);return s.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(c=c.add(m.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Fo(o,i))}),t.has(un.keyField().canonicalString())||e.ce.push(new Fo(un.keyField(),i))}return e.ce}function li(n){let e=de(n);return e.le||(e.le=mM(e,Yc(n))),e.le}function mM(n,e){if(n.limitType==="F")return pE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Fo(r.field,o)});let t=n.endAt?new Zs(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Zs(n.startAt.position,n.startAt.inclusive):null;return pE(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ob(n,e){let t=n.filters.concat([e]);return new Ur(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function sh(n,e,t){return new Ur(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dh(n,e){return xv(li(n),li(e))&&n.limitType===e.limitType}function XE(n){return`${Ev(li(n))}|lt:${n.limitType}`}function $s(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>QE(r)).join(", ")}]`),Rh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Xs(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Xs(r)).join(",")),`Target(${i})`}(li(n))}; limitType=${n.limitType})`}function Ph(n,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):re.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(let o of Yc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(s,c,d){let m=mE(s,c,d);return s.inclusive?m<=0:m<0}(i.startAt,Yc(i),r)||i.endAt&&!function(s,c,d){let m=mE(s,c,d);return s.inclusive?m>=0:m>0}(i.endAt,Yc(i),r))}(n,e)}function fM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZE(n){return(e,t)=>{let i=!1;for(let r of Yc(n)){let o=pM(r,e,t);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function pM(n,e,t){let i=n.field.isKeyField()?re.comparator(e.key,t.key):function(o,s,c){let d=s.data.field(o),m=c.data.field(o);return d!==null&&m!==null?Ys(d,m):se()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return se()}}var jr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(t,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return zE(this.inner)}size(){return this.innerSize}};var gM=new et(re.comparator);function Ui(){return gM}var ex=new et(re.comparator);function Qc(...n){let e=ex;for(let t of n)e=e.insert(t.key,t);return e}function tx(n){let e=ex;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ko(){return Xc()}function nx(){return Xc()}function Xc(){return new jr(n=>n.toString(),(n,e)=>n.isEqual(e))}var bM=new et(re.comparator),vM=new Bt(re.comparator);function _e(...n){let e=vM;for(let t of n)e=e.add(t);return e}var _M=new Bt(Ae);function yM(){return _M}function Av(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tl(e)?"-0":e}}function ix(n){return{integerValue:""+n}}function wM(n,e){return rM(e)?ix(e):Av(n,e)}var ea=class{constructor(){this._=void 0}};function IM(n,e,t){return n instanceof ta?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&yv(o)&&(o=wv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Lo?ox(n,e):n instanceof Vo?sx(n,e):function(r,o){let s=rx(r,o),c=bE(s)+bE(r.Pe);return Kg(s)&&Kg(r.Pe)?ix(c):Av(r.serializer,c)}(n,e)}function EM(n,e,t){return n instanceof Lo?ox(n,e):n instanceof Vo?sx(n,e):t}function rx(n,e){return n instanceof na?function(i){return Kg(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var ta=class extends ea{},Lo=class extends ea{constructor(e){super(),this.elements=e}};function ox(n,e){let t=ax(e);for(let i of n.elements)t.some(r=>ui(r,i))||t.push(i);return{arrayValue:{values:t}}}var Vo=class extends ea{constructor(e){super(),this.elements=e}};function sx(n,e){let t=ax(e);for(let i of n.elements)t=t.filter(r=>!ui(r,i));return{arrayValue:{values:t}}}var na=class extends ea{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function bE(n){return Ke(n.integerValue||n.doubleValue)}function ax(n){return Iv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function xM(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof Lo&&r instanceof Lo||i instanceof Vo&&r instanceof Vo?Js(i.elements,r.elements,ui):i instanceof na&&r instanceof na?ui(i.Pe,r.Pe):i instanceof ta&&r instanceof ta}(n.transform,e.transform)}var sb=class{constructor(e,t){this.version=e,this.transformResults=t}},Po=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Xu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ia=class{};function cx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ah(n.key,Po.none()):new Uo(n.key,n.data,Po.none());{let t=n.data,i=Nn.empty(),r=new Bt(un.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new ji(n.key,i,new ai(r.toArray()),Po.none())}}function TM(n,e,t){n instanceof Uo?function(r,o,s){let c=r.value.clone(),d=_E(r.fieldTransforms,o,s.transformResults);c.setAll(d),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ji?function(r,o,s){if(!Xu(r.precondition,o))return void o.convertToUnknownDocument(s.version);let c=_E(r.fieldTransforms,o,s.transformResults),d=o.data;d.setAll(lx(r)),d.setAll(c),o.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Zc(n,e,t,i){return n instanceof Uo?function(o,s,c,d){if(!Xu(o.precondition,s))return c;let m=o.value.clone(),b=yE(o.fieldTransforms,d,s);return m.setAll(b),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof ji?function(o,s,c,d){if(!Xu(o.precondition,s))return c;let m=yE(o.fieldTransforms,d,s),b=s.data;return b.setAll(lx(o)),b.setAll(m),s.convertToFoundDocument(s.version,b).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,i):function(o,s,c){return Xu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(n,e,t)}function AM(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),o=rx(i.transform,r||null);o!=null&&(t===null&&(t=Nn.empty()),t.set(i.field,o))}return t||null}function vE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Js(i,r,(o,s)=>xM(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Uo=class extends ia{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ji=class extends ia{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function lx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function _E(n,e,t){let i=new Map;je(n.length===t.length);for(let r=0;r<t.length;r++){let o=n[r],s=o.transform,c=e.data.field(o.field);i.set(o.field,EM(s,c,t[r]))}return i}function yE(n,e,t){let i=new Map;for(let r of n){let o=r.transform,s=t.data.field(r.field);i.set(r.field,IM(o,s,e))}return i}var ah=class extends ia{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ab=class extends ia{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var cb=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&TM(o,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Zc(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Zc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=nx();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(r.key)?null:c;let d=cx(s,c);d!==null&&i.set(r.key,d),s.isValidDocument()||s.convertToNoDocument(ue.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_e())}isEqual(e){return this.batchId===e.batchId&&Js(this.mutations,e.mutations,(t,i)=>vE(t,i))&&Js(this.baseMutations,e.baseMutations,(t,i)=>vE(t,i))}},lb=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){je(e.mutations.length===i.length);let r=function(){return bM}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new n(e,t,i,r)}};var db=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ub=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ht,Ee;function CM(n){switch(n){default:return se();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function dx(n){if(n===void 0)return Li("GRPC error has no .code"),N.UNKNOWN;switch(n){case ht.OK:return N.OK;case ht.CANCELLED:return N.CANCELLED;case ht.UNKNOWN:return N.UNKNOWN;case ht.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ht.INTERNAL:return N.INTERNAL;case ht.UNAVAILABLE:return N.UNAVAILABLE;case ht.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ht.NOT_FOUND:return N.NOT_FOUND;case ht.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ht.ABORTED:return N.ABORTED;case ht.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ht.DATA_LOSS:return N.DATA_LOSS;default:return se()}}(Ee=ht||(ht={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";var wE=null;function SM(){return new TextEncoder}var kM=new Fr([4294967295,4294967295],0);function IE(n){let e=SM().encode(n),t=new Ag;return t.update(e),new Uint8Array(t.digest())}function EE(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fr([t,i],0),new Fr([r,o],0)]}var hb=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ro(`Invalid padding: ${t}`);if(i<0)throw new Ro(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ro(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ro(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Fr.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(Fr.fromNumber(i)));return r.compare(kM)===1&&(r=new Fr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=IE(e),[i,r]=EE(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,t);return i.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let t=IE(e),[i,r]=EE(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},Ro=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ch=class n{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(ue.min(),r,new et(Ae),Ui(),_e())}},rl=class n{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,_e(),_e(),_e())}};var Ws=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},lh=class{constructor(e,t){this.targetId=e,this.me=t}},dh=class{constructor(e,t,i=zt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},uh=class{constructor(){this.fe=0,this.ge=TE(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),t=_e(),i=_e();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:se()}}),new rl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=TE()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},mb=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ui(),this.qe=xE(),this.Qe=new et(Ae)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let o=r.target;if(rb(o))if(i===0){let s=new re(o.path);this.Ue(t,s,Fn.newNoDocument(s,ue.min()))}else je(i===1);else{let s=this.Ye(t);if(s!==i){let c=this.Ze(e),d=c?this.Xe(c,e,s):1;if(d!==0){this.je(t);let m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,m)}wE?.et(function(b,g,E,R,M){var L,D,z,te,X,Z;let Ce={localCacheCount:b,existenceFilterCount:g.count,databaseId:E.database,projectId:E.projectId},ae=g.unchangedNames;return ae&&(Ce.bloomFilter={applied:M===0,hashCount:(L=ae?.hashCount)!==null&&L!==void 0?L:0,bitmapLength:(te=(z=(D=ae?.bits)===null||D===void 0?void 0:D.bitmap)===null||z===void 0?void 0:z.length)!==null&&te!==void 0?te:0,padding:(Z=(X=ae?.bits)===null||X===void 0?void 0:X.padding)!==null&&Z!==void 0?Z:0,mightContain:A=>{var y;return(y=R?.mightContain(A))!==null&&y!==void 0&&y}}),Ce}(s,e.me,this.Le.tt(),c,d))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t,s,c;try{s=Vr(i).toUint8Array()}catch(d){if(d instanceof ih)return Qs("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new hb(s,r,o)}catch(d){return Qs(d instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ie===0?null:c}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,o,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&rb(c.target)){let d=new re(c.target.path);this.ke.get(d)!==null||this.it(s,d)||this.Ue(s,d,Fn.newNoDocument(d,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let i=_e();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(d=>{let m=this.Je(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new ch(e,t,this.Qe,this.ke,i);return this.ke=Ui(),this.qe=xE(),this.Qe=new et(Ae),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new uh,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Bt(Ae),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||Y("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new uh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function xE(){return new et(re.comparator)}function TE(){return new et(re.comparator)}var RM={asc:"ASCENDING",desc:"DESCENDING"},DM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PM={and:"AND",or:"OR"},fb=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function pb(n,e){return n.useProto3Json||Rh(e)?e:{value:e}}function hh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ux(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function OM(n,e){return hh(n,e.toTimestamp())}function di(n){return je(!!n),ue.fromTimestamp(function(t){let i=Vi(t);return new Rt(i.seconds,i.nanos)}(n))}function Cv(n,e){return gb(n,e).canonicalString()}function gb(n,e){let t=function(r){return new Je(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function hx(n){let e=Je.fromString(n);return je(bx(e)),e}function bb(n,e){return Cv(n.databaseId,e.path)}function Og(n,e){let t=hx(e);if(t.get(1)!==n.databaseId.projectId)throw new K(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new K(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new re(fx(t))}function mx(n,e){return Cv(n.databaseId,e)}function MM(n){let e=hx(n);return e.length===4?Je.emptyPath():fx(e)}function vb(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fx(n){return je(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function AE(n,e,t){return{name:bb(n,e),fields:t.value.mapValue.fields}}function NM(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(m,b){return m.useProto3Json?(je(b===void 0||typeof b=="string"),zt.fromBase64String(b||"")):(je(b===void 0||b instanceof Buffer||b instanceof Uint8Array),zt.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(m){let b=m.code===void 0?N.UNKNOWN:dx(m.code);return new K(b,m.message||"")}(s);t=new dh(i,r,o,c||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Og(n,i.document.name),o=di(i.document.updateTime),s=i.document.createTime?di(i.document.createTime):ue.min(),c=new Nn({mapValue:{fields:i.document.fields}}),d=Fn.newFoundDocument(r,o,s,c),m=i.targetIds||[],b=i.removedTargetIds||[];t=new Ws(m,b,d.key,d)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Og(n,i.document),o=i.readTime?di(i.readTime):ue.min(),s=Fn.newNoDocument(r,o),c=i.removedTargetIds||[];t=new Ws([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Og(n,i.document),o=i.removedTargetIds||[];t=new Ws([],o,r,null)}else{if(!("filter"in e))return se();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new ub(r,o),c=i.targetId;t=new lh(c,s)}}return t}function FM(n,e){let t;if(e instanceof Uo)t={update:AE(n,e.key,e.value)};else if(e instanceof ah)t={delete:bb(n,e.key)};else if(e instanceof ji)t={update:AE(n,e.key,e.data),updateMask:HM(e.fieldMask)};else{if(!(e instanceof ab))return se();t={verify:bb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let c=s.transform;if(c instanceof ta)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Lo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Vo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof na)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw se()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:OM(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(n,e.precondition)),t}function LM(n,e){return n&&n.length>0?(je(e!==void 0),n.map(t=>function(r,o){let s=r.updateTime?di(r.updateTime):di(o);return s.isEqual(ue.min())&&(s=di(o)),new sb(s,r.transformResults||[])}(t,e))):[]}function VM(n,e){return{documents:[mx(n,e.path)]}}function UM(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=mx(n,r);let o=function(m){if(m.length!==0)return gx(Ln.create(m,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(m){if(m.length!==0)return m.map(b=>function(E){return{field:qs(E.field),direction:zM(E.dir)}}(b))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=pb(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{_t:t,parent:r}}function jM(n){let e=MM(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){je(i===1);let b=t.from[0];b.allDescendants?r=b.collectionId:e=e.child(b.collectionId)}let o=[];t.where&&(o=function(g){let E=px(g);return E instanceof Ln&&WE(E)?E.getFilters():[E]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(E=>function(M){return new Fo(Hs(M.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(g){let E;return E=typeof g=="object"?g.value:g,Rh(E)?null:E}(t.limit));let d=null;t.startAt&&(d=function(g){let E=!!g.before,R=g.values||[];return new Zs(R,E)}(t.startAt));let m=null;return t.endAt&&(m=function(g){let E=!g.before,R=g.values||[];return new Zs(R,E)}(t.endAt)),hM(e,r,s,o,c,"F",d,m)}function BM(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function px(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=Hs(t.unaryFilter.field);return ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Hs(t.unaryFilter.field);return ft.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Hs(t.unaryFilter.field);return ft.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Hs(t.unaryFilter.field);return ft.create(s,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(n):n.fieldFilter!==void 0?function(t){return ft.create(Hs(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ln.create(t.compositeFilter.filters.map(i=>px(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return se()}}(t.compositeFilter.op))}(n):se()}function zM(n){return RM[n]}function $M(n){return DM[n]}function qM(n){return PM[n]}function qs(n){return{fieldPath:n.canonicalString()}}function Hs(n){return un.fromServerFormat(n.fieldPath)}function gx(n){return n instanceof ft?function(t){if(t.op==="=="){if(hE(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NAN"}};if(uE(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hE(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NOT_NAN"}};if(uE(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(t.field),op:$M(t.op),value:t.value}}}(n):n instanceof Ln?function(t){let i=t.getFilters().map(r=>gx(r));return i.length===1?i[0]:{compositeFilter:{op:qM(t.op),filters:i}}}(n):se()}function HM(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var ol=class n{constructor(e,t,i,r,o=ue.min(),s=ue.min(),c=zt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var _b=class{constructor(e){this.ct=e}};function GM(n){let e=jM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sh(e,e.limit,"L"):e}var mh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ke(e.integerValue));else if("doubleValue"in e){let i=Ke(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),tl(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=Vi(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Vr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?qE(e)?this.dt(t,Number.MAX_SAFE_INTEGER):$E(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):se()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let o=e.fields||{};this.dt(t,53);let s="value",c=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(Ke(c)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),re.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};mh.vt=new mh;var yb=class{constructor(){this.un=new wb}addToCollectionParentIndex(e,t){return this.un.add(t),j.resolve()}getCollectionParents(e,t){return j.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return j.resolve()}deleteFieldIndex(e,t){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,t){return j.resolve()}getDocumentsMatchingTarget(e,t){return j.resolve(null)}getIndexType(e,t){return j.resolve(0)}getFieldIndexes(e,t){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,t){return j.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,t){return j.resolve(Mo.min())}updateCollectionGroup(e,t,i){return j.resolve()}updateIndexEntries(e,t){return j.resolve()}},wb=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Bt(Je.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Bt(Je.comparator)).toArray()}};var Mz=new Uint8Array(0);var si=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};si.DEFAULT_COLLECTION_PERCENTILE=10,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,si.DEFAULT=new si(41943040,si.DEFAULT_COLLECTION_PERCENTILE,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),si.DISABLED=new si(-1,0,0);var sl=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Ib=class{constructor(){this.changes=new jr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?j.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Eb=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var xb=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Zc(i.mutation,r,ai.empty(),Rt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,_e()).next(()=>i))}getLocalViewOfDocuments(e,t,i=_e()){let r=ko();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Qc();return o.forEach((c,d)=>{s=s.insert(c,d.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let i=ko();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,_e()))}populateOverlays(e,t,i){let r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,i,r){let o=Ui(),s=Xc(),c=function(){return Xc()}();return t.forEach((d,m)=>{let b=i.get(m.key);r.has(m.key)&&(b===void 0||b.mutation instanceof ji)?o=o.insert(m.key,m):b!==void 0?(s.set(m.key,b.mutation.getFieldMask()),Zc(b.mutation,m,b.mutation.getFieldMask(),Rt.now())):s.set(m.key,ai.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((m,b)=>s.set(m,b)),t.forEach((m,b)=>{var g;return c.set(m,new Eb(b,(g=s.get(m))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){let i=Xc(),r=new et((s,c)=>s-c),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(d=>{let m=t.get(d);if(m===null)return;let b=i.get(d)||ai.empty();b=c.applyToLocalView(m,b),i.set(d,b);let g=(r.get(c.batchId)||_e()).add(d);r=r.insert(c.batchId,g)})}).next(()=>{let s=[],c=r.getReverseIterator();for(;c.hasNext();){let d=c.getNext(),m=d.key,b=d.value,g=nx();b.forEach(E=>{if(!o.has(E)){let R=cx(t.get(E),i.get(E));R!==null&&g.set(E,R),o=o.add(E)}}),s.push(this.documentOverlayCache.saveOverlays(e,m,g))}return j.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):YE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):j.resolve(ko()),c=-1,d=o;return s.next(m=>j.forEach(m,(b,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(b)?j.resolve():this.remoteDocumentCache.getEntry(e,b).next(E=>{d=d.insert(b,E)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,d,m,_e())).next(b=>({batchId:c,changes:tx(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new re(t)).next(i=>{let r=Qc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let o=t.collectionGroup,s=Qc();return this.indexManager.getCollectionParents(e,o).next(c=>j.forEach(c,d=>{let m=function(g,E){return new Ur(E,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,r).next(b=>{b.forEach((g,E)=>{s=s.insert(g,E)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((d,m)=>{let b=m.getKey();s.get(b)===null&&(s=s.insert(b,Fn.newInvalidDocument(b)))});let c=Qc();return s.forEach((d,m)=>{let b=o.get(d);b!==void 0&&Zc(b.mutation,m,ai.empty(),Rt.now()),Ph(t,m)&&(c=c.insert(d,m))}),c})}};var Tb=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return j.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:di(r.createTime)}}(t)),j.resolve()}getNamedQuery(e,t){return j.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:GM(r.bundledQuery),readTime:di(r.readTime)}}(t)),j.resolve()}};var Ab=class{constructor(){this.overlays=new et(re.comparator),this.Ir=new Map}getOverlay(e,t){return j.resolve(this.overlays.get(t))}getOverlays(e,t){let i=ko();return j.forEach(t,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.ht(e,t,o)}),j.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),j.resolve()}getOverlaysForCollection(e,t,i){let r=ko(),o=t.length+1,s=new re(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let d=c.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return j.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new et((m,b)=>m-b),s=this.overlays.getIterator();for(;s.hasNext();){let m=s.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let b=o.get(m.largestBatchId);b===null&&(b=ko(),o=o.insert(m.largestBatchId,b)),b.set(m.getKey(),m)}}let c=ko(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,b)=>c.set(m,b)),!(c.size()>=r)););return j.resolve(c)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new db(t,i));let o=this.Ir.get(t);o===void 0&&(o=_e(),this.Ir.set(t,o)),this.Ir.set(t,o.add(i.key))}};var Cb=class{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,j.resolve()}};var al=class{constructor(){this.Tr=new Bt(mt.Er),this.dr=new Bt(mt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new mt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new mt(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new re(new Je([])),i=new mt(t,e),r=new mt(t,e+1),o=[];return this.dr.forEachInRange([i,r],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new re(new Je([])),i=new mt(t,e),r=new mt(t,e+1),o=_e();return this.dr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new mt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},mt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return re.comparator(e.key,t.key)||Ae(e.wr,t.wr)}static Ar(e,t){return Ae(e.wr,t.wr)||re.comparator(e.key,t.key)}};var Sb=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Bt(mt.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new cb(o,t,i,r);this.mutationQueue.push(s);for(let c of r)this.br=this.br.add(new mt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return j.resolve(s)}lookupMutationBatch(e,t){return j.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),o=r<0?0:r;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new mt(t,0),r=new mt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],s=>{let c=this.Dr(s.wr);o.push(c)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Bt(Ae);return t.forEach(r=>{let o=new mt(r,0),s=new mt(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{i=i.add(c.wr)})}),j.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,o=i;re.isDocumentKey(o)||(o=o.child(""));let s=new mt(new re(o),0),c=new Bt(Ae);return this.br.forEachWhile(d=>{let m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(c=c.add(d.wr)),!0)},s),j.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){je(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return j.forEach(t.mutations,r=>{let o=new mt(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new mt(t,0),r=this.br.firstAfterOrEqual(i);return j.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var kb=class{constructor(e){this.Mr=e,this.docs=function(){return new et(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return j.resolve(i?i.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let i=Ui();return t.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Fn.newInvalidDocument(r))}),j.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Ui(),s=t.path,c=new re(s.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){let{key:m,value:{document:b}}=d.getNext();if(!s.isPrefixOf(m.path))break;m.path.length>s.length+1||tM(eM(b),i)<=0||(r.has(b.key)||Ph(t,b))&&(o=o.insert(b.key,b.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,t,i,r){se()}Or(e,t){return j.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Rb(this)}getSize(e){return j.resolve(this.size)}},Rb=class extends Ib{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),j.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Db=class{constructor(e){this.persistence=e,this.Nr=new jr(t=>Ev(t),xv),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new al,this.targetCount=0,this.kr=sl.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),j.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new sl(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,j.resolve()}updateTargetData(e,t){return this.Kn(t),j.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,t,i){let r=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),j.waitFor(o).next(()=>r)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return j.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),j.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),j.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),j.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return j.resolve(i)}containsKey(e,t){return j.resolve(this.Br.containsKey(t))}};var Pb=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new BE(0),this.Kr=!1,this.Kr=!0,this.$r=new Cb,this.referenceDelegate=e(this),this.Ur=new Db(this),this.indexManager=new yb,this.remoteDocumentCache=function(r){return new kb(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new _b(t),this.Gr=new Tb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ab,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new Sb(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){Y("MemoryPersistence","Starting transaction:",e);let r=new Ob(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(e,t){return j.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},Ob=class extends Hg{constructor(e){super(),this.currentSequenceNumber=e}},Mb=class n{constructor(e){this.persistence=e,this.Jr=new al,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),j.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),j.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),j.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,i=>{let r=re.fromPath(i);return this.ei(e,r).next(o=>{o||t.removeEntry(r,ue.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return j.or([()=>j.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var Nb=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=_e(),r=_e();for(let o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,t.fromCache,i,r)}};var Fb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Lb=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return j0()?8:iM(wt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Fb;return this.Xi(e,t,s).next(c=>{if(o.result=c,this.zi)return this.es(e,t,s,c.size)})}).next(()=>o.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(Kc()<=ve.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",$s(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(Kc()<=ve.DEBUG&&Y("QueryEngine","Query:",$s(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Kc()<=ve.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",$s(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(t))):j.resolve())}Yi(e,t){if(gE(t))return j.resolve(null);let i=li(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=sh(t,null,"F"),i=li(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=_e(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,i).next(d=>{let m=this.ts(t,c);return this.ns(t,m,s,d.readTime)?this.Yi(e,sh(t,null,"F")):this.rs(e,m,t,d)}))})))}Zi(e,t,i,r){return gE(t)||r.isEqual(ue.min())?j.resolve(null):this.Ji.getDocuments(e,i).next(o=>{let s=this.ts(t,o);return this.ns(t,s,i,r)?j.resolve(null):(Kc()<=ve.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$s(t)),this.rs(e,s,t,ZO(r,-1)).next(c=>c))})}ts(e,t){let i=new Bt(ZE(e));return t.forEach((r,o)=>{Ph(e,o)&&(i=i.add(o))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(e,t,i){return Kc()<=ve.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",$s(t)),this.Ji.getDocumentsMatchingQuery(e,t,Mo.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Vb=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new et(Ae),this._s=new jr(o=>Ev(o),xv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xb(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function WM(n,e,t,i){return new Vb(n,e,t,i)}function vx(n,e){return x(this,null,function*(){let t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],c=[],d=_e();for(let m of r){s.push(m.batchId);for(let b of m.mutations)d=d.add(b.key)}for(let m of o){c.push(m.batchId);for(let b of m.mutations)d=d.add(b.key)}return t.localDocuments.getDocuments(i,d).next(m=>({hs:m,removedBatchIds:s,addedBatchIds:c}))})})})}function KM(n,e){let t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(c,d,m,b){let g=m.batch,E=g.keys(),R=j.resolve();return E.forEach(M=>{R=R.next(()=>b.getEntry(d,M)).next(L=>{let D=m.docVersions.get(M);je(D!==null),L.version.compareTo(D)<0&&(g.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),b.addEntry(L)))})}),R.next(()=>c.mutationQueue.removeMutationBatch(d,g))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=_e();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(d=d.add(c.batch.mutations[m].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function _x(n){let e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function QM(n,e){let t=de(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let c=[];e.targetChanges.forEach((b,g)=>{let E=r.get(g);if(!E)return;c.push(t.Ur.removeMatchingKeys(o,b.removedDocuments,g).next(()=>t.Ur.addMatchingKeys(o,b.addedDocuments,g)));let R=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?R=R.withResumeToken(zt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):b.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(b.resumeToken,i)),r=r.insert(g,R),function(L,D,z){return L.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(E,R,b)&&c.push(t.Ur.updateTargetData(o,R))});let d=Ui(),m=_e();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,b))}),c.push(JM(o,s,e.documentUpdates).next(b=>{d=b.Ps,m=b.Is})),!i.isEqual(ue.min())){let b=t.Ur.getLastRemoteSnapshotVersion(o).next(g=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(b)}return j.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,m)).next(()=>d)}).then(o=>(t.os=r,o))}function JM(n,e,t){let i=_e(),r=_e();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Ui();return t.forEach((c,d)=>{let m=o.get(c);d.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(c)),d.isNoDocument()&&d.version.isEqual(ue.min())?(e.removeEntry(c,d.readTime),s=s.insert(c,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),s=s.insert(c,d)):Y("LocalStore","Ignoring outdated watch update for ",c,". Current version:",m.version," Watch version:",d.version)}),{Ps:s,Is:r}})}function YM(n,e){let t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function XM(n,e){let t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(o=>o?(r=o,j.resolve(r)):t.Ur.allocateTargetId(i).next(s=>(r=new ol(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function Ub(n,e,t){return x(this,null,function*(){let i=de(n),r=i.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!pl(s))throw s;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function CE(n,e,t){let i=de(n),r=ue.min(),o=_e();return i.persistence.runTransaction("Execute query","readwrite",s=>function(d,m,b){let g=de(d),E=g._s.get(b);return E!==void 0?j.resolve(g.os.get(E)):g.Ur.getTargetData(m,b)}(i,s,li(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,c.targetId).next(d=>{o=d})}).next(()=>i.ss.getDocumentsMatchingQuery(s,e,t?r:ue.min(),t?o:_e())).next(c=>(ZM(i,fM(e),c),{documents:c,Ts:o})))}function ZM(n,e,t){let i=n.us.get(e)||ue.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.us.set(e,i)}var fh=class{constructor(){this.activeTargetIds=yM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var jb=class{constructor(){this.so=new fh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new fh,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Bb=class{_o(e){}shutdown(){}};var ph=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ju=null;function Mg(){return Ju===null?Ju=function(){return 268435456+Math.round(2147483648*Math.random())}():Ju++,"0x"+Ju.toString(16)}var eN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var zb=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var jt="WebChannelConnection",$b=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(t,i,r,o,s){let c=Mg(),d=this.xo(t,i.toUriEncodedString());Y("RestConnection",`Sending RPC '${t}' ${c}:`,d,r);let m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,o,s),this.No(t,d,m,r).then(b=>(Y("RestConnection",`Received RPC '${t}' ${c}: `,b),b),b=>{throw Qs("RestConnection",`RPC '${t}' ${c} failed with error: `,b,"url: ",d,"request:",r),b})}Lo(t,i,r,o,s,c){return this.Mo(t,i,r,o,s)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}xo(t,i){let r=eN[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let o=Mg();return new Promise((s,c)=>{let d=new Cg;d.setWithCredentials(!0),d.listenOnce(kg.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Wc.NO_ERROR:let b=d.getResponseJson();Y(jt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(b)),s(b);break;case Wc.TIMEOUT:Y(jt,`RPC '${e}' ${o} timed out`),c(new K(N.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:let g=d.getStatus();if(Y(jt,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);let R=E?.error;if(R&&R.status&&R.message){let M=function(D){let z=D.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(z)>=0?z:N.UNKNOWN}(R.status);c(new K(M,R.message))}else c(new K(N.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new K(N.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{Y(jt,`RPC '${e}' ${o} completed.`)}});let m=JSON.stringify(r);Y(jt,`RPC '${e}' ${o} sending request:`,r),d.send(t,"POST",m,i,15)})}Bo(e,t,i){let r=Mg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Pg(),c=Dg(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.xmlHttpFactory=new Sg({})),this.Oo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;let b=o.join("");Y(jt,`Creating RPC '${e}' stream ${r}: ${b}`,d);let g=s.createWebChannel(b,d),E=!1,R=!1,M=new zb({Io:D=>{R?Y(jt,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(E||(Y(jt,`Opening RPC '${e}' stream ${r} transport.`),g.open(),E=!0),Y(jt,`RPC '${e}' stream ${r} sending:`,D),g.send(D))},To:()=>g.close()}),L=(D,z,te)=>{D.listen(z,X=>{try{te(X)}catch(Z){setTimeout(()=>{throw Z},0)}})};return L(g,zs.EventType.OPEN,()=>{R||(Y(jt,`RPC '${e}' stream ${r} transport opened.`),M.yo())}),L(g,zs.EventType.CLOSE,()=>{R||(R=!0,Y(jt,`RPC '${e}' stream ${r} transport closed`),M.So())}),L(g,zs.EventType.ERROR,D=>{R||(R=!0,Qs(jt,`RPC '${e}' stream ${r} transport errored:`,D),M.So(new K(N.UNAVAILABLE,"The operation could not be completed")))}),L(g,zs.EventType.MESSAGE,D=>{var z;if(!R){let te=D.data[0];je(!!te);let X=te,Z=X.error||((z=X[0])===null||z===void 0?void 0:z.error);if(Z){Y(jt,`RPC '${e}' stream ${r} received error:`,Z);let Ce=Z.status,ae=function(w){let T=ht[w];if(T!==void 0)return dx(T)}(Ce),A=Z.message;ae===void 0&&(ae=N.INTERNAL,A="Unknown error status: "+Ce+" with message "+Z.message),R=!0,M.So(new K(ae,A)),g.close()}else Y(jt,`RPC '${e}' stream ${r} received:`,te),M.bo(te)}}),L(c,Rg.STAT_EVENT,D=>{D.stat===Ku.PROXY?Y(jt,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===Ku.NOPROXY&&Y(jt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function Ng(){return typeof document<"u"?document:null}function Oh(n){return new fb(n,!0)}var gh=class{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&Y("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var bh=class{constructor(e,t,i,r,o,s,c,d){this.ui=e,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new gh(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return x(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return x(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return x(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(Li(t.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new K(N.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>x(this,null,function*(){this.state=0,this.start()}))}I_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},qb=class extends bh{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=NM(this.serializer,e),i=function(o){if(!("targetChange"in o))return ue.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?di(s.readTime):ue.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=vb(this.serializer),t.addTarget=function(o,s){let c,d=s.target;if(c=rb(d)?{documents:VM(o,d)}:{query:UM(o,d)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=ux(o,s.resumeToken);let m=pb(o,s.expectedCount);m!==null&&(c.expectedCount=m)}else if(s.snapshotVersion.compareTo(ue.min())>0){c.readTime=hh(o,s.snapshotVersion.toTimestamp());let m=pb(o,s.expectedCount);m!==null&&(c.expectedCount=m)}return c}(this.serializer,e);let i=BM(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=vb(this.serializer),t.removeTarget=e,this.a_(t)}},Hb=class extends bh{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=LM(e.writeResults,e.commitTime),i=di(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=vb(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>FM(this.serializer,i))};this.a_(t)}};var Gb=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new K(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,gb(t,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(N.UNKNOWN,o.toString())})}Lo(e,t,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,gb(t,i),r,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Wb=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Li(t),this.D_=!1):Y("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Kb=class{constructor(e,t,i,r,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{i.enqueueAndForget(()=>x(this,null,function*(){jo(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),yield function(d){return x(this,null,function*(){let m=de(d);m.L_.add(4),yield gl(m),m.q_.set("Unknown"),m.L_.delete(4),yield Mh(m)})}(this))}))}),this.q_=new Wb(i,r)}};function Mh(n){return x(this,null,function*(){if(jo(n))for(let e of n.B_)yield e(!0)})}function gl(n){return x(this,null,function*(){for(let e of n.B_)yield e(!1)})}function yx(n,e){let t=de(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Dv(t)?Rv(t):la(t).r_()&&kv(t,e))}function Sv(n,e){let t=de(n),i=la(t);t.N_.delete(e),i.r_()&&wx(t,e),t.N_.size===0&&(i.r_()?i.o_():jo(t)&&t.q_.set("Unknown"))}function kv(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}la(n).A_(e)}function wx(n,e){n.Q_.xe(e),la(n).R_(e)}function Rv(n){n.Q_=new mb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),la(n).start(),n.q_.v_()}function Dv(n){return jo(n)&&!la(n).n_()&&n.N_.size>0}function jo(n){return de(n).L_.size===0}function Ix(n){n.Q_=void 0}function tN(n){return x(this,null,function*(){n.q_.set("Online")})}function nN(n){return x(this,null,function*(){n.N_.forEach((e,t)=>{kv(n,e)})})}function iN(n,e){return x(this,null,function*(){Ix(n),Dv(n)?(n.q_.M_(e),Rv(n)):n.q_.set("Unknown")})}function rN(n,e,t){return x(this,null,function*(){if(n.q_.set("Online"),e instanceof dh&&e.state===2&&e.cause)try{yield function(r,o){return x(this,null,function*(){let s=o.cause;for(let c of o.targetIds)r.N_.has(c)&&(yield r.remoteSyncer.rejectListen(c,s),r.N_.delete(c),r.Q_.removeTarget(c))})}(n,e)}catch(i){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield vh(n,i)}else if(e instanceof Ws?n.Q_.Ke(e):e instanceof lh?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ue.min()))try{let i=yield _x(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){let c=o.Q_.rt(s);return c.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){let b=o.N_.get(m);b&&o.N_.set(m,b.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach((d,m)=>{let b=o.N_.get(d);if(!b)return;o.N_.set(d,b.withResumeToken(zt.EMPTY_BYTE_STRING,b.snapshotVersion)),wx(o,d);let g=new ol(b.target,d,m,b.sequenceNumber);kv(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){Y("RemoteStore","Failed to raise snapshot:",i),yield vh(n,i)}})}function vh(n,e,t){return x(this,null,function*(){if(!pl(e))throw e;n.L_.add(1),yield gl(n),n.q_.set("Offline"),t||(t=()=>_x(n.localStore)),n.asyncQueue.enqueueRetryable(()=>x(this,null,function*(){Y("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Mh(n)}))})}function Ex(n,e){return e().catch(t=>vh(n,t,e))}function Nh(n){return x(this,null,function*(){let e=de(n),t=Br(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oN(e);)try{let r=yield YM(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,sN(e,r)}catch(r){yield vh(e,r)}xx(e)&&Tx(e)})}function oN(n){return jo(n)&&n.O_.length<10}function sN(n,e){n.O_.push(e);let t=Br(n);t.r_()&&t.V_&&t.m_(e.mutations)}function xx(n){return jo(n)&&!Br(n).n_()&&n.O_.length>0}function Tx(n){Br(n).start()}function aN(n){return x(this,null,function*(){Br(n).p_()})}function cN(n){return x(this,null,function*(){let e=Br(n);for(let t of n.O_)e.m_(t.mutations)})}function lN(n,e,t){return x(this,null,function*(){let i=n.O_.shift(),r=lb.from(i,e,t);yield Ex(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Nh(n)})}function dN(n,e){return x(this,null,function*(){e&&Br(n).V_&&(yield function(i,r){return x(this,null,function*(){if(function(s){return CM(s)&&s!==N.ABORTED}(r.code)){let o=i.O_.shift();Br(i).s_(),yield Ex(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Nh(i)}})}(n,e)),xx(n)&&Tx(n)})}function SE(n,e){return x(this,null,function*(){let t=de(n);t.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");let i=jo(t);t.L_.add(3),yield gl(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Mh(t)})}function uN(n,e){return x(this,null,function*(){let t=de(n);e?(t.L_.delete(2),yield Mh(t)):e||(t.L_.add(2),yield gl(t),t.q_.set("Unknown"))})}function la(n){return n.K_||(n.K_=function(t,i,r){let o=de(t);return o.w_(),new qb(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:tN.bind(null,n),Ro:nN.bind(null,n),mo:iN.bind(null,n),d_:rN.bind(null,n)}),n.B_.push(e=>x(this,null,function*(){e?(n.K_.s_(),Dv(n)?Rv(n):n.q_.set("Unknown")):(yield n.K_.stop(),Ix(n))}))),n.K_}function Br(n){return n.U_||(n.U_=function(t,i,r){let o=de(t);return o.w_(),new Hb(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:aN.bind(null,n),mo:dN.bind(null,n),f_:cN.bind(null,n),g_:lN.bind(null,n)}),n.B_.push(e=>x(this,null,function*(){e?(n.U_.s_(),yield Nh(n)):(yield n.U_.stop(),n.O_.length>0&&(Y("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var Qb=class n{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){let s=Date.now()+i,c=new n(e,t,s,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Pv(n,e){if(Li("AsyncQueue",`${e}: ${n}`),pl(n))return new K(N.UNAVAILABLE,`${e}: ${n}`);throw n}var _h=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||re.comparator(t.key,i.key):(t,i)=>re.comparator(t.key,i.key),this.keyedMap=Qc(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var yh=class{constructor(){this.W_=new et(re.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},ra=class n{constructor(e,t,i,r,o,s,c,d,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,r,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,_h.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var Jb=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Yb=class{constructor(){this.queries=kE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=de(t),o=r.queries;r.queries=kE(),o.forEach((s,c)=>{for(let d of c.j_)d.onError(i)})})(this,new K(N.ABORTED,"Firestore shutting down"))}};function kE(){return new jr(n=>XE(n),Dh)}function hN(n,e){return x(this,null,function*(){let t=de(n),i=3,r=e.query,o=t.queries.get(r);o?!o.H_()&&e.J_()&&(i=2):(o=new Jb,i=e.J_()?0:1);try{switch(i){case 0:o.z_=yield t.onListen(r,!0);break;case 1:o.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(s){let c=Pv(s,`Initialization of query '${$s(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&Ov(t)})}function mN(n,e){return x(this,null,function*(){let t=de(n),i=e.query,r=3,o=t.queries.get(i);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?r=e.J_()?0:1:!o.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function fN(n,e){let t=de(n),i=!1;for(let r of e){let o=r.query,s=t.queries.get(o);if(s){for(let c of s.j_)c.X_(r)&&(i=!0);s.z_=r}}i&&Ov(t)}function pN(n,e,t){let i=de(n),r=i.queries.get(e);if(r)for(let o of r.j_)o.onError(t);i.queries.delete(e)}function Ov(n){n.Y_.forEach(e=>{e.next()})}var Xb,RE;(RE=Xb||(Xb={})).ea="default",RE.Cache="cache";var Zb=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new ra(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Xb.Cache}};var wh=class{constructor(e){this.key=e}},Ih=class{constructor(e){this.key=e}},ev=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=ZE(e),this.Ra=new _h(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new yh,r=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=r,c=!1,d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((b,g)=>{let E=r.get(b),R=Ph(this.query,g)?g:null,M=!!E&&this.mutatedKeys.has(E.key),L=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations),D=!1;E&&R?E.data.isEqual(R.data)?M!==L&&(i.track({type:3,doc:R}),D=!0):this.ga(E,R)||(i.track({type:2,doc:R}),D=!0,(d&&this.Aa(R,d)>0||m&&this.Aa(R,m)<0)&&(c=!0)):!E&&R?(i.track({type:0,doc:R}),D=!0):E&&!R&&(i.track({type:1,doc:E}),D=!0,(d||m)&&(c=!0)),D&&(R?(s=s.add(R),o=L?o.add(b):o.delete(b)):(s=s.delete(b),o=o.delete(b)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let b=this.query.limitType==="F"?s.last():s.first();s=s.delete(b.key),o=o.delete(b.key),i.track({type:1,doc:b})}return{Ra:s,fa:i,ns:c,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((b,g)=>function(R,M){let L=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return L(R)-L(M)}(b.type,g.type)||this.Aa(b.doc,g.doc)),this.pa(i),r=r!=null&&r;let c=t&&!r?this.ya():[],d=this.da.size===0&&this.current&&!r?1:0,m=d!==this.Ea;return this.Ea=d,s.length!==0||m?{snapshot:new ra(this.query,e.Ra,o,s,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new yh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=_e(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new Ih(i))}),this.da.forEach(i=>{e.has(i)||t.push(new wh(i))}),t}ba(e){this.Ta=e.Ts,this.da=_e();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ra.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},tv=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},nv=class{constructor(e){this.key=e,this.va=!1}},iv=class{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new jr(c=>XE(c),Dh),this.Ma=new Map,this.xa=new Set,this.Oa=new et(re.comparator),this.Na=new Map,this.La=new al,this.Ba={},this.ka=new Map,this.qa=sl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function gN(n,e,t=!0){return x(this,null,function*(){let i=Dx(n),r,o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=yield Ax(i,e,t,!0),r})}function bN(n,e){return x(this,null,function*(){let t=Dx(n);yield Ax(t,e,!0,!1)})}function Ax(n,e,t,i){return x(this,null,function*(){let r=yield XM(n.localStore,li(e)),o=r.targetId,s=t?n.sharedClientState.addLocalQueryTarget(o):"not-current",c;return i&&(c=yield vN(n,e,o,s==="current",r.resumeToken)),n.isPrimaryClient&&t&&yx(n.remoteStore,r),c})}function vN(n,e,t,i,r){return x(this,null,function*(){n.Ka=(g,E,R)=>function(L,D,z,te){return x(this,null,function*(){let X=D.view.ma(z);X.ns&&(X=yield CE(L.localStore,D.query,!1).then(({documents:A})=>D.view.ma(A,X)));let Z=te&&te.targetChanges.get(D.targetId),Ce=te&&te.targetMismatches.get(D.targetId)!=null,ae=D.view.applyChanges(X,L.isPrimaryClient,Z,Ce);return PE(L,D.targetId,ae.wa),ae.snapshot})}(n,g,E,R);let o=yield CE(n.localStore,e,!0),s=new ev(e,o.Ts),c=s.ma(o.documents),d=rl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),m=s.applyChanges(c,n.isPrimaryClient,d);PE(n,t,m.wa);let b=new tv(e,t,s);return n.Fa.set(e,b),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),m.snapshot})}function _N(n,e,t){return x(this,null,function*(){let i=de(n),r=i.Fa.get(e),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(s=>!Dh(s,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ub(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&Sv(i.remoteStore,r.targetId),rv(i,r.targetId)}).catch(fl))):(rv(i,r.targetId),yield Ub(i.localStore,r.targetId,!0))})}function yN(n,e){return x(this,null,function*(){let t=de(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Sv(t.remoteStore,i.targetId))})}function wN(n,e,t){return x(this,null,function*(){let i=SN(n);try{let r=yield function(s,c){let d=de(s),m=Rt.now(),b=c.reduce((R,M)=>R.add(M.key),_e()),g,E;return d.persistence.runTransaction("Locally write mutations","readwrite",R=>{let M=Ui(),L=_e();return d.cs.getEntries(R,b).next(D=>{M=D,M.forEach((z,te)=>{te.isValidDocument()||(L=L.add(z))})}).next(()=>d.localDocuments.getOverlayedDocuments(R,M)).next(D=>{g=D;let z=[];for(let te of c){let X=AM(te,g.get(te.key).overlayedDocument);X!=null&&z.push(new ji(te.key,X,HE(X.value.mapValue),Po.exists(!0)))}return d.mutationQueue.addMutationBatch(R,m,z,c)}).next(D=>{E=D;let z=D.applyToLocalDocumentSet(g,L);return d.documentOverlayCache.saveOverlays(R,D.batchId,z)})}).then(()=>({batchId:E.batchId,changes:tx(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let m=s.Ba[s.currentUser.toKey()];m||(m=new et(Ae)),m=m.insert(c,d),s.Ba[s.currentUser.toKey()]=m}(i,r.batchId,t),yield bl(i,r.changes),yield Nh(i.remoteStore)}catch(r){let o=Pv(r,"Failed to persist write");t.reject(o)}})}function Cx(n,e){return x(this,null,function*(){let t=de(n);try{let i=yield QM(t.localStore,e);e.targetChanges.forEach((r,o)=>{let s=t.Na.get(o);s&&(je(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.va=!0:r.modifiedDocuments.size>0?je(s.va):r.removedDocuments.size>0&&(je(s.va),s.va=!1))}),yield bl(t,i,e)}catch(i){yield fl(i)}})}function DE(n,e,t){let i=de(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&r.push(c.snapshot)}),function(s,c){let d=de(s);d.onlineState=c;let m=!1;d.queries.forEach((b,g)=>{for(let E of g.j_)E.Z_(c)&&(m=!0)}),m&&Ov(d)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function IN(n,e,t){return x(this,null,function*(){let i=de(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),o=r&&r.key;if(o){let s=new et(re.comparator);s=s.insert(o,Fn.newNoDocument(o,ue.min()));let c=_e().add(o),d=new ch(ue.min(),new Map,new et(Ae),s,c);yield Cx(i,d),i.Oa=i.Oa.remove(o),i.Na.delete(e),Mv(i)}else yield Ub(i.localStore,e,!1).then(()=>rv(i,e,t)).catch(fl)})}function EN(n,e){return x(this,null,function*(){let t=de(n),i=e.batch.batchId;try{let r=yield KM(t.localStore,e);kx(t,i,null),Sx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield bl(t,r)}catch(r){yield fl(r)}})}function xN(n,e,t){return x(this,null,function*(){let i=de(n);try{let r=yield function(s,c){let d=de(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let b;return d.mutationQueue.lookupMutationBatch(m,c).next(g=>(je(g!==null),b=g.keys(),d.mutationQueue.removeMutationBatch(m,g))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,b,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,b)).next(()=>d.localDocuments.getDocuments(m,b))})}(i.localStore,e);kx(i,e,t),Sx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield bl(i,r)}catch(r){yield fl(r)}})}function Sx(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function kx(n,e,t){let i=de(n),r=i.Ba[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function rv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||Rx(n,i)})}function Rx(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Sv(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Mv(n))}function PE(n,e,t){for(let i of t)i instanceof wh?(n.La.addReference(i.key,e),TN(n,i)):i instanceof Ih?(Y("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||Rx(n,i.key)):se()}function TN(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(Y("SyncEngine","New document in limbo: "+t),n.xa.add(i),Mv(n))}function Mv(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new re(Je.fromString(e)),i=n.qa.next();n.Na.set(i,new nv(t)),n.Oa=n.Oa.insert(t,i),yx(n.remoteStore,new ol(li(Tv(t.path)),i,"TargetPurposeLimboResolution",BE.oe))}}function bl(n,e,t){return x(this,null,function*(){let i=de(n),r=[],o=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((c,d)=>{s.push(i.Ka(d,e,t).then(m=>{var b;if((m||t)&&i.isPrimaryClient){let g=m?!m.fromCache:(b=t?.targetChanges.get(d.targetId))===null||b===void 0?void 0:b.current;i.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(m){r.push(m);let g=Nb.Wi(d.targetId,m);o.push(g)}}))}),yield Promise.all(s),i.Ca.d_(r),yield function(d,m){return x(this,null,function*(){let b=de(d);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>j.forEach(m,E=>j.forEach(E.$i,R=>b.persistence.referenceDelegate.addReference(g,E.targetId,R)).next(()=>j.forEach(E.Ui,R=>b.persistence.referenceDelegate.removeReference(g,E.targetId,R)))))}catch(g){if(!pl(g))throw g;Y("LocalStore","Failed to update sequence numbers: "+g)}for(let g of m){let E=g.targetId;if(!g.fromCache){let R=b.os.get(E),M=R.snapshotVersion,L=R.withLastLimboFreeSnapshotVersion(M);b.os=b.os.insert(E,L)}}})}(i.localStore,o))})}function AN(n,e){return x(this,null,function*(){let t=de(n);if(!t.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());let i=yield vx(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(d=>{d.reject(new K(N.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield bl(t,i.hs)}})}function CN(n,e){let t=de(n),i=t.Na.get(e);if(i&&i.va)return _e().add(i.key);{let r=_e(),o=t.Ma.get(e);if(!o)return r;for(let s of o){let c=t.Fa.get(s);r=r.unionWith(c.view.Va)}return r}}function Dx(n){let e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IN.bind(null,e),e.Ca.d_=fN.bind(null,e.eventManager),e.Ca.$a=pN.bind(null,e.eventManager),e}function SN(n){let e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xN.bind(null,e),e}var Eh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return x(this,null,function*(){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return WM(this.persistence,new Lb,e.initialUser,this.serializer)}createPersistence(e){return new Pb(Mb.Zr,this.serializer)}createSharedClientState(e){return new jb}terminate(){return x(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var ov=class{initialize(e,t){return x(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>DE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=AN.bind(null,this.syncEngine),yield uN(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Yb}()}createDatastore(e){let t=Oh(e.databaseInfo.databaseId),i=function(o){return new $b(o)}(e.databaseInfo);return function(o,s,c,d){return new Gb(o,s,c,d)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,o,s,c){return new Kb(i,r,o,s,c)}(this.localStore,this.datastore,e.asyncQueue,t=>DE(this.syncEngine,t,0),function(){return ph.D()?new ph:new Bb}())}createSyncEngine(e,t){return function(r,o,s,c,d,m,b){let g=new iv(r,o,s,c,d,m);return b&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return x(this,null,function*(){var e,t;yield function(r){return x(this,null,function*(){let o=de(r);Y("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield gl(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var sv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var av=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=It.UNAUTHENTICATED,this.clientId=eh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>x(this,null,function*(){Y("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(Y("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>x(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=Pv(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Fg(n,e){return x(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>x(this,null,function*(){i.isEqual(r)||(yield vx(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function OE(n,e){return x(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield RN(n);Y("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>SE(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>SE(e.remoteStore,r)),n._onlineComponents=e})}function kN(n){return n.name==="FirebaseError"?n.code===N.FAILED_PRECONDITION||n.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function RN(n){return x(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Fg(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!kN(t))throw t;Qs("Error using user provided cache. Falling back to memory cache: "+t),yield Fg(n,new Eh)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),yield Fg(n,new Eh);return n._offlineComponents})}function Px(n){return x(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),yield OE(n,n._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),yield OE(n,new ov))),n._onlineComponents})}function DN(n){return Px(n).then(e=>e.syncEngine)}function ME(n){return x(this,null,function*(){let e=yield Px(n),t=e.eventManager;return t.onListen=gN.bind(null,e.syncEngine),t.onUnlisten=_N.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=bN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yN.bind(null,e.syncEngine),t})}function Ox(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var NE=new Map;function Mx(n,e,t){if(!t)throw new K(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PN(n,e,t,i){if(e===!0&&i===!0)throw new K(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function FE(n){if(!re.isDocumentKey(n))throw new K(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function LE(n){if(re.isDocumentKey(n))throw new K(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Fh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":se()}function el(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new K(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Fh(n);throw new K(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ON(n,e){if(e<=0)throw new K(N.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var xh=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new K(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ox((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new K(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new K(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new K(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},oa=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xh(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Lg;switch(i.type){case"firstParty":return new Bg(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new K(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=NE.get(t);i&&(Y("ComponentProvider","Removing Datastore"),NE.delete(t),i.terminate())}(this),Promise.resolve()}};function Nx(n,e,t,i={}){var r;let o=(n=el(n,oa))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let c,d;if(typeof i.mockUserToken=="string")c=i.mockUserToken,d=It.MOCK_USER;else{c=Eu(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new K(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new It(m)}n._authCredentials=new Vg(new Zu(c,d))}}var zr=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},hn=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Lr=class n extends zr{constructor(e,t,i){super(e,t,Tv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new re(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Fx(n,e,...t){if(n=Ze(n),Mx("collection","path",e),n instanceof oa){let i=Je.fromString(e,...t);return LE(i),new Lr(n,null,i)}{if(!(n instanceof hn||n instanceof Lr))throw new K(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Je.fromString(e,...t));return LE(i),new Lr(n.firestore,null,i)}}function Lx(n,e,...t){if(n=Ze(n),arguments.length===1&&(e=eh.newId()),Mx("doc","path",e),n instanceof oa){let i=Je.fromString(e,...t);return FE(i),new hn(n,null,new re(i))}{if(!(n instanceof hn||n instanceof Lr))throw new K(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Je.fromString(e,...t));return FE(i),new hn(n.firestore,n instanceof Lr?n.converter:null,new re(i))}}var cv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new gh(this,"async_queue_retry"),this.Eu=()=>{let t=Ng();t&&Y("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};let e=Ng();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let t=Ng();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let t=new Fi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return x(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!pl(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let t=this.au.then(()=>(this.Pu=!0,e().catch(i=>{this.hu=i,this.Pu=!1;let r=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(i);throw Li("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Pu=!1,i))));return this.au=t,t}enqueueAfterDelay(e,t,i){this.du(),this.Tu.indexOf(e)>-1&&(t=0);let r=Qb.createAndSchedule(this,e,t,i,o=>this.Vu(o));return this.lu.push(r),r}du(){this.hu&&se()}verifyOperationInProgress(){}mu(){return x(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.lu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let t=this.lu.indexOf(e);this.lu.splice(t,1)}};function VE(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}var sa=class extends oa{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new cv}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jx(this),this._firestoreClient.terminate()}};function Vx(n,e){let t=typeof n=="object"?n:kr(),i=typeof n=="string"?n:e||"(default)",r=wo(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=Iu("firestore");o&&Nx(r,...o)}return r}function Ux(n){return n._firestoreClient||jx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function jx(n){var e,t,i;let r=n._freezeSettings(),o=function(c,d,m,b){return new Gg(c,d,m,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Ox(b.experimentalLongPollingOptions),b.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new av(n._authCredentials,n._appCheckCredentials,n._queue,o),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var cl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(zt.fromBase64String(e))}catch(t){throw new K(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ll=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new K(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Th=class{constructor(e){this._methodName=e}};var dl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new K(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new K(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}};var ul=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}};var MN=/^__.*__$/,lv=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uo(e,this.data,t,this.fieldTransforms)}};function Bx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}var dv=class n{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Su({path:i,Du:!1});return r.vu(e),r}Cu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Su({path:i,Du:!1});return r.yu(),r}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Ah(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(Bx(this.wu)&&MN.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},uv=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Oh(e)}Nu(e,t,i,r=!1){return new dv({wu:e,methodName:t,Ou:i,path:un.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function zx(n){let e=n._freezeSettings(),t=Oh(n._databaseId);return new uv(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NN(n,e,t,i,r,o={}){let s=n.Nu(o.merge||o.mergeFields?2:0,e,t,r);Hx("Data must be an object, but it was:",s,i);let c=$x(i,s),d,m;if(o.merge)d=new ai(s.fieldMask),m=s.fieldTransforms;else if(o.mergeFields){let b=[];for(let g of o.mergeFields){let E=LN(e,g,t);if(!s.contains(E))throw new K(N.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);UN(b,E)||b.push(E)}d=new ai(b),m=s.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,m=s.fieldTransforms;return new lv(new Nn(c),d,m)}function FN(n,e,t,i=!1){return Nv(t,n.Nu(i?4:3,e))}function Nv(n,e){if(qx(n=Ze(n)))return Hx("Unsupported field value:",e,n),$x(n,e);if(n instanceof Th)return function(i,r){if(!Bx(r.wu))throw r.Mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Mu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let c of i){let d=Nv(c,r.Fu(s));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if((i=Ze(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Rt.fromDate(i);return{timestampValue:hh(r.serializer,o)}}if(i instanceof Rt){let o=new Rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hh(r.serializer,o)}}if(i instanceof dl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof cl)return{bytesValue:ux(r.serializer,i._byteString)};if(i instanceof hn){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Cv(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ul)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(d=>{if(typeof d!="number")throw c.Mu("VectorValues must only contain numeric values.");return Av(c.serializer,d)})}}}}}}(i,r);throw r.Mu(`Unsupported field value: ${Fh(i)}`)}(n,e)}function $x(n,e){let t={};return zE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(n,(i,r)=>{let o=Nv(r,e.bu(i));o!=null&&(t[i]=o)}),{mapValue:{fields:t}}}function qx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Rt||n instanceof dl||n instanceof cl||n instanceof hn||n instanceof Th||n instanceof ul)}function Hx(n,e,t){if(!qx(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=Fh(t);throw i==="an object"?e.Mu(n+" a custom object"):e.Mu(n+" "+i)}}function LN(n,e,t){if((e=Ze(e))instanceof ll)return e._internalPath;if(typeof e=="string")return Gx(n,e);throw Ah("Field path arguments must be of type string or ",n,!1,void 0,t)}var VN=new RegExp("[~\\*/\\[\\]]");function Gx(n,e,t){if(e.search(VN)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ll(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ah(n,e,t,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||s)&&(d+=" (found",o&&(d+=` in field ${i}`),s&&(d+=` in document ${r}`),d+=")"),new K(N.INVALID_ARGUMENT,c+n+d)}function UN(n,e){return n.some(t=>t.isEqual(e))}var Ch=class{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new hv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Fv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},hv=class extends Ch{data(){return super.data()}};function Fv(n,e){return typeof e=="string"?Gx(n,e):e instanceof ll?e._internalPath:e._delegate._internalPath}function jN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new K(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var hl=class{},ml=class extends hl{};function Wx(n,e,...t){let i=[];e instanceof hl&&i.push(e),i=i.concat(t),function(o){let s=o.filter(d=>d instanceof fv).length,c=o.filter(d=>d instanceof mv).length;if(s>1||s>0&&c>0)throw new K(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var mv=class n extends ml{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return Jx(e._query,t),new zr(e.firestore,e.converter,ob(e._query,t))}_parse(e){let t=zx(e.firestore);return function(o,s,c,d,m,b,g){let E;if(m.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new K(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){jE(g,b);let R=[];for(let M of g)R.push(UE(d,o,M));E={arrayValue:{values:R}}}else E=UE(d,o,g)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||jE(g,b),E=FN(c,s,g,b==="in"||b==="not-in");return ft.create(m,b,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var fv=class n extends hl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ln.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,o){let s=r,c=o.getFlattenedFilters();for(let d of c)Jx(s,d),s=ob(s,d)}(e._query,t),new zr(e.firestore,e.converter,ob(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var pv=class n extends ml{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(r,o,s){if(r.startAt!==null)throw new K(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new K(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fo(o,s)}(e._query,this._field,this._direction);return new zr(e.firestore,e.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new Ur(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}};function Kx(n,e="asc"){let t=e,i=Fv("orderBy",n);return pv._create(i,t)}var gv=class n extends ml{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new n(e,t,i)}_apply(e){return new zr(e.firestore,e.converter,sh(e._query,this._limit,this._limitType))}};function Qx(n){return ON("limit",n),gv._create("limit",n,"F")}function UE(n,e,t){if(typeof(t=Ze(t))=="string"){if(t==="")throw new K(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YE(e)&&t.indexOf("/")!==-1)throw new K(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(Je.fromString(t));if(!re.isDocumentKey(i))throw new K(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return dE(n,new re(i))}if(t instanceof hn)return dE(n,t._key);throw new K(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(t)}.`)}function jE(n,e){if(!Array.isArray(n)||n.length===0)throw new K(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jx(n,e){let t=function(r,o){for(let s of r)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new K(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var bv=class{convertValue(e,t="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return ca(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertVectorValue(e){var t,i,r;let o=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>Ke(s.doubleValue));return new ul(o)}convertGeoPoint(e){return new dl(Ke(e.latitude),Ke(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=wv(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(nl(e));default:return null}}convertTimestamp(e){let t=Vi(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=Je.fromString(e);je(bx(i));let r=new rh(i.get(1),i.get(3)),o=new re(i.popFirst(5));return r.isEqual(t)||Li(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function BN(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var Do=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Sh=class extends Ch{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ks(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(Fv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Ks=class extends Sh{data(e={}){return super.data(e)}},vv=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Do(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ks(this._firestore,this._userDataWriter,i.key,i,new Do(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new K(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>{let d=new Ks(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Do(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let d=new Ks(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Do(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),m=-1,b=-1;return c.type!==0&&(m=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),b=s.indexOf(c.doc.key)),{type:zN(c.type),doc:d,oldIndex:m,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function zN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}var kh=class extends bv{constructor(e){super(),this.firestore=e}convertBytes(e){return new cl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}};function Yx(n,e){let t=el(n.firestore,sa),i=Lx(n),r=BN(n.converter,e);return $N(t,[NN(zx(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Po.exists(!1))]).then(()=>i)}function Lv(n,...e){var t,i,r;n=Ze(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||VE(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(VE(e[s])){let g=e[s];e[s]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[s+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),e[s+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}let d,m,b;if(n instanceof hn)m=el(n.firestore,sa),b=Tv(n._key.path),d={next:g=>{e[s]&&e[s](qN(m,n,g))},error:e[s+1],complete:e[s+2]};else{let g=el(n,zr);m=el(g.firestore,sa),b=g._query;let E=new kh(m);d={next:R=>{e[s]&&e[s](new vv(m,E,g,R))},error:e[s+1],complete:e[s+2]},jN(n._query)}return function(E,R,M,L){let D=new sv(L),z=new Zb(R,D,M);return E.asyncQueue.enqueueAndForget(()=>x(this,null,function*(){return hN(yield ME(E),z)})),()=>{D.za(),E.asyncQueue.enqueueAndForget(()=>x(this,null,function*(){return mN(yield ME(E),z)}))}}(Ux(m),b,c,d)}function $N(n,e){return function(i,r){let o=new Fi;return i.asyncQueue.enqueueAndForget(()=>x(this,null,function*(){return wN(yield DN(i),r,o)})),o.promise}(Ux(n),e)}function qN(n,e,t){let i=t.docs.get(e._key),r=new kh(n);return new Sh(n,r,e._key,i,new Do(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){aa=r})(ii),ni(new Qt("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),c=new sa(new Ug(i.getProvider("auth-internal")),new $g(i.getProvider("app-check-internal")),function(m,b){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new K(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rh(m.options.projectId,b)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),We(sE,"4.7.1",e),We(sE,"4.7.1","esm2017")})();var Lh=function(){return Lh=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Lh.apply(this,arguments)};var WN={includeMetadataChanges:!1};function Xx(n,e){return e===void 0&&(e=WN),new Wt(function(t){var i=Lv(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function Zx(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:Lh(Lh({},i),(t={},t[e.idField]=n.id,t))}function eT(n){return Xx(n,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function tT(n,e){return e===void 0&&(e={}),eT(n).pipe(ie(function(t){return t.map(function(i){return Zx(i,e)})}))}var Bi=class{constructor(e){return e}},nT="firestore",Vv=class{constructor(){return Eo(nT)}};var Uv=new J("angularfire2.firestore-instances");function KN(n,e){let t=Us(nT,n,e);return t&&new Bi(t)}function QN(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Bi(i)}}var JN={provide:Vv,deps:[[new nt,Uv]]},YN={provide:Bi,useFactory:KN,deps:[[new nt,Uv],Mn]};function d4(n,...e){return We("angularfire",ki.full,"fst"),on([YN,JN,{provide:Uv,useFactory:QN(n),multi:!0,deps:[ce,qt,Dr,Ri,[new nt,So],[new nt,Rr],...e]}])}var iT=ut(tT,!0);var Vh=ut(Yx,!0);var Uh=ut(Fx,!0);var u4=ut(Vx,!0);var rT=ut(Qx,!0);var oT=ut(Kx,!0);var sT=ut(Wx,!0);var mT="firebasestorage.googleapis.com",fT="storageBucket",XN=2*60*1e3,ZN=10*60*1e3;var Et=class n extends Gt{constructor(e,t,i=0){super(jv(e),`Firebase Storage: ${t} (${jv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Pt=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Pt||{});function jv(n){return"storage/"+n}function pT(){let n="An unknown error occurred, please check the error payload for server response.";return new Et(Pt.UNKNOWN,n)}function eF(n){return new Et(Pt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function tF(n){return new Et(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nF(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(Pt.UNAUTHENTICATED,n)}function iF(){return new Et(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rF(n){return new Et(Pt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function oF(){return new Et(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sF(){return new Et(Pt.CANCELED,"User canceled the upload/download.")}function aF(n){return new Et(Pt.INVALID_URL,"Invalid URL '"+n+"'.")}function cF(n){return new Et(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function lF(){return new Et(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fT+"' property when initializing the app?")}function dF(){return new Et(Pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Bv(n){return new Et(Pt.INVALID_ARGUMENT,n)}function gT(){return new Et(Pt.APP_DELETED,"The Firebase app was deleted.")}function uF(n){return new Et(Pt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vl(n){throw new Et(Pt.INTERNAL_ERROR,"Internal error: "+n)}var Vn=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(i.path==="")return i;throw cF(e)}static makeFromUrl(e,t){let i=null,r="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}let s="(/(.*))?$",c=new RegExp("^gs://"+r+s,"i"),d={bucket:1,path:3};function m(Z){Z.path_=decodeURIComponent(Z.path)}let b="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",R=new RegExp(`^https?://${g}/${b}/b/${r}/o${E}`,"i"),M={bucket:1,path:3},L=t===mT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",z=new RegExp(`^https?://${L}/${r}/${D}`,"i"),X=[{regex:c,indices:d,postModify:o},{regex:R,indices:M,postModify:m},{regex:z,indices:{bucket:1,path:2},postModify:m}];for(let Z=0;Z<X.length;Z++){let Ce=X[Z],ae=Ce.regex.exec(e);if(ae){let A=ae[Ce.indices.bucket],y=ae[Ce.indices.path];y||(y=""),i=new n(A,y),Ce.postModify(i);break}}if(i==null)throw aF(e);return i}},zv=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function hF(n,e,t){let i=1,r=null,o=null,s=!1,c=0;function d(){return c===2}let m=!1;function b(...D){m||(m=!0,e.apply(null,D))}function g(D){r=setTimeout(()=>{r=null,n(R,d())},D)}function E(){o&&clearTimeout(o)}function R(D,...z){if(m){E();return}if(D){E(),b.call(null,D,...z);return}if(d()||s){E(),b.call(null,D,...z);return}i<64&&(i*=2);let X;c===1?(c=2,X=0):X=(i+Math.random())*1e3,g(X)}let M=!1;function L(D){M||(M=!0,E(),!m&&(r!==null?(D||(c=2),clearTimeout(r),g(0)):D||(c=1)))}return g(0),o=setTimeout(()=>{s=!0,L(!0)},t),L}function mF(n){n(!1)}function fF(n){return n!==void 0}function pF(n){return typeof n=="object"&&!Array.isArray(n)}function bT(n){return typeof n=="string"||n instanceof String}function cT(n,e,t,i){if(i<e)throw Bv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Bv(`Invalid value for '${n}'. Expected ${t} or less.`)}function vT(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function _T(n){let e=encodeURIComponent,t="?";for(let i in n)if(n.hasOwnProperty(i)){let r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var ua=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(ua||{});function gF(n,e){let t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||r||o}var $v=class{constructor(e,t,i,r,o,s,c,d,m,b,g,E=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=c,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=b,this.connectionFactory_=g,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,M)=>{this.resolve_=R,this.reject_=M,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new da(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=c=>{let d=c.loaded,m=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let c=o.getErrorCode()===ua.NO_ERROR,d=o.getStatus();if(!c||gF(d,this.additionalRetryCodes_)&&this.retry){let b=o.getErrorCode()===ua.ABORT;i(!1,new da(!1,null,b));return}let m=this.successCodes_.indexOf(d)!==-1;i(!0,new da(m,o))})},t=(i,r)=>{let o=this.resolve_,s=this.reject_,c=r.connection;if(r.wasSuccessCode)try{let d=this.callback_(c,c.getResponse());fF(d)?o(d):o()}catch(d){s(d)}else if(c!==null){let d=pT();d.serverResponse=c.getErrorText(),this.errorCallback_?s(this.errorCallback_(c,d)):s(d)}else if(r.canceled){let d=this.appDelete_?gT():sF();s(d)}else{let d=oF();s(d)}};this.canceled_?t(!1,new da(!1,null,!0)):this.backoffId_=hF(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},da=class{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}};function bF(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function vF(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _F(n,e){e&&(n["X-Firebase-GMPID"]=e)}function yF(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function wF(n,e,t,i,r,o,s=!0){let c=_T(n.urlParams),d=n.url+c,m=Object.assign({},n.headers);return _F(m,e),bF(m,t),vF(m,o),yF(m,i),new $v(d,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}function yT(n){let e;try{e=JSON.parse(n)}catch{return null}return pF(e)?e:null}function IF(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function EF(n,e){let t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function wT(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function xF(n,e){return e}var Dt=class{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||xF}},jh=null;function TF(n){return!bT(n)||n.length<2?n:wT(n)}function AF(){if(jh)return jh;let n=[];n.push(new Dt("bucket")),n.push(new Dt("generation")),n.push(new Dt("metageneration")),n.push(new Dt("name","fullPath",!0));function e(o,s){return TF(s)}let t=new Dt("name");t.xform=e,n.push(t);function i(o,s){return s!==void 0?Number(s):s}let r=new Dt("size");return r.xform=i,n.push(r),n.push(new Dt("timeCreated")),n.push(new Dt("updated")),n.push(new Dt("md5Hash",null,!0)),n.push(new Dt("cacheControl",null,!0)),n.push(new Dt("contentDisposition",null,!0)),n.push(new Dt("contentEncoding",null,!0)),n.push(new Dt("contentLanguage",null,!0)),n.push(new Dt("contentType",null,!0)),n.push(new Dt("metadata","customMetadata",!0)),jh=n,jh}function CF(n,e){function t(){let i=n.bucket,r=n.fullPath,o=new Vn(i,r);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function SF(n,e,t){let i={};i.type="file";let r=t.length;for(let o=0;o<r;o++){let s=t[o];i[s.local]=s.xform(i,e[s.server])}return CF(i,n),i}function kF(n,e,t){let i=yT(e);return i===null?null:SF(n,i,t)}function RF(n,e,t,i){let r=yT(e);if(r===null||!bT(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(m=>{let b=n.bucket,g=n.fullPath,E="/b/"+s(b)+"/o/"+s(g),R=vT(E,t,i),M=_T({alt:"media",token:m});return R+M})[0]}var qv=class{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function DF(n){if(!n)throw pT()}function PF(n,e){function t(i,r){let o=kF(n,r,e);return DF(o!==null),RF(o,r,n.host,n._protocol)}return t}function OF(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=iF():r=nF():t.getStatus()===402?r=tF(n.bucket):t.getStatus()===403?r=rF(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function MF(n){let e=OF(n);function t(i,r){let o=e(i,r);return i.getStatus()===404&&(o=eF(n.path)),o.serverResponse=r.serverResponse,o}return t}function NF(n,e,t){let i=e.fullServerUrl(),r=vT(i,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,c=new qv(r,o,PF(n,t),s);return c.errorHandler=MF(e),c}var g4=256*1024;var lT=null,Hv=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ua.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ua.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ua.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw vl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw vl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Gv=class extends Hv{initXhr(){this.xhr_.responseType="text"}};function FF(){return lT?lT():new Gv}var ha=class n{constructor(e,t){this._service=e,t instanceof Vn?this._location=t:this._location=Vn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wT(this._location.path)}get storage(){return this._service}get parent(){let e=IF(this._location.path);if(e===null)return null;let t=new Vn(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw uF(e)}};function LF(n){n._throwIfRoot("getDownloadURL");let e=NF(n.storage,n._location,AF());return n.storage.makeRequestWithTokens(e,FF).then(t=>{if(t===null)throw dF();return t})}function VF(n,e){let t=EF(n._location.path,e),i=new Vn(n._location.bucket,t);return new ha(n.storage,i)}function UF(n){return/^[A-Za-z]+:\/\//.test(n)}function jF(n,e){return new ha(n,e)}function IT(n,e){if(n instanceof _l){let t=n;if(t._bucket==null)throw lF();let i=new ha(t,t._bucket);return e!=null?IT(i,e):i}else return e!==void 0?VF(n,e):n}function BF(n,e){if(e&&UF(e)){if(n instanceof _l)return jF(n,e);throw Bv("To use ref(service, url), the first argument must be a Storage instance.")}else return IT(n,e)}function dT(n,e){let t=e?.[fT];return t==null?null:Vn.makeFromBucketSpec(t,n)}function zF(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:Eu(r,n.app.options.projectId))}var _l=class{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=mT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XN,this._maxUploadRetryTime=ZN,this._requests=new Set,r!=null?this._bucket=Vn.makeFromBucketSpec(r,this._host):this._bucket=dT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=dT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return x(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return x(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ha(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new zv(gT());{let s=wF(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return x(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()})}},uT="@firebase/storage",hT="0.13.1";var ET="storage";function xT(n){return n=Ze(n),LF(n)}function TT(n,e){return n=Ze(n),BF(n,e)}function AT(n=kr(),e){n=Ze(n);let i=wo(n,ET).getImmediate({identifier:e}),r=Iu("storage");return r&&CT(i,...r),i}function CT(n,e,t,i={}){zF(n,e,t,i)}function $F(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new _l(t,i,r,e,ii)}function qF(){ni(new Qt(ET,$F,"PUBLIC").setMultipleInstances(!0)),We(uT,hT,""),We(uT,hT,"esm2017")}qF();var Bo=class{constructor(e){return e}},ST="storage",Wv=class{constructor(){return Eo(ST)}};var Kv=new J("angularfire2.storage-instances");function HF(n,e){let t=Us(ST,n,e);return t&&new Bo(t)}function GF(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Bo(i)}}var WF={provide:Wv,deps:[[new nt,Kv]]},KF={provide:Bo,useFactory:HF,deps:[[new nt,Kv],Mn]};function U4(n,...e){return We("angularfire",ki.full,"gcs"),on([KF,WF,{provide:Kv,useFactory:GF(n),multi:!0,deps:[ce,qt,Dr,Ri,[new nt,So],[new nt,Rr],...e]}])}var kT=ut(xT,!0);var j4=ut(AT,!0);var RT=ut(TT,!0);var Bh=class n{constructor(e,t,i){this.auth=e;this.firestore=t;this.storage=i}login(e,t){return tE(this.auth,e,t)}registrarLogin(e){let t=Uh(this.firestore,"logins");return Vh(t,{usuario:e,fecha:new Date})}devolverUsuarioLogueado(){return new Wt(e=>{eE(this.auth,t=>{e.next(t)})})}registrar(e,t){return ZI(this.auth,e,t)}obtenerUrlDeImagen(e){let t=RT(this.storage,e);return kT(t)}logout(){return nE(this.auth)}static \u0275fac=function(t){return new(t||n)($(Mi),$(Bi),$(Bo))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function YF(n,e){if(n&1){let t=Vt();U(0,"button",9),ge("click",function(){Ct(t);let r=Se();return St(r.navegarA("/login"))}),U(1,"mat-icon"),ee(2,"login"),V(),ee(3," Login "),V()}}function XF(n,e){if(n&1){let t=Vt();U(0,"button",10),ge("click",function(){Ct(t);let r=Se();return St(r.navegarA("/registro"))}),U(1,"mat-icon"),ee(2,"app_registration"),V(),ee(3," Registro "),V()}}function ZF(n,e){if(n&1){let t=Vt();U(0,"button",11),ge("click",function(){Ct(t);let r=Se();return St(r.navegarA("/juegos/saladechat"))}),U(1,"mat-icon"),ee(2,"chat"),V(),ee(3," Sala de chat "),V()}}function e2(n,e){if(n&1){let t=Vt();U(0,"button",12),ge("click",function(){Ct(t);let r=Se();return St(r.logout())}),U(1,"mat-icon"),ee(2,"logout"),V(),ee(3," Logout "),V()}}var Jt=class n{constructor(e,t){this.router=e;this.authenticationService=t}usuarioActual=null;mensajeRespuesta="";navegarA(e){this.router.navigate([e])}logout(){this.authenticationService.logout().then(()=>{this.router.navigate(["/home"])}).catch(e=>{switch(e.code){case"auth/network-request-failed":this.mensajeRespuesta="La solicitud de red ha fallado";break;case"auth/too-many-requests":this.mensajeRespuesta="Demasiadas solicitudes. Int\xE9ntalo m\xE1s tarde";break;case"auth/internal-error":this.mensajeRespuesta="Error interno del servidor";break;default:this.mensajeRespuesta=`Se produjo el siguiente error: ${e.code}. Vuelve a intentarlo`;break}DT.default.fire("Error",this.mensajeRespuesta,"error")})}ngOnInit(){this.authenticationService.devolverUsuarioLogueado().subscribe(e=>{this.usuarioActual=e})}static \u0275fac=function(t){return new(t||n)(F(Pn),F(Bh))};static \u0275cmp=Re({type:n,selectors:[["app-header"]],standalone:!0,features:[dt],decls:18,vars:4,consts:[[1,"contenedorLogo"],["src","https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Flogo.jpg?alt=media&token=d0833348-4d22-4cc6-b8d1-a172fea273e8","alt","logo de la empresa"],[1,"contenedorBotones"],["mat-button","","aria-label","\xEDcono de hogar",3,"click"],["mat-button","","aria-label","\xEDcono de entrar"],["mat-button","","aria-label","\xEDcono de registro"],["mat-button","","aria-label","\xEDcono de chat"],["mat-button","","aria-label","\xEDcono de persona",3,"click"],["mat-button","","aria-label","\xEDcono de salir"],["mat-button","","aria-label","\xEDcono de entrar",3,"click"],["mat-button","","aria-label","\xEDcono de registro",3,"click"],["mat-button","","aria-label","\xEDcono de chat",3,"click"],["mat-button","","aria-label","\xEDcono de salir",3,"click"]],template:function(t,i){t&1&&(U(0,"mat-toolbar")(1,"div",0),Ie(2,"img",1),U(3,"span"),ee(4,"La sala de juegos"),V()(),U(5,"div",2)(6,"button",3),ge("click",function(){return i.navegarA("/home")}),U(7,"mat-icon"),ee(8,"home"),V(),ee(9," Home "),V(),ye(10,YF,4,0,"button",4)(11,XF,4,0,"button",5)(12,ZF,4,0,"button",6),U(13,"button",7),ge("click",function(){return i.navegarA("/quienSoy")}),U(14,"mat-icon"),ee(15,"person"),V(),ee(16," Quien Soy "),V(),ye(17,e2,4,0,"button",8),V()()),t&2&&(G(10),it(i.usuarioActual!=null&&i.usuarioActual.email?-1:10),G(),it(i.usuarioActual!=null&&i.usuarioActual.email?-1:11),G(),it(i.usuarioActual!=null&&i.usuarioActual.email?12:-1),G(5),it(i.usuarioActual!=null&&i.usuarioActual.email?17:-1))},dependencies:[kn,Oc,kd,Yn,vu,bu,D0,R0,_u],styles:[".mat-toolbar[_ngcontent-%COMP%]{display:flex;min-height:70px;background:#b7ebff;color:#0e0d0d;justify-content:space-between;align-items:center}.contenedorLogo[_ngcontent-%COMP%]{display:flex;align-items:center}.contenedorLogo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:65px;margin-right:10px}"]})};var t2=n=>({botonPresionado:n});function n2(n,e){if(n&1&&(U(0,"div",12)(1,"label",13),ee(2),V()()),n&2){let t=e.$implicit;G(),le("hidden",!t.visible),G(),fr(t.letra)}}function i2(n,e){if(n&1&&(P_(0),ye(1,n2,3,2,"div",11),O_()),n&2){let t=Se();G(),le("ngForOf",t.letrasAAdivinar)}}function r2(n,e){if(n&1){let t=Vt();U(0,"div")(1,"button",14),ge("click",function(){let r=Ct(t).$implicit,o=Se();return St(o.evaluarLetraIngresada(r.letra))}),ee(2),V()()}if(n&2){let t=e.$implicit,i=Se();G(),le("ngClass",U_(3,t2,!t.habilitado))("disabled",!t.habilitado||i.botonesDeshabilitados),G(),lt("",t.letra," ")}}var zh=class n{constructor(e){this.http=e;this.cargarJuegoNuevo()}RANDOM_WORD_API_URL="https://clientes.api.greenborn.com.ar/public-random-word?l=10";subscripcion;palabraAAdivinar="";letrasAAdivinar=[];objLetras=[];cantidadAciertos=0;cantidadErrores=0;cantidadErroresPermitidos=6;puntosPorAcierto=10;puntosJugador=0;botonesDeshabilitados=!1;urlImagen="";imagenes=["https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fahorcado%2Fahorcado1.png?alt=media&token=35cca303-1079-44af-94fe-63f18af7dbb5","https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fahorcado%2Fahorcado2.png?alt=media&token=87187a1f-35ee-40de-8b08-334ed8bbfe40","https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fahorcado%2Fahorcado3.png?alt=media&token=c2ba3fb2-c3a4-4297-ac59-a1840df040b9","https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fahorcado%2Fahorcado4.png?alt=media&token=91e77d5a-8a3a-42ef-9f39-e44e7e4dfb78","https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fahorcado%2Fahorcado5.png?alt=media&token=1fad45f6-b714-4f65-a64f-1650ea08ac67","https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fahorcado%2Fahorcado6.png?alt=media&token=f55c6847-133a-40cb-9daf-ce3a5b3ebf9e","https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fahorcado%2Fahorcado7.png?alt=media&token=c70a7d96-8a07-4e06-ab81-a85ea36a58d2"];cargarJuegoNuevo(){this.resetearValores(),this.crearArrayDeObjLetras(),this.generarPalabra()}resetearValores(){this.cantidadErrores=0,this.cantidadAciertos=0,this.palabraAAdivinar="",this.letrasAAdivinar=[],this.urlImagen=this.imagenes[0],this.puntosJugador=0,this.botonesDeshabilitados=!1}crearArrayDeObjLetras(){this.objLetras="ABCDEFGHIJKLMN\xD1OPQRSTUVWXYZ".split("").map(e=>({letra:e,habilitado:!0}))}generarPalabra(){this.subscripcion=this.http.get(this.RANDOM_WORD_API_URL).subscribe(e=>{let t=e[0];this.palabraAAdivinar=this.eliminarAcentos(t),this.letrasAAdivinar=this.palabraAAdivinar.split("").map(i=>({letra:i,visible:!1}))})}eliminarAcentos(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}evaluarLetraIngresada(e){let t=e.toUpperCase();this.palabraAAdivinar.toUpperCase().includes(t)?this.computarAcierto(t):this.computarError(),this.deshabilitarBoton(t),this.verificarResultado()}computarAcierto(e){let t=this.letrasAAdivinar.filter(i=>i.letra.toUpperCase()===e);t.forEach(i=>i.visible=!0),this.cantidadAciertos+=t.length}computarError(){this.cantidadErrores++,this.urlImagen=this.imagenes[this.cantidadErrores]}deshabilitarBoton(e){let t=this.objLetras.find(i=>i.letra===e);t&&(t.habilitado=!1)}verificarResultado(){this.puntosJugador=this.cantidadAciertos*this.puntosPorAcierto,this.cantidadAciertos===this.palabraAAdivinar.length?this.informarResultado("FELICITACIONES",`\xA1Ganaste! Y solo te llevo ${this.cantidadErrores} intentos.
                              Tu puntaje es:${this.puntosJugador} puntos`,"success"):this.cantidadErrores===this.cantidadErroresPermitidos&&this.informarResultado("LA PR\xD3XIMA SER\xC1...",`\xA1Perdiste! La palabra era '${this.palabraAAdivinar}.'
                                Tu puntaje es:${this.puntosJugador}`,"error")}informarResultado(e,t,i){this.botonesDeshabilitados=!0,PT.default.fire({title:e,text:t,icon:i,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"Cerrar",confirmButtonText:"Jugar de nuevo"}).then(r=>{r.isConfirmed&&this.cargarJuegoNuevo()})}ngOnDestroy(){this.subscripcion.unsubscribe()}static \u0275fac=function(t){return new(t||n)(F(Rn))};static \u0275cmp=Re({type:n,selectors:[["app-ahorcado"]],decls:17,vars:5,consts:[[1,"botonNuevoJuego"],["mat-flat-button","",3,"click"],[1,"contenedorPrincipal"],[1,"contenedorImagen"],["alt","imagen del ahorcado",3,"src"],[1,"anuncioPuntos"],[1,"intentosRestantes"],[1,"contenedorPalabra"],[4,"ngIf"],[1,"contenedorTeclado"],[4,"ngFor","ngForOf"],["class","palabra",4,"ngFor","ngForOf"],[1,"palabra"],[3,"hidden"],[1,"botonLetra",3,"click","ngClass","disabled"]],template:function(t,i){t&1&&(Ie(0,"app-header"),U(1,"h2"),ee(2,"AHORCADO"),V(),U(3,"div",0)(4,"button",1),ge("click",function(){return i.cargarJuegoNuevo()}),ee(5,"JUGAR DE NUEVO"),V()(),U(6,"div",2)(7,"div",3),Ie(8,"img",4),U(9,"label",5),ee(10),V(),U(11,"label",6),ee(12),V(),U(13,"div",7),ye(14,i2,2,1,"ng-container",8),V()()(),U(15,"div",9),ye(16,r2,3,5,"div",10),V()),t&2&&(G(8),le("src",i.urlImagen,lo),G(2),lt("Puntos: ",i.puntosJugador," "),G(2),lt("Te quedan ",i.cantidadErroresPermitidos-i.cantidadErrores," intentos"),G(2),le("ngIf",i.letrasAAdivinar.length>0),G(2),le("ngForOf",i.objLetras))},dependencies:[pr,gr,_d,Jt,Yn],styles:["h2[_ngcontent-%COMP%]{color:#fff;text-align:center;font-family:Comic Neue,cursive;font-style:italic}.botonNuevoJuego[_ngcontent-%COMP%]{padding-top:1px;padding-bottom:10px}.contenedorPrincipal[_ngcontent-%COMP%]{width:1200px;height:280px;background:#b4e5f1;display:flex;flex-direction:column;align-items:center;margin-left:auto;margin-right:auto;border-radius:10px}.anuncioPuntos[_ngcontent-%COMP%]{position:absolute;right:120px;top:30px;font-size:2.3em;font-weight:700;color:#116ef8;white-space:nowrap;width:250px;text-align:left}.intentosRestantes[_ngcontent-%COMP%]{position:absolute;right:20px;top:80px;font-size:2.3em;font-weight:700;color:red}.contenedorImagen[_ngcontent-%COMP%]{position:relative;height:240px}.contenedorImagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;display:block}.contenedorPalabra[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:0 auto;justify-content:center;height:40px}.palabra[_ngcontent-%COMP%]{width:70px;height:70px;margin:5px;text-align:center;display:flex;align-items:center;justify-content:center;font-size:1.5em;border-bottom:solid 2px rgb(47,0,255)}.contenedorTeclado[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:10px}.botonLetra[_ngcontent-%COMP%]{width:80px;height:40px;margin:5px;font-size:1.1em;background-color:#326ef0bb;color:#000500;font-weight:700}.botonLetra[_ngcontent-%COMP%]:active, .botonLetra.botonPresionado[_ngcontent-%COMP%]{background-color:#fff;color:#000}"]})};var FT=ls(vo());var o2=["*"];var s2=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],a2=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],c2=new J("MAT_CARD_CONFIG"),$h=(()=>{let e=class e{constructor(i){this.appearance=i?.appearance||"raised"}};e.\u0275fac=function(r){return new(r||e)(F(c2,8))},e.\u0275cmp=Re({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,o){r&2&&Ve("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[dt],ngContentSelectors:o2,decls:1,vars:0,template:function(r,o){r&1&&(Ht(),De(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let n=e;return n})(),qh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=pe({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let n=e;return n})();var OT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=pe({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let n=e;return n})();var p5=(()=>{let e=class e{constructor(){this.align="start"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=pe({type:e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,o){r&2&&Ve("mat-mdc-card-actions-align-end",o.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let n=e;return n})(),ma=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Re({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[dt],ngContentSelectors:a2,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,o){r&1&&(Ht(s2),De(0),U(1,"div",0),De(2,1),V(),De(3,2))},encapsulation:2,changeDetection:0});let n=e;return n})();var Hh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=pe({type:e,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let n=e;return n})();var MT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Be,kn,Be]});let n=e;return n})();var Gh=class n{constructor(e){this.http=e}DECK_OF_CARDS_API_URL="https://www.deckofcardsapi.com/api/deck";mazoID;subscripcion;cartaActual;urlImgCartaActual="";cartaSiguiente;urlImgCartaSiguiente="https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fmayoromenor%2Freversocarta.png?alt=media&token=50f5b502-6a9f-4125-8125-fac6a15a809c";mensaje;cantidadAciertos=0;contadorDeJugadas=0;cantidadDeJugadas=10;puntosPorAcierto=1;puntosJugador=0;estiloRespuesta="";botonesDeshabilitados=!1;subscripciones=[];ngOnInit(){this.cargarJuegoNuevo()}cargarJuegoNuevo(){this.resetearValores();let e=this.generarMazo().subscribe(t=>{this.mazoID=t;let i=this.obtenerCarta().subscribe(r=>{this.cartaActual=this.formatearCarta(r.cards[0].value),this.urlImgCartaActual=r.cards[0].image});this.subscripciones.push(i)});this.subscripciones.push(e)}resetearValores(){this.mensaje="Adivina si la siguiente carta ser\xE1 mayor o menor.",this.cantidadAciertos=0,this.contadorDeJugadas=0,this.puntosJugador=0,this.estiloRespuesta="",this.botonesDeshabilitados=!1}generarMazo(){return this.http.get(`${this.DECK_OF_CARDS_API_URL}/new/draw/?count=1`).pipe(ie(e=>e.deck_id))}obtenerCarta(){return this.http.get(`${this.DECK_OF_CARDS_API_URL}/${this.mazoID}/draw/?count=1`)}formatearCarta(e){let t;switch(e){case"ACE":t=1;break;case"JACK":t=11;break;case"QUEEN":t=12;break;case"KING":t=13;break;default:t=parseInt(e);break}return t}adivinar(e){this.obtenerCarta().subscribe(t=>{this.cartaSiguiente=this.formatearCarta(t.cards[0].value),this.urlImgCartaActual=t.cards[0].image,e&&this.cartaSiguiente>this.cartaActual||!e&&this.cartaSiguiente<this.cartaActual?(this.cantidadAciertos++,this.estiloRespuesta="respuesta-correcta",this.mensaje=`Correcto! Tu carta era ${this.cartaActual} y la nueva es ${this.cartaSiguiente}.`):(this.estiloRespuesta="respuesta-incorrecta",this.mensaje=`Incorrecto! Tu carta era ${this.cartaActual} y la nueva es ${this.cartaSiguiente}.`),this.contadorDeJugadas++,this.cartaActual=this.cartaSiguiente,this.puntosJugador=this.cantidadAciertos*this.puntosPorAcierto,this.contadorDeJugadas===this.cantidadDeJugadas&&(this.mensaje=`Se termin\xF3 el juego! Tu puntaje es:${this.puntosJugador} puntos.
                        Si te gust\xF3, volv\xE9 a jugar`,this.estiloRespuesta="",this.botonesDeshabilitados=!0,FT.default.fire({title:"JUEGO TERMINADO",text:this.mensaje,icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"Cerrar",confirmButtonText:"Jugar de nuevo"}).then(i=>{i.isConfirmed&&this.cargarJuegoNuevo()}))})}ngOnDestroy(){this.subscripciones.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||n)(F(Rn))};static \u0275cmp=Re({type:n,selectors:[["app-mayoromenor"]],decls:37,vars:8,consts:[[1,"botonNuevoJuego"],["mat-flat-button","",3,"click"],[1,"contenedor"],[1,"cards-container"],[1,"contenedorAnuncios"],[1,"puntajeLabel"],[1,"jugadasRestantesLabel"],[1,"mat-elevation-z4","carta-actual"],["mat-card-image","","alt","imagen de carta dada vuelta",1,"card-image",3,"src"],[1,"mensaje"],[1,"mensaje-contenedor"],[3,"ngClass"],[1,"opciones"],["mat-fab","","extended","",3,"click","disabled"]],template:function(t,i){t&1&&(Ie(0,"app-header"),U(1,"h2"),ee(2,"MAYOR O MENOR"),V(),U(3,"div",0)(4,"button",1),ge("click",function(){return i.cargarJuegoNuevo()}),ee(5,"JUGAR DE NUEVO"),V()(),U(6,"div",2)(7,"div",3)(8,"div",4)(9,"label",5),ee(10),V(),U(11,"label",6),ee(12),V()(),U(13,"mat-card",7)(14,"mat-card-header")(15,"mat-card-title"),ee(16,"Mazo"),V()(),Ie(17,"img",8),V(),U(18,"mat-card",7)(19,"mat-card-header")(20,"mat-card-title"),ee(21,"Carta"),V()(),Ie(22,"img",8),V()(),U(23,"div",9)(24,"mat-card",10)(25,"mat-card-content")(26,"p",11),ee(27),V()()()(),U(28,"div",12)(29,"button",13),ge("click",function(){return i.adivinar(!0)}),U(30,"mat-icon"),ee(31,"arrow_upward"),V(),ee(32," Mayor "),V(),U(33,"button",13),ge("click",function(){return i.adivinar(!1)}),U(34,"mat-icon"),ee(35,"arrow_downward"),V(),ee(36," Menor "),V()()()),t&2&&(G(10),lt("Puntos: ",i.puntosJugador,""),G(2),lt("Te quedan ",i.cantidadDeJugadas-i.contadorDeJugadas," jugadas"),G(5),le("src",i.urlImgCartaSiguiente,lo),G(5),le("src",i.urlImgCartaActual,lo),G(4),le("ngClass",i.estiloRespuesta),G(),fr(i.mensaje),G(2),le("disabled",i.botonesDeshabilitados),G(4),le("disabled",i.botonesDeshabilitados))},dependencies:[pr,Jt,Yn,Oy,$h,OT,ma,Hh,qh,bu],styles:["h2[_ngcontent-%COMP%]{color:#fff;text-align:center;font-family:Comic Neue,cursive;font-style:italic}.botonNuevoJuego[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px}.contenedor[_ngcontent-%COMP%]{text-align:left;margin:0 auto;display:flex;flex-direction:column;align-items:center;background-color:#b4e5f1;padding:10px;border-radius:10px;width:90%;max-width:900px}.contenedorAnuncios[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin-right:10px;margin-left:-220px;text-align:left;color:#116ef8}.puntajeLabel[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;margin-bottom:10px}.jugadasRestantesLabel[_ngcontent-%COMP%]{font-size:1.4em;font-weight:700;margin-bottom:10px;color:red}.cards-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:10px}.carta-actual[_ngcontent-%COMP%]{width:150px;margin:0 20px;text-align:center;border:2px solid #1e88e5;border-radius:10px;box-shadow:0 4px 8px #0003;background:linear-gradient(to bottom,#e3f2fd,#bbdefb)}.mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.mat-card-title[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:700;font-size:16px;color:#1976d2}.card-image[_ngcontent-%COMP%]{width:80%;height:auto;margin:5px auto;padding:5px;border-radius:5px;border:1px solid #ddd}.opciones[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.opciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px;width:120px;background-color:#1e88e5;color:#fff;border:none;border-radius:8px;box-shadow:0 4px 6px #0003;transition:background-color .3s ease,transform .2s ease}.opciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1565c0;transform:scale(1.05)}.opciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#0d47a1;transform:scale(.95)}.mensaje[_ngcontent-%COMP%]{margin-top:5px;width:100%;height:auto;min-height:50px}.mensaje-contenedor[_ngcontent-%COMP%]{margin:0 auto;width:450px;padding:5px;background-color:#fff;border-radius:5px;border:2px solid #1976d2;box-shadow:0 4px 6px #0000001a}.respuesta-correcta[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb;padding:10px;border-radius:5px}.respuesta-incorrecta[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb;padding:10px;border-radius:5px}"]})};var Qv=ls(vo());var Wh=class n{constructor(e){this.http=e}THE_SIMPSONS_API_URL="https://thesimpsonsquoteapi.glitch.me/quotes?count=50";cantidadDePersonajes=10;obtenerPersonajesFiltrados(){return this.http.get(this.THE_SIMPSONS_API_URL).pipe(ie(e=>this.filtrarPersonajesAleatorios(e,this.cantidadDePersonajes)))}filtrarPersonajesAleatorios(e,t){let i=[],r=[];for(let o of e)if(r.includes(o.character)||(r.push(o.character),i.push(o)),i.length===t)break;return i}static \u0275fac=function(t){return new(t||n)($(Rn))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function d2(n,e){if(n&1){let t=Vt();U(0,"button",14),ge("click",function(){let r=Ct(t).$implicit,o=Se(2);return St(o.verificarRespuesta(r))}),ee(1),V()}if(n&2){let t=e.$implicit,i=Se(2);le("disabled",i.botonesDeshabilitados),G(),lt(" ",t," ")}}function u2(n,e){if(n&1&&(U(0,"div",4)(1,"div",5)(2,"div",6)(3,"label",7),ee(4),V(),U(5,"label",8),ee(6),V()()(),U(7,"div",9)(8,"mat-card",10)(9,"mat-card-header")(10,"mat-card-title"),ee(11,"\xBFQuien es este personaje?"),V()(),Ie(12,"img",11),V()(),U(13,"div",12),ye(14,d2,2,2,"button",13),V()()),n&2){let t=Se();G(4),lt("Puntos: ",t.puntosJugador,""),G(2),lt("Te quedan ",t.cantidadDeJugadas-t.contadorDeJugadas," jugadas"),G(6),le("src",t.personajeAAdivinar.image,lo),G(2),le("ngForOf",t.opciones)}}var Kh=class n{constructor(e){this.apiSimpsonsService=e}subscripcion;personajes=[];personajeAAdivinar;opciones=[];cantidadDeOpciones=4;puntosJugador=0;contadorDeJugadas=0;cantidadDeJugadas=10;indiceActual=0;mensaje;botonesDeshabilitados=!1;ngOnInit(){this.cargarJuegoNuevo()}cargarJuegoNuevo(){this.resetearValores(),this.subscripcion=this.apiSimpsonsService.obtenerPersonajesFiltrados().subscribe(e=>{this.personajes=e,this.indiceActual=0,this.cargarSiguientePersonaje()})}resetearValores(){this.opciones=[],this.personajes=[],this.contadorDeJugadas=0,this.puntosJugador=0,this.botonesDeshabilitados=!1}cargarSiguientePersonaje(){this.personajeAAdivinar=this.personajes[this.indiceActual],this.opciones=this.generarOpciones(this.personajeAAdivinar.character)}generarOpciones(e){let t=[];for(t.push(e);t.length<this.cantidadDeOpciones;){let r=this.seleccionarPersonajeAlAzar().character;t.includes(r)||t.push(r)}return this.mezclarOpciones(t)}seleccionarPersonajeAlAzar(){let e=Math.floor(Math.random()*this.personajes.length);return this.personajes[e]}mezclarOpciones(e){return e.sort(()=>Math.random()-.5)}verificarRespuesta(e){let t;e===this.personajeAAdivinar.character?(this.puntosJugador++,this.mensaje=`\xA1Correcto! El personaje es ${this.personajeAAdivinar.character} .`,t="success"):(this.mensaje=`\xA1Incorrecto! El personaje es ${this.personajeAAdivinar.character} .`,t="error"),this.comunicarAlUsuario("jugada",this.mensaje,"",t),this.contadorDeJugadas++,this.indiceActual++,this.contadorDeJugadas<this.cantidadDeJugadas?this.cargarSiguientePersonaje():(this.botonesDeshabilitados=!0,this.mensaje=`Se termin\xF3 el juego! Tu puntaje es: ${this.puntosJugador} puntos.
                      Si te gust\xF3, volv\xE9 a jugar`,this.comunicarAlUsuario("final","JUEGO TERMINADO",this.mensaje,"info"))}comunicarAlUsuario(e,t,i,r){switch(e){case"jugada":Qv.default.fire({position:"center",icon:r,title:t,showConfirmButton:!1,timer:1e3});break;default:Qv.default.fire({title:t,text:i,icon:r,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"Cerrar",confirmButtonText:"Jugar de nuevo"}).then(o=>{o.isConfirmed&&this.cargarJuegoNuevo()});break}}ngOnDestroy(){this.subscripcion.unsubscribe()}static \u0275fac=function(t){return new(t||n)(F(Wh))};static \u0275cmp=Re({type:n,selectors:[["app-preguntados"]],decls:8,vars:1,consts:[[1,"botonJuegoNuevo"],["mat-flat-button","",3,"click"],[1,"contenedorPrincipal"],["class","flex align-items-stretch flex-wrap separarElementos","style","min-height: 200px",4,"ngIf"],[1,"flex","align-items-stretch","flex-wrap","separarElementos",2,"min-height","200px"],[1,"md:align-self-auto","align-self-center","flex","align-items-center","justify-content-center","bg-primary","font-bold","border-round","m-0",2,"min-width","200px","min-height","50px"],[1,"flex","flex-column","align-items-start","contenedorAnuncios"],[1,"puntajeLabel"],[1,"jugadasRestantesLabel"],[1,"md:align-self-start","contenedorImagen","flex","align-items-center","justify-content-center","bg-primary","font-bold","border-round","m-0"],[1,"p-2","tarjeta"],["mat-card-image","","alt","imagen de personaje",1,"card-image",3,"src"],[1,"md:align-self-auto","align-self-center","flex","flex-column","contenedorOpciones","bg-primary","font-bold","border-round","m-2"],["class","p-button p-component botonOpcion",3,"disabled","click",4,"ngFor","ngForOf"],[1,"p-button","p-component","botonOpcion",3,"click","disabled"]],template:function(t,i){t&1&&(Ie(0,"app-header"),U(1,"h2"),ee(2,"PREGUNTADOS"),V(),U(3,"div",0)(4,"button",1),ge("click",function(){return i.cargarJuegoNuevo()}),ee(5,"JUGAR DE NUEVO"),V()(),U(6,"div",2),ye(7,u2,15,4,"div",3),V()),t&2&&(G(7),le("ngIf",i.personajeAAdivinar))},dependencies:[gr,_d,Jt,Yn,$h,ma,Hh,qh],styles:["h2[_ngcontent-%COMP%]{color:#fff;text-align:center;font-family:Comic Neue,cursive;font-style:italic}.botonJuegoNuevo[_ngcontent-%COMP%]{padding-top:0%;padding-bottom:5px}.contenedorPrincipal[_ngcontent-%COMP%]{background-color:#b4e5f1;width:75vw;height:65vh;display:flex;justify-content:space-around;align-items:center;margin:auto;border-radius:10px;box-shadow:0 4px 8px #0000001a;border:4.5px solid white}.separarElementos[_ngcontent-%COMP%]{display:flex;gap:30px}.contenedorAnuncios[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:15px;background-color:#99bff8;border:2px solid #3267f8;border-radius:8px;box-shadow:0 4px 8px #0000001a}.puntajeLabel[_ngcontent-%COMP%], .jugadasRestantesLabel[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#05356b;margin-bottom:30px;font-size:1.7rem}.contenedorImagen[_ngcontent-%COMP%]{align-self:center;margin-top:20px;margin-left:20px;margin-right:5px}.tarjeta[_ngcontent-%COMP%]{width:350px;height:350px;border:2px solid #05356b;border-radius:8px}.tarjeta[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{align-self:center;width:40%;height:auto;max-width:100%;max-height:100%;object-fit:cover}mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333;text-align:center;margin:0;padding:10px 0}.contenedorOpciones[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.botonOpcion[_ngcontent-%COMP%]{width:100%;padding:15px;font-size:1.2rem;margin-bottom:10px;border-radius:10px;background-color:#007bff;color:#fff;border:none;cursor:pointer;box-shadow:0 4px 6px #0000001a;transition:background-color .3s ease}.botonOpcion[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};var LT=ls(vo());var Qh=class n{constructor(e){this.http=e}REST_COUNTRIES_API_URL="https://restcountries.com/v3.1/all";obtenerPaisAleatorio(){return this.http.get(this.REST_COUNTRIES_API_URL).pipe(ie(e=>{let t=e.map(r=>{let o=r.translations?.spa?.common||r.name.common;return this.eliminarAcentos(o)}).filter(r=>this.filtrarPorCriterio(r)),i=Math.floor(Math.random()*t.length);return t[i]}))}eliminarAcentos(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}filtrarPorCriterio(e){return e.length<8&&!e.includes(" ")}static \u0275fac=function(t){return new(t||n)($(Rn))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var m2=(n,e,t)=>({letrasGrilla:!0,respuestaCorrecta:n,respuestaParcialmenteCorrecta:e,respuestaIncorrecta:t}),f2=(n,e,t)=>({correcta:n,parcial:e,incorrecta:t});function p2(n,e){if(n&1&&(U(0,"div",17),ee(1),V()),n&2){let t=e.$implicit,i=e.index,r=Se(2);le("ngClass",Bm(2,m2,t===r.palabraAAdivinar[i],r.palabraAAdivinar.includes(t)&&t!==r.palabraAAdivinar[i],!r.palabraAAdivinar.includes(t))),G(),lt(" ",t," ")}}function g2(n,e){if(n&1&&(U(0,"div",8),ye(1,p2,2,6,"div",16),V()),n&2){let t=e.$implicit;G(),le("ngForOf",t.split(""))}}function b2(n,e){if(n&1&&(U(0,"div",18),ee(1),V()),n&2){let t=e.$implicit;G(),fr(t)}}function v2(n,e){n&1&&Ie(0,"div",19)}function _2(n,e){n&1&&Ie(0,"div",19)}function y2(n,e){if(n&1&&(U(0,"div",8),ye(1,_2,1,0,"div",10),V()),n&2){let t=Se();G(),le("ngForOf",t.obtenerLetrasVaciasPorFila())}}function w2(n,e){if(n&1){let t=Vt();U(0,"button",20),ge("click",function(){let r=Ct(t).$implicit,o=Se();return St(o.agregarLetra(r))}),ee(1),V()}if(n&2){let t=e.$implicit,i=Se();le("disabled",i.botonesDeshabilitados)("ngClass",Bm(3,f2,i.estadoLetrasTeclado[t]==="correcta",i.estadoLetrasTeclado[t]==="parcial",i.estadoLetrasTeclado[t]==="incorrecta")),G(),lt(" ",t," ")}}var Jh=class n{constructor(e){this.apiPaisesService=e;this.cargarJuegoNuevo()}letras=[];palabraAAdivinar="";intentos=[];respuestaActual="";cantidadDeJugadas=6;puntosJugador=10;estadoLetrasTeclado={};botonesDeshabilitados=!1;cargarJuegoNuevo(){this.resetearValores(),this.crearTeclado(),this.apiPaisesService.obtenerPaisAleatorio().subscribe(e=>{this.palabraAAdivinar=e.toUpperCase()})}resetearValores(){this.puntosJugador=10,this.intentos=[],this.respuestaActual="",this.botonesDeshabilitados=!1,this.letras.forEach(e=>{this.estadoLetrasTeclado[e]="default"})}crearTeclado(){this.letras="ABCDEFGHIJKLMN\xD1OPQRSTUVWXYZ".split("")}obtenerEspaciosVaciosIntentoActual(){return new Array(this.palabraAAdivinar.length-this.respuestaActual.length).fill(0)}obtenerFilasVaciasRestantes(){let e=this.cantidadDeJugadas-this.intentos.length-1;return e>0?new Array(e).fill(0):[]}obtenerLetrasVaciasPorFila(){return new Array(this.palabraAAdivinar.length).fill(0)}agregarLetra(e){this.respuestaActual.length<this.palabraAAdivinar.length&&(this.respuestaActual+=e)}borrarLetra(){this.respuestaActual=this.respuestaActual.slice(0,-1)}verificarPablabra(){if(this.respuestaActual.length===this.palabraAAdivinar.length&&this.intentos.length<this.cantidadDeJugadas){if(this.intentos.push(this.respuestaActual),this.actualizarEstadoLetrasTeclado(),this.intentos[this.intentos.length-1]===this.palabraAAdivinar){this.informarResultado("FELICITACIONES",`\xA1Ganaste! Tu puntaje es: ${this.puntosJugador} puntos`,"success");return}this.calcularPuntos(),this.intentos.length===this.cantidadDeJugadas&&this.informarResultado("LA PR\xD3XIMA SER\xC1...",`\xA1Perdiste! La palabra era '${this.palabraAAdivinar}.'
           Tu puntaje es: ${this.puntosJugador}`,"error"),this.respuestaActual=""}}actualizarEstadoLetrasTeclado(){this.respuestaActual.split("").forEach((e,t)=>{e===this.palabraAAdivinar[t]?this.estadoLetrasTeclado[e]="correcta":this.palabraAAdivinar.includes(e)?this.estadoLetrasTeclado[e]="parcial":this.estadoLetrasTeclado[e]="incorrecta"})}calcularPuntos(){let e=this.intentos.length;this.puntosJugador>0&&(this.puntosJugador-=1),e===this.cantidadDeJugadas&&(this.puntosJugador=0)}informarResultado(e,t,i){this.botonesDeshabilitados=!0,LT.default.fire({title:e,text:t,icon:i,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"Cerrar",confirmButtonText:"Jugar de nuevo"}).then(r=>{r.isConfirmed&&this.cargarJuegoNuevo()})}static \u0275fac=function(t){return new(t||n)(F(Qh))};static \u0275cmp=Re({type:n,selectors:[["app-wordle"]],decls:25,vars:8,consts:[[1,"botonJuegoNuevo"],["mat-flat-button","",3,"click"],[1,"contenedorPrincipal"],[1,"contenidoJuego"],[1,"puntajeLabel"],["tabindex","0",1,"contenedorContenido"],[1,"grilla"],["class","filas",4,"ngFor","ngForOf"],[1,"filas"],["class","letrasGrilla",4,"ngFor","ngForOf"],["class","letrasGrilla vacias",4,"ngFor","ngForOf"],[1,"teclado"],[1,"botonesTeclado"],[3,"disabled","ngClass","click",4,"ngFor","ngForOf"],[1,"botonEnviar",3,"click","disabled"],[1,"botonBorrar",3,"click","disabled"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"letrasGrilla"],[1,"letrasGrilla","vacias"],[3,"click","disabled","ngClass"]],template:function(t,i){t&1&&(Ie(0,"app-header"),U(1,"h2"),ee(2,"WORDLE"),V(),U(3,"div",0)(4,"button",1),ge("click",function(){return i.cargarJuegoNuevo()}),ee(5,"JUGAR DE NUEVO"),V()(),U(6,"div",2)(7,"div",3)(8,"label",4),ee(9),V(),U(10,"div",5)(11,"div",6),ye(12,g2,2,1,"div",7),U(13,"div",8),ye(14,b2,2,1,"div",9)(15,v2,1,0,"div",10),V(),ye(16,y2,2,1,"div",7),V(),U(17,"div",11)(18,"div",12),ye(19,w2,2,7,"button",13),V(),U(20,"div",12)(21,"button",14),ge("click",function(){return i.verificarPablabra()}),ee(22," ENVIAR "),V(),U(23,"button",15),ge("click",function(){return i.borrarLetra()}),ee(24," BORRAR "),V()()()()()()),t&2&&(G(9),lt("Puntos: ",i.puntosJugador,""),G(3),le("ngForOf",i.intentos),G(2),le("ngForOf",i.respuestaActual.split("")),G(),le("ngForOf",i.obtenerEspaciosVaciosIntentoActual()),G(),le("ngForOf",i.obtenerFilasVaciasRestantes()),G(3),le("ngForOf",i.letras),G(2),le("disabled",i.botonesDeshabilitados),G(2),le("disabled",i.botonesDeshabilitados))},dependencies:[pr,gr,Jt,Yn],styles:["h2[_ngcontent-%COMP%]{color:#fff;text-align:center;font-family:Comic Neue,cursive;font-style:italic}.botonJuegoNuevo[_ngcontent-%COMP%]{padding-top:0%;padding-bottom:1px}.contenedorPrincipal[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#b4e5f1;margin:10px auto auto;max-width:1100px;height:66vh;overflow:hidden;position:relative;border-radius:10px;box-shadow:0 4px 8px #0000001a;border:4.5px solid white}.contenedorContenido[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:250px;text-align:center;margin-top:20px;align-items:center}.contenidoJuego[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.puntajeLabel[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;font-size:1rem;font-weight:700;color:#05356b;margin-bottom:30px;font-size:1.7rem}.grilla[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;margin-top:0;align-items:center}.filas[_ngcontent-%COMP%]{display:flex;justify-content:center}.letrasGrilla[_ngcontent-%COMP%]{width:30px;height:30px;border:2px solid #333;display:flex;align-items:center;justify-content:center;font-size:20px;text-transform:uppercase;background-color:#f9f9f9;border-radius:5px}.vacias[_ngcontent-%COMP%]{background-color:#eee}.respuestaCorrecta[_ngcontent-%COMP%]{background-color:#6aaa64;border-color:#6aaa64;color:#fff}.respuestaParcialmenteCorrecta[_ngcontent-%COMP%]{background-color:#c9b458;border-color:#c9b458;color:#fff}.respuestaIncorrecta[_ngcontent-%COMP%]{background-color:#86888a;border-color:#86888a;color:#fff}.teclado[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:20px;margin-top:20px;max-width:250px}.botonesTeclado[_ngcontent-%COMP%]{display:flex;justify-content:center}.botonesTeclado[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px;font-size:15px;font-weight:700;min-width:35px;min-height:45px;max-width:70px;background-color:#5c8ff0;border:2px solid #333;border-radius:8px;margin:1px;color:#333;cursor:pointer}.botonesTeclado[_ngcontent-%COMP%]   button.correcta[_ngcontent-%COMP%]{background-color:#6aaa64;border-color:#6aaa64;color:#fff}.botonesTeclado[_ngcontent-%COMP%]   button.parcial[_ngcontent-%COMP%]{background-color:#c9b458;border-color:#c9b458;color:#fff}.botonesTeclado[_ngcontent-%COMP%]   button.incorrecta[_ngcontent-%COMP%]{background-color:#86888a;border-color:#86888a;color:#fff}.botonEnviar[_ngcontent-%COMP%]{background-color:#007bff!important;color:#fff!important;font-weight:700;padding:15px 30px;min-width:100px!important;border-radius:10px}.botonBorrar[_ngcontent-%COMP%]{background-color:#ff5722!important;color:#fff!important;font-weight:700;padding:15px 30px;min-width:100px!important;border-radius:10px}"]})};var eA=ls(vo());var Yh=class n{constructor(e,t){this.firestore=e;this.auth=t;this.coleccionDeChats=Uh(this.firestore,"chats"),this.usuario=this.auth.currentUser}coleccionDeChats;chats=[];cantidadMaximaDeChats=10;usuario;devolverChats(){let e=sT(this.coleccionDeChats,oT("fecha","desc"),rT(this.cantidadMaximaDeChats));return iT(e).pipe(ie(t=>(this.chats=[],t.forEach(i=>{this.chats.unshift(i)}),this.chats)))}agregarChat(e){if(!this.usuario||!this.usuario.email)return Promise.reject(new Error("El email del usuario no est\xE1 logueado."));let t={email:this.usuario.email,mensaje:e,fecha:new Date().getTime()};return Vh(this.coleccionDeChats,t)}static \u0275fac=function(t){return new(t||n)($(Bi),$(Mi))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var VT=br({passive:!0}),UT=(()=>{let e=class e{constructor(i,r){this._platform=i,this._ngZone=r,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return Kn;let r=Jn(i),o=this._monitoredElements.get(r);if(o)return o.subject;let s=new He,c="cdk-text-field-autofilled",d=m=>{m.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(c)?(r.classList.add(c),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!0}))):m.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",d,VT),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",d,VT)}}),s}stopMonitoring(i){let r=Jn(i),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((i,r)=>this.stopMonitoring(r))}};e.\u0275fac=function(r){return new(r||e)($(Xe),$(ce))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var jT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({});let n=e;return n})();var Jv=class{constructor(e){this._box=e,this._destroyed=new He,this._resizeSubject=new He,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Wt(t=>{let i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(nn(t=>t.some(i=>i.target===e)),f_({bufferSize:1,refCount:!0}),Tn(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},BT=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=H(ce),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,i]of this._observers)i.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(i,r){let o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new Jv(o)),this._observers.get(o).observe(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var x2=["notch"],T2=["matFormFieldNotchedOutline",""],A2=["*"],C2=["textField"],S2=["iconPrefixContainer"],k2=["textPrefixContainer"],R2=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],D2=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function P2(n,e){n&1&&Ie(0,"span",19)}function O2(n,e){if(n&1&&(U(0,"label",18),De(1,1),ye(2,P2,1,0,"span",19),V()),n&2){let t=Se(2);le("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),kt("for",t._control.disableAutomaticLabeling?null:t._control.id),G(2),it(!t.hideRequiredMarker&&t._control.required?2:-1)}}function M2(n,e){if(n&1&&ye(0,O2,3,5,"label",18),n&2){let t=Se();it(t._hasFloatingLabel()?0:-1)}}function N2(n,e){n&1&&Ie(0,"div",5)}function F2(n,e){}function L2(n,e){if(n&1&&ye(0,F2,0,0,"ng-template",11),n&2){Se(2);let t=hd(1);le("ngTemplateOutlet",t)}}function V2(n,e){if(n&1&&(U(0,"div",7),ye(1,L2,1,1,null,11),V()),n&2){let t=Se();le("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),G(),it(t._forceDisplayInfixLabel()?-1:1)}}function U2(n,e){n&1&&(U(0,"div",8,2),De(2,2),V())}function j2(n,e){n&1&&(U(0,"div",9,3),De(2,3),V())}function B2(n,e){}function z2(n,e){if(n&1&&ye(0,B2,0,0,"ng-template",11),n&2){Se();let t=hd(1);le("ngTemplateOutlet",t)}}function $2(n,e){n&1&&(U(0,"div",12),De(1,4),V())}function q2(n,e){n&1&&(U(0,"div",13),De(1,5),V())}function H2(n,e){n&1&&Ie(0,"div",14)}function G2(n,e){if(n&1&&(U(0,"div",16),De(1,6),V()),n&2){let t=Se();le("@transitionMessages",t._subscriptAnimationState)}}function W2(n,e){if(n&1&&(U(0,"mat-hint",20),ee(1),V()),n&2){let t=Se(2);le("id",t._hintLabelId),G(),fr(t.hintLabel)}}function K2(n,e){if(n&1&&(U(0,"div",17),ye(1,W2,2,2,"mat-hint",20),De(2,7),Ie(3,"div",21),De(4,8),V()),n&2){let t=Se();le("@transitionMessages",t._subscriptAnimationState),G(),it(t.hintLabel?1:-1)}}var Zh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=pe({type:e,selectors:[["mat-label"]],standalone:!0});let n=e;return n})();var Q2=new J("MatError");var J2=0,zT=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${J2++}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=pe({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,o){r&2&&(qa("id",o.id),kt("align",null),Ve("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let n=e;return n})(),Y2=new J("MatPrefix");var X2=new J("MatSuffix");var JT=new J("FloatingLabelParent"),$T=(()=>{let e=class e{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=H(BT),this._ngZone=H(ce),this._parent=H(JT),this._resizeSubscription=new oo}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Z2(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(r){return new(r||e)(F(Ne))},e.\u0275dir=pe({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,o){r&2&&Ve("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let n=e;return n})();function Z2(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let i=t.scrollWidth;return t.remove(),i}var qT="mdc-line-ripple--active",Xh="mdc-line-ripple--deactivating",HT=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,c=s.contains(Xh);o.propertyName==="opacity"&&c&&s.remove(qT,Xh)},r.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let i=this._elementRef.nativeElement.classList;i.remove(Xh),i.add(qT)}deactivate(){this._elementRef.nativeElement.classList.add(Xh)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(r){return new(r||e)(F(Ne),F(ce))},e.\u0275dir=pe({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let n=e;return n})(),GT=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._ngZone=r,this.open=!1}ngAfterViewInit(){let i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){!this.open||!i?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(r){return new(r||e)(F(Ne),F(ce))},e.\u0275cmp=Re({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,o){if(r&1&&fn(x2,5),r&2){let s;at(s=ct())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,o){r&2&&Ve("mdc-notched-outline--notched",o.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[dt],attrs:T2,ngContentSelectors:A2,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,o){r&1&&(Ht(),Ie(0,"div",1),U(1,"div",2,0),De(3),V(),Ie(4,"div",3))},encapsulation:2,changeDetection:0});let n=e;return n})(),eL={transitionMessages:ty("transitionMessages",[iy("enter",Hm({opacity:1,transform:"translateY(0%)"})),ry("void => enter",[Hm({opacity:0,transform:"translateY(-5px)"}),ny("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Yv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=pe({type:e});let n=e;return n})();var Xv=new J("MatFormField"),tL=new J("MAT_FORM_FIELD_DEFAULT_OPTIONS"),WT=0,KT="fill",nL="auto",QT="fixed",iL="translateY(-50%)",YT=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=ho(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||nL}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){let r=this._appearance,o=i||this._defaults?.appearance||KT;this._appearance=o,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||QT}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||QT}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,r,o,s,c,d,m,b){this._elementRef=i,this._changeDetectorRef=r,this._dir=s,this._platform=c,this._defaults=d,this._animationMode=m,this._labelChild=k_(Zh),this._hideRequiredMarker=!1,this.color="primary",this._appearance=KT,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${WT++}`,this._hintLabelId=`mat-mdc-hint-${WT++}`,this._subscriptAnimationState="",this._destroyed=new He,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=H(qt),this.getLabelId=vi(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=vi(()=>!!this._labelChild()),d&&(d.appearance&&(this.appearance=d.appearance),this._hideRequiredMarker=!!d?.hideRequiredMarker,d.color&&(this.color=d.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(i){let r=this._control,o="mat-mdc-form-field-type-";i&&this._elementRef.nativeElement.classList.remove(o+i.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(o+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(Tn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),d_(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),D_(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Tn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(i){let r=this._control?this._control.ngControl:null;return r&&r[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&i.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;r?i.push(r.id):this._hintLabel&&i.push(this._hintLabelId),o&&i.push(o.id)}else this._errorChildren&&i.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let i=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){i.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,d=this._dir.value==="rtl"?"-1":"1",m=`${s+c}px`,g=`calc(${d} * (${m} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;i.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${iL} translateX(${g})
    )`}_isAttachedToDom(){let i=this._elementRef.nativeElement;if(i.getRootNode){let r=i.getRootNode();return r&&r!==i}return document.documentElement.contains(i)}};e.\u0275fac=function(r){return new(r||e)(F(Ne),F(bi),F(ce),F(gy),F(Xe),F(tL,8),F(mr,8),F(ke))},e.\u0275cmp=Re({type:e,selectors:[["mat-form-field"]],contentQueries:function(r,o,s){if(r&1&&(M_(s,o._labelChild,Zh,5),Qn(s,Yv,5),Qn(s,Y2,5),Qn(s,X2,5),Qn(s,Q2,5),Qn(s,zT,5)),r&2){N_();let c;at(c=ct())&&(o._formFieldControl=c.first),at(c=ct())&&(o._prefixChildren=c),at(c=ct())&&(o._suffixChildren=c),at(c=ct())&&(o._errorChildren=c),at(c=ct())&&(o._hintChildren=c)}},viewQuery:function(r,o){if(r&1&&(fn(C2,5),fn(S2,5),fn(k2,5),fn($T,5),fn(GT,5),fn(HT,5)),r&2){let s;at(s=ct())&&(o._textField=s.first),at(s=ct())&&(o._iconPrefixContainer=s.first),at(s=ct())&&(o._textPrefixContainer=s.first),at(s=ct())&&(o._floatingLabel=s.first),at(s=ct())&&(o._notchedOutline=s.first),at(s=ct())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,o){r&2&&Ve("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[cn([{provide:Xv,useExisting:e},{provide:JT,useExisting:e}]),dt],ngContentSelectors:D2,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,o){if(r&1){let s=Vt();Ht(R2),ye(0,M2,1,1,"ng-template",null,0,zm),U(2,"div",4,1),ge("click",function(d){return Ct(s),St(o._control.onContainerClick(d))}),ye(4,N2,1,0,"div",5),U(5,"div",6),ye(6,V2,2,2,"div",7)(7,U2,3,0,"div",8)(8,j2,3,0,"div",9),U(9,"div",10),ye(10,z2,1,1,null,11),De(11),V(),ye(12,$2,2,0,"div",12)(13,q2,2,0,"div",13),V(),ye(14,H2,1,0,"div",14),V(),U(15,"div",15),ye(16,G2,2,1,"div",16)(17,K2,5,2,"div",17),V()}if(r&2){let s;G(2),Ve("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),G(2),it(!o._hasOutline()&&!o._control.disabled?4:-1),G(2),it(o._hasOutline()?6:-1),G(),it(o._hasIconPrefix?7:-1),G(),it(o._hasTextPrefix?8:-1),G(2),it(!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),G(2),it(o._hasTextSuffix?12:-1),G(),it(o._hasIconSuffix?13:-1),G(),it(o._hasOutline()?-1:14),G(),Ve("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),G(),it((s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[$T,GT,qm,HT,zT],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[eL.transitionMessages]},changeDetection:0});let n=e;return n})(),Il=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Be,kn,Id,Be]});let n=e;return n})();var oL=new J("MAT_INPUT_VALUE_ACCESSOR"),sL=["button","checkbox","file","hidden","image","radio","range","reset","submit"],aL=0,XT=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){this._disabled=ho(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Dd.required)??!1}set required(i){this._required=ho(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&Km().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=ho(i)}get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}constructor(i,r,o,s,c,d,m,b,g,E){this._elementRef=i,this._platform=r,this.ngControl=o,this._autofillMonitor=b,this._ngZone=g,this._formField=E,this._uid=`mat-input-${aL++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new He,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(L=>Km().has(L)),this._iOSKeyupListener=L=>{let D=L.target;!D.value&&D.selectionStart===0&&D.selectionEnd===0&&(D.setSelectionRange(1,1),D.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let R=this._elementRef.nativeElement,M=R.nodeName.toLowerCase();this._inputValueAccessor=m||R,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&g.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Ad(d,o,c,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=M==="select",this._isTextarea=M==="textarea",this._isInFormField=!!E,this._isNativeSelect&&(this.controlType=R.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){let i=this._getPlaceholder();if(i!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){sL.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let i=this._elementRef.nativeElement,r=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};e.\u0275fac=function(r){return new(r||e)(F(Ne),F(Xe),F(Ii,10),F(bf,8),F(_f,8),F(Ty),F(oL,10),F(UT),F(ce),F(Xv,8))},e.\u0275dir=pe({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,o){r&1&&ge("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),r&2&&(qa("id",o.id)("disabled",o.disabled)("required",o.required),kt("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),Ve("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[cn([{provide:Yv,useExisting:e}]),An]});let n=e;return n})(),ZT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Be,Il,Il,jT,Be]});let n=e;return n})();var lL=["appMensajes"],dL=(n,e)=>({"mensaje-derecha":n,"mensaje-izquierda":e}),uL=(n,e)=>({emailUsuario:n,"emailUsuario-alterno":e});function hL(n,e){if(n&1&&(U(0,"div",7)(1,"span",8),ee(2),V(),U(3,"p"),ee(4),U(5,"sub",9),ee(6),j_(7,"date"),V()()()),n&2){let t=e.$implicit,i=Se();le("ngClass",jm(8,dL,i.chatService.usuario.email===t.email,i.chatService.usuario.email!==t.email)),G(),le("ngClass",jm(11,uL,i.chatService.usuario.email===t.email,i.chatService.usuario.email!==t.email)),G(),lt(" ",t.email," "),G(2),lt(" ",t.mensaje," "),G(2),lt(" ",B_(7,5,t.fecha,"dd/MM/yyyy, HH:mm")," ")}}var em=class n{constructor(e){this.chatService=e}chat="";appMensajes;ngOnInit(){this.chatService.devolverChats().subscribe(()=>{this.scrollToBottom()})}ngAfterViewChecked(){this.scrollToBottom()}scrollToBottom(){this.appMensajes&&this.appMensajes.nativeElement&&(this.appMensajes.nativeElement.scrollTop=this.appMensajes.nativeElement.scrollHeight)}enviarChat(){this.chat.length!==0&&this.chatService.agregarChat(this.chat).then(()=>this.chat="").catch(e=>{eA.default.fire("Error",`No se pudo enviar su mensaje. Error: ${e.code}`,"error")})}static \u0275fac=function(t){return new(t||n)(F(Yh))};static \u0275cmp=Re({type:n,selectors:[["app-saladechat"]],viewQuery:function(t,i){if(t&1&&fn(lL,5),t&2){let r;at(r=ct())&&(i.appMensajes=r.first)}},decls:12,vars:2,consts:[["appMensajes",""],[1,"contenedorPrincipal"],[1,"contenedorMensaje"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"contenedorInput"],["appearance","fill",1,"full-width"],["matInput","",3,"ngModelChange","keyup.enter","ngModel"],[3,"ngClass"],[1,"emailUsuario",3,"ngClass"],[1,"fechaMensaje"]],template:function(t,i){if(t&1){let r=Vt();Ie(0,"app-header"),U(1,"h2"),ee(2,"Chats de nuestros usuarios"),V(),U(3,"div",1)(4,"div",2,0),ye(6,hL,8,14,"div",3),V(),U(7,"div",4)(8,"mat-form-field",5)(9,"mat-label"),ee(10,"Mensaje"),V(),U(11,"input",6),V_("ngModelChange",function(s){return Ct(r),L_(i.chat,s)||(i.chat=s),St(s)}),ge("keyup.enter",function(){return Ct(r),St(i.enviarChat())}),V()()()()}t&2&&(G(6),le("ngForOf",i.chatService.chats),G(5),F_("ngModel",i.chat))},dependencies:[pr,gr,Ud,ew,vf,Jt,XT,YT,Zh,Y_],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#001f3f;color:#fff;padding:10px}h2[_ngcontent-%COMP%]{text-align:center;color:#fff}.contenedorPrincipal[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;background:#ffffff1a;border-radius:8px;box-shadow:0 2px 10px #00000080;padding:10px;height:calc(100vh - 180px);display:flex;flex-direction:column;justify-content:space-between}.contenedorMensaje[_ngcontent-%COMP%]{flex-grow:1;max-height:100%;overflow-y:auto;margin-bottom:10px;padding:10px;border:1px solid rgba(255,255,255,.3);border-radius:5px;background-color:#fff3}.contenedorMensaje[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px;padding:10px;border-radius:10px;max-width:70%;display:flex;flex-direction:column}.contenedorMensaje[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.mensaje-derecha[_ngcontent-%COMP%]{background-color:#007bff33;margin-left:auto;text-align:right}.mensaje-izquierda[_ngcontent-%COMP%]{background-color:#28a74533;margin-right:auto;text-align:left}.emailUsuario[_ngcontent-%COMP%], .emailUsuario-alterno[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.emailUsuario[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:5px 10px;border-radius:15px;font-size:.9em}.emailUsuario-alterno[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;padding:5px 10px;border-radius:15px;font-size:.9em}.contenedorInput[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:auto}input.form-control[_ngcontent-%COMP%]{width:100%;height:50px;padding:10px;font-size:1em;border:1px solid rgba(255,255,255,.5);border-radius:5px;background-color:#ffffff1a;color:#fff;box-sizing:border-box}input.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 5px #007bff80}.full-width[_ngcontent-%COMP%]{width:100%}.fechaMensaje[_ngcontent-%COMP%]{font-size:.8em;color:#ffffffb3;display:block;text-align:right;margin-top:5px;height:auto;position:relative;right:0}"]})};var mL=[{path:"ahorcado",component:zh},{path:"mayoromenor",component:Gh},{path:"preguntados",component:Kh},{path:"wordle",component:Jh},{path:"saladechat",component:em},{path:"",redirectTo:"ahorcado",pathMatch:"full"}],tm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=me({type:n});static \u0275inj=he({imports:[Oc.forChild(mL),Oc]})};var tA=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=me({type:n});static \u0275inj=he({imports:[kn,uw,Jt,kd,ZT,Il,MT,ma,vu,_u,tm]})};export{EU as a,Ew as b,qU as c,fk as d,Pn as e,lj as f,dj as g,Oc as h,Ud as i,Dd as j,ew as k,iU as l,vf as m,oU as n,_f as o,WC as p,sU as q,uw as r,aU as s,vo as t,Yn as u,kd as v,bu as w,vu as x,EB as y,xB as z,bz as A,vz as B,d4 as C,u4 as D,U4 as E,j4 as F,Bh as G,Jt as H,Zh as I,YT as J,Il as K,XT as L,ZT as M,$h as N,qh as O,OT as P,p5 as Q,ma as R,Hh as S,MT as T,tA as U};

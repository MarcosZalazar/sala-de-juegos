import{$ as Oe,$a as Fa,$b as sd,A as is,Aa as ae,Ab as Te,Ac as U_,B as Yt,Ba as to,Bb as Gn,Bc as dd,C as fm,Ca as ke,Cb as dn,Cc as j_,D as Yl,Da as n_,Db as at,Dc as ud,E as pm,Ea as ed,Eb as ct,F as Jl,Fa as i_,Fb as __,G as Qv,Ga as En,Gb as y_,Gc as B_,H as Jt,Ha as cr,Hb as nd,Hc as z_,I as rr,Ia as Ma,Ib as le,J as or,Ja as os,Jb as cs,Jc as km,K as gm,Ka as ss,Kb as lr,Kc as $_,L as bm,La as r_,Lb as w_,Lc as q_,M as wn,Ma as o_,Mb as I_,N as Yv,Na as s_,Nb as E_,O as vm,Oa as a_,Ob as un,P as sr,Pa as c_,Pb as lt,Q as ar,Qa as l_,Qb as x_,R as _m,Ra as d_,Rb as Tm,S as Jv,Sa as nn,Sb as T_,T as ym,Ta as Oa,Tb as A_,U as Xv,Ua as u_,Ub as Am,V as Zv,Va as Na,Vb as ls,W as Xl,Wa as ie,Wb as C_,X as ka,Xa as L,Xb as id,Y as Xt,Ya as td,Yb as rd,Z as In,Zb as Cm,_ as He,_a as h_,_b as od,a as j,aa as Ra,ab as m_,ac as ad,b as Me,ba as K,ca as he,cb as as,cc as fi,d as CA,da as e_,db as f_,dc as S_,e as Ql,ea as Q,eb as xn,ec as k_,f as ir,fa as wm,fb as Tn,fc as Ot,g as x,ga as z,gb as p_,gc as pi,h as Xr,ha as $,hb as Em,hc as gi,i as am,ia as nt,ib as Be,ic as R_,j as $t,ja as Im,jb as g_,jc as ds,k as cm,ka as Da,kb as xm,kc as D_,l as lm,la as xe,lb as At,lc as P_,m as qe,ma as me,mb as Ne,mc as Ee,n as qt,na as be,nb as Fe,nc as M_,o as Gv,oa as Zt,ob as no,oc as Va,p as Wv,pa as t_,pb as it,pc as O_,q as qn,qa as eo,qb as q,qc as N_,r as dm,ra as cn,rb as H,rc as Ua,s as um,sa as Hn,sb as Le,sc as cd,t as hm,ta as en,tb as b_,tc as us,u as vt,ua as tn,ub as v_,uc as ld,v as ee,va as rs,vb as ln,vc as F_,w as Zr,wa as Pa,wb as La,wc as Sm,x as mm,xa as Ut,xb as Re,xc as L_,y as Kv,ya as Zl,yb as Je,yc as An,z as ne,za as jt,zb as Bt,zc as V_}from"./chunk-CBFAOSAR.js";var Ec=CA((Yn,Zf)=>{"use strict";(function(t,e){typeof Yn=="object"&&typeof Zf<"u"?Zf.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(Yn,function(){"use strict";function t(l,u,p){if(typeof l=="function"?l===u:l.has(u))return arguments.length<3?u:p;throw new TypeError("Private element is not present on this object")}function e(l,u){if(u.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(l,u){return l.get(t(l,u))}function i(l,u,p){e(l,u),u.set(l,p)}function r(l,u,p){return l.set(t(l,u),p),p}let o=100,s={},c=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},d=l=>new Promise(u=>{if(!l)return u();let p=window.scrollX,_=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{c(),u()},o),window.scrollTo(p,_)}),m="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,u)=>(l[u]=m+u,l),{}),R=["success","warning","info","question","error"].reduce((l,u)=>(l[u]=m+u,l),{}),O="SweetAlert2:",F=l=>l.charAt(0).toUpperCase()+l.slice(1),D=l=>{console.warn(`${O} ${typeof l=="object"?l.join(" "):l}`)},U=l=>{console.error(`${O} ${l}`)},Z=[],J=l=>{Z.includes(l)||(Z.push(l),D(l))},X=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;J(`"${l}" is deprecated and will be removed in the next major release.${u?` Use "${u}" instead.`:""}`)},Ie=l=>typeof l=="function"?l():l,se=l=>l&&typeof l.toPromise=="function",A=l=>se(l)?l.toPromise():Promise.resolve(l),y=l=>l&&Promise.resolve(l)===l,w=()=>document.body.querySelector(`.${g.container}`),T=l=>{let u=w();return u?u.querySelector(l):null},C=l=>T(`.${l}`),S=()=>C(g.popup),I=()=>C(g.icon),fn=()=>C(g["icon-content"]),Li=()=>C(g.title),oa=()=>C(g["html-container"]),Vi=()=>C(g.image),li=()=>C(g["progress-steps"]),Ui=()=>C(g["validation-message"]),Gt=()=>T(`.${g.actions} .${g.confirm}`),ji=()=>T(`.${g.actions} .${g.cancel}`),Rt=()=>T(`.${g.actions} .${g.deny}`),pt=()=>C(g["input-label"]),Bi=()=>T(`.${g.loader}`),pn=()=>C(g.actions),hl=()=>C(g.footer),Nn=()=>C(g["timer-progress-bar"]),sa=()=>C(g.close),Bh=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,zi=()=>{let l=S();if(!l)return[];let u=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),p=Array.from(u).sort((W,ye)=>{let je=parseInt(W.getAttribute("tabindex")||"0"),Ke=parseInt(ye.getAttribute("tabindex")||"0");return je>Ke?1:je<Ke?-1:0}),_=l.querySelectorAll(Bh),M=Array.from(_).filter(W=>W.getAttribute("tabindex")!=="-1");return[...new Set(p.concat(M))].filter(W=>xt(W))},$i=()=>Wt(document.body,g.shown)&&!Wt(document.body,g["toast-shown"])&&!Wt(document.body,g["no-backdrop"]),qi=()=>{let l=S();return l?Wt(l,g.toast):!1},aa=()=>{let l=S();return l?l.hasAttribute("data-loading"):!1},Et=(l,u)=>{if(l.textContent="",u){let _=new DOMParser().parseFromString(u,"text/html"),M=_.querySelector("head");M&&Array.from(M.childNodes).forEach(ye=>{l.appendChild(ye)});let W=_.querySelector("body");W&&Array.from(W.childNodes).forEach(ye=>{ye instanceof HTMLVideoElement||ye instanceof HTMLAudioElement?l.appendChild(ye.cloneNode(!0)):l.appendChild(ye)})}},Wt=(l,u)=>{if(!u)return!1;let p=u.split(/\s+/);for(let _=0;_<p.length;_++)if(!l.classList.contains(p[_]))return!1;return!0},ml=(l,u)=>{Array.from(l.classList).forEach(p=>{!Object.values(g).includes(p)&&!Object.values(R).includes(p)&&!Object.values(u.showClass||{}).includes(p)&&l.classList.remove(p)})},Dt=(l,u,p)=>{if(ml(l,u),!u.customClass)return;let _=u.customClass[p];if(_){if(typeof _!="string"&&!_.forEach){D(`Invalid type of customClass.${p}! Expected string or iterable object, got "${typeof _}"`);return}fe(l,_)}},Fo=(l,u)=>{if(!u)return null;switch(u){case"select":case"textarea":case"file":return l.querySelector(`.${g.popup} > .${g[u]}`);case"checkbox":return l.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return l.querySelector(`.${g.popup} > .${g.radio} input:checked`)||l.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return l.querySelector(`.${g.popup} > .${g.range} input`);default:return l.querySelector(`.${g.popup} > .${g.input}`)}},ca=l=>{if(l.focus(),l.type!=="file"){let u=l.value;l.value="",l.value=u}},la=(l,u,p)=>{!l||!u||(typeof u=="string"&&(u=u.split(/\s+/).filter(Boolean)),u.forEach(_=>{Array.isArray(l)?l.forEach(M=>{p?M.classList.add(_):M.classList.remove(_)}):p?l.classList.add(_):l.classList.remove(_)}))},fe=(l,u)=>{la(l,u,!0)},Kt=(l,u)=>{la(l,u,!1)},Fn=(l,u)=>{let p=Array.from(l.children);for(let _=0;_<p.length;_++){let M=p[_];if(M instanceof HTMLElement&&Wt(M,u))return M}},gn=(l,u,p)=>{p===`${parseInt(p)}`&&(p=parseInt(p)),p||parseInt(p)===0?l.style.setProperty(u,typeof p=="number"?`${p}px`:p):l.style.removeProperty(u)},Ye=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=u)},rt=l=>{l&&(l.style.display="none")},ot=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{Ln(l,l.innerHTML,u)}).observe(l,{childList:!0,subtree:!0})},gt=(l,u,p,_)=>{let M=l.querySelector(u);M&&M.style.setProperty(p,_)},Ln=function(l,u){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";u?Ye(l,p):rt(l)},xt=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),fl=()=>!xt(Gt())&&!xt(Rt())&&!xt(ji()),pl=l=>l.scrollHeight>l.clientHeight,Hi=l=>{let u=window.getComputedStyle(l),p=parseFloat(u.getPropertyValue("animation-duration")||"0"),_=parseFloat(u.getPropertyValue("transition-duration")||"0");return p>0||_>0},Lo=function(l){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=Nn();p&&xt(p)&&(u&&(p.style.transition="none",p.style.width="100%"),setTimeout(()=>{p.style.transition=`width ${l/1e3}s linear`,p.style.width="0%"},10))},gl=()=>{let l=Nn();if(!l)return;let u=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let p=parseInt(window.getComputedStyle(l).width),_=u/p*100;l.style.width=`${_}%`},Vo=()=>typeof window>"u"||typeof document>"u",zh=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),$h=()=>{let l=w();return l?(l.remove(),Kt([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},bn=()=>{s.currentInstance.resetValidationMessage()},bl=()=>{let l=S(),u=Fn(l,g.input),p=Fn(l,g.file),_=l.querySelector(`.${g.range} input`),M=l.querySelector(`.${g.range} output`),W=Fn(l,g.select),ye=l.querySelector(`.${g.checkbox} input`),je=Fn(l,g.textarea);u.oninput=bn,p.onchange=bn,W.onchange=bn,ye.onchange=bn,je.oninput=bn,_.oninput=()=>{bn(),M.value=_.value},_.onchange=()=>{bn(),M.value=_.value}},vl=l=>typeof l=="string"?document.querySelector(l):l,Fr=l=>{let u=S();u.setAttribute("role",l.toast?"alert":"dialog"),u.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||u.setAttribute("aria-modal","true")},da=l=>{window.getComputedStyle(l).direction==="rtl"&&fe(w(),g.rtl)},ua=l=>{let u=$h();if(Vo()){U("SweetAlert2 requires document to initialize");return}let p=document.createElement("div");p.className=g.container,u&&fe(p,g["no-transition"]),Et(p,zh);let _=vl(l.target);_.appendChild(p),Fr(l),da(_),bl()},vn=(l,u)=>{l instanceof HTMLElement?u.appendChild(l):typeof l=="object"?_l(l,u):l&&Et(u,l)},_l=(l,u)=>{l.jquery?Uo(u,l):Et(u,l.toString())},Uo=(l,u)=>{if(l.textContent="",0 in u)for(let p=0;p in u;p++)l.appendChild(u[p].cloneNode(!0));else l.appendChild(u.cloneNode(!0))},Vn=(()=>{if(Vo())return!1;let l=document.createElement("div");return typeof l.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof l.style.animation<"u"?"animationend":!1})(),Lr=(l,u)=>{let p=pn(),_=Bi();!p||!_||(!u.showConfirmButton&&!u.showDenyButton&&!u.showCancelButton?rt(p):Ye(p),Dt(p,u,"actions"),yl(p,_,u),Et(_,u.loaderHtml||""),Dt(_,u,"loader"))};function yl(l,u,p){let _=Gt(),M=Rt(),W=ji();!_||!M||!W||(jo(_,"confirm",p),jo(M,"deny",p),jo(W,"cancel",p),Tt(_,M,W,p),p.reverseButtons&&(p.toast?(l.insertBefore(W,_),l.insertBefore(M,_)):(l.insertBefore(W,u),l.insertBefore(M,u),l.insertBefore(_,u))))}function Tt(l,u,p,_){if(!_.buttonsStyling){Kt([l,u,p],g.styled);return}fe([l,u,p],g.styled),_.confirmButtonColor&&(l.style.backgroundColor=_.confirmButtonColor,fe(l,g["default-outline"])),_.denyButtonColor&&(u.style.backgroundColor=_.denyButtonColor,fe(u,g["default-outline"])),_.cancelButtonColor&&(p.style.backgroundColor=_.cancelButtonColor,fe(p,g["default-outline"]))}function jo(l,u,p){let _=F(u);Ln(l,p[`show${_}Button`],"inline-block"),Et(l,p[`${u}ButtonText`]||""),l.setAttribute("aria-label",p[`${u}ButtonAriaLabel`]||""),l.className=g[u],Dt(l,p,`${u}Button`)}let Vr=(l,u)=>{let p=sa();p&&(Et(p,u.closeButtonHtml||""),Dt(p,u,"closeButton"),Ln(p,u.showCloseButton),p.setAttribute("aria-label",u.closeButtonAriaLabel||""))},Ur=(l,u)=>{let p=w();p&&(qh(p,u.backdrop),Hh(p,u.position),Gi(p,u.grow),Dt(p,u,"container"))};function qh(l,u){typeof u=="string"?l.style.background=u:u||fe([document.documentElement,document.body],g["no-backdrop"])}function Hh(l,u){u&&(u in g?fe(l,g[u]):(D('The "position" parameter is not valid, defaulting to "center"'),fe(l,g.center)))}function Gi(l,u){u&&fe(l,g[`grow-${u}`])}var De={innerParams:new WeakMap,domCache:new WeakMap};let Gh=["input","file","range","select","radio","checkbox","textarea"],Bo=(l,u)=>{let p=S();if(!p)return;let _=De.innerParams.get(l),M=!_||u.input!==_.input;Gh.forEach(W=>{let ye=Fn(p,g[W]);ye&&(zo(W,u.inputAttributes),ye.className=g[W],M&&rt(ye))}),u.input&&(M&&wl(u),Un(u))},wl=l=>{if(!l.input)return;if(!ze[l.input]){U(`Unexpected type of input! Expected ${Object.keys(ze).join(" | ")}, got "${l.input}"`);return}let u=qo(l.input);if(!u)return;let p=ze[l.input](u,l);Ye(u),l.inputAutoFocus&&setTimeout(()=>{ca(p)})},ha=l=>{for(let u=0;u<l.attributes.length;u++){let p=l.attributes[u].name;["id","type","value","style"].includes(p)||l.removeAttribute(p)}},zo=(l,u)=>{let p=S();if(!p)return;let _=Fo(p,l);if(_){ha(_);for(let M in u)_.setAttribute(M,u[M])}},Un=l=>{if(!l.input)return;let u=qo(l.input);u&&Dt(u,l,"input")},$o=(l,u)=>{!l.placeholder&&u.inputPlaceholder&&(l.placeholder=u.inputPlaceholder)},Wi=(l,u,p)=>{if(p.inputLabel){let _=document.createElement("label"),M=g["input-label"];_.setAttribute("for",l.id),_.className=M,typeof p.customClass=="object"&&fe(_,p.customClass.inputLabel),_.innerText=p.inputLabel,u.insertAdjacentElement("beforebegin",_)}},qo=l=>{let u=S();if(u)return Fn(u,g[l]||g.input)},Ki=(l,u)=>{["string","number"].includes(typeof u)?l.value=`${u}`:y(u)||D(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof u}"`)},ze={};ze.text=ze.email=ze.password=ze.number=ze.tel=ze.url=ze.search=ze.date=ze["datetime-local"]=ze.time=ze.week=ze.month=(l,u)=>(Ki(l,u.inputValue),Wi(l,l,u),$o(l,u),l.type=u.input,l),ze.file=(l,u)=>(Wi(l,l,u),$o(l,u),l),ze.range=(l,u)=>{let p=l.querySelector("input"),_=l.querySelector("output");return Ki(p,u.inputValue),p.type=u.input,Ki(_,u.inputValue),Wi(p,l,u),l},ze.select=(l,u)=>{if(l.textContent="",u.inputPlaceholder){let p=document.createElement("option");Et(p,u.inputPlaceholder),p.value="",p.disabled=!0,p.selected=!0,l.appendChild(p)}return Wi(l,l,u),l},ze.radio=l=>(l.textContent="",l),ze.checkbox=(l,u)=>{let p=Fo(S(),"checkbox");p.value="1",p.checked=!!u.inputValue;let _=l.querySelector("span");return Et(_,u.inputPlaceholder||u.inputLabel),p},ze.textarea=(l,u)=>{Ki(l,u.inputValue),$o(l,u),Wi(l,l,u);let p=_=>parseInt(window.getComputedStyle(_).marginLeft)+parseInt(window.getComputedStyle(_).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let _=parseInt(window.getComputedStyle(S()).width),M=()=>{if(!document.body.contains(l))return;let W=l.offsetWidth+p(l);W>_?S().style.width=`${W}px`:gn(S(),"width",u.width)};new MutationObserver(M).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let Il=(l,u)=>{let p=oa();p&&(ot(p),Dt(p,u,"htmlContainer"),u.html?(vn(u.html,p),Ye(p,"block")):u.text?(p.textContent=u.text,Ye(p,"block")):rt(p),Bo(l,u))},Wh=(l,u)=>{let p=hl();p&&(ot(p),Ln(p,u.footer,"block"),u.footer&&vn(u.footer,p),Dt(p,u,"footer"))},Ho=(l,u)=>{let p=De.innerParams.get(l),_=I();if(_){if(p&&u.icon===p.icon){Go(_,u),ma(_,u);return}if(!u.icon&&!u.iconHtml){rt(_);return}if(u.icon&&Object.keys(R).indexOf(u.icon)===-1){U(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${u.icon}"`),rt(_);return}Ye(_),Go(_,u),ma(_,u),fe(_,u.showClass&&u.showClass.icon)}},ma=(l,u)=>{for(let[p,_]of Object.entries(R))u.icon!==p&&Kt(l,_);fe(l,u.icon&&R[u.icon]),Kh(l,u),fa(),Dt(l,u,"icon")},fa=()=>{let l=S();if(!l)return;let u=window.getComputedStyle(l).getPropertyValue("background-color"),p=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let _=0;_<p.length;_++)p[_].style.backgroundColor=u},jr=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,di=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Go=(l,u)=>{if(!u.icon&&!u.iconHtml)return;let p=l.innerHTML,_="";u.iconHtml?_=pa(u.iconHtml):u.icon==="success"?(_=jr,p=p.replace(/ style=".*?"/g,"")):u.icon==="error"?_=di:u.icon&&(_=pa({question:"?",warning:"!",info:"i"}[u.icon])),p.trim()!==_.trim()&&Et(l,_)},Kh=(l,u)=>{if(u.iconColor){l.style.color=u.iconColor,l.style.borderColor=u.iconColor;for(let p of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])gt(l,p,"background-color",u.iconColor);gt(l,".swal2-success-ring","border-color",u.iconColor)}},pa=l=>`<div class="${g["icon-content"]}">${l}</div>`,El=(l,u)=>{let p=Vi();if(p){if(!u.imageUrl){rt(p);return}Ye(p,""),p.setAttribute("src",u.imageUrl),p.setAttribute("alt",u.imageAlt||""),gn(p,"width",u.imageWidth),gn(p,"height",u.imageHeight),p.className=g.image,Dt(p,u,"image")}},xl=(l,u)=>{let p=w(),_=S();if(!(!p||!_)){if(u.toast){gn(p,"width",u.width),_.style.width="100%";let M=Bi();M&&_.insertBefore(M,I())}else gn(_,"width",u.width);gn(_,"padding",u.padding),u.color&&(_.style.color=u.color),u.background&&(_.style.background=u.background),rt(Ui()),ga(_,u)}},ga=(l,u)=>{let p=u.showClass||{};l.className=`${g.popup} ${xt(l)?p.popup:""}`,u.toast?(fe([document.documentElement,document.body],g["toast-shown"]),fe(l,g.toast)):fe(l,g.modal),Dt(l,u,"popup"),typeof u.customClass=="string"&&fe(l,u.customClass),u.icon&&fe(l,g[`icon-${u.icon}`])},ba=(l,u)=>{let p=li();if(!p)return;let{progressSteps:_,currentProgressStep:M}=u;if(!_||_.length===0||M===void 0){rt(p);return}Ye(p),p.textContent="",M>=_.length&&D("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),_.forEach((W,ye)=>{let je=Tl(W);if(p.appendChild(je),ye===M&&fe(je,g["active-progress-step"]),ye!==_.length-1){let Ke=Al(u);p.appendChild(Ke)}})},Tl=l=>{let u=document.createElement("li");return fe(u,g["progress-step"]),Et(u,l),u},Al=l=>{let u=document.createElement("li");return fe(u,g["progress-step-line"]),l.progressStepsDistance&&gn(u,"width",l.progressStepsDistance),u},Qh=(l,u)=>{let p=Li();p&&(ot(p),Ln(p,u.title||u.titleText,"block"),u.title&&vn(u.title,p),u.titleText&&(p.innerText=u.titleText),Dt(p,u,"title"))},Cl=(l,u)=>{xl(l,u),Ur(l,u),ba(l,u),Ho(l,u),El(l,u),Qh(l,u),Vr(l,u),Il(l,u),Lr(l,u),Wh(l,u);let p=S();typeof u.didRender=="function"&&p&&u.didRender(p)},Sl=()=>xt(S()),va=()=>{var l;return(l=Gt())===null||l===void 0?void 0:l.click()},Yh=()=>{var l;return(l=Rt())===null||l===void 0?void 0:l.click()},ui=()=>{var l;return(l=ji())===null||l===void 0?void 0:l.click()},Pt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Br=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},Wo=(l,u,p)=>{Br(l),u.toast||(l.keydownHandler=_=>zr(u,_,p),l.keydownTarget=u.keydownListenerCapture?window:S(),l.keydownListenerCapture=u.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},Ko=(l,u)=>{var p;let _=zi();if(_.length){l=l+u,l===_.length?l=0:l===-1&&(l=_.length-1),_[l].focus();return}(p=S())===null||p===void 0||p.focus()},Pe=["ArrowRight","ArrowDown"],Qo=["ArrowLeft","ArrowUp"],zr=(l,u,p)=>{l&&(u.isComposing||u.keyCode===229||(l.stopKeydownPropagation&&u.stopPropagation(),u.key==="Enter"?$r(u,l):u.key==="Tab"?Jh(u):[...Pe,...Qo].includes(u.key)?kl(u.key):u.key==="Escape"&&Xh(u,l,p)))},$r=(l,u)=>{if(!Ie(u.allowEnterKey))return;let p=Fo(S(),u.input);if(l.target&&p&&l.target instanceof HTMLElement&&l.target.outerHTML===p.outerHTML){if(["textarea","file"].includes(u.input))return;va(),l.preventDefault()}},Jh=l=>{let u=l.target,p=zi(),_=-1;for(let M=0;M<p.length;M++)if(u===p[M]){_=M;break}l.shiftKey?Ko(_,-1):Ko(_,1),l.stopPropagation(),l.preventDefault()},kl=l=>{let u=pn(),p=Gt(),_=Rt(),M=ji();if(!u||!p||!_||!M)return;let W=[p,_,M];if(document.activeElement instanceof HTMLElement&&!W.includes(document.activeElement))return;let ye=Pe.includes(l)?"nextElementSibling":"previousElementSibling",je=document.activeElement;if(je){for(let Ke=0;Ke<u.children.length;Ke++){if(je=je[ye],!je)return;if(je instanceof HTMLButtonElement&&xt(je))break}je instanceof HTMLButtonElement&&je.focus()}},Xh=(l,u,p)=>{Ie(u.allowEscapeKey)&&(l.preventDefault(),p(Pt.esc))};var Qi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Zh=()=>{let l=w();Array.from(document.body.children).forEach(p=>{p.contains(l)||(p.hasAttribute("aria-hidden")&&p.setAttribute("data-previous-aria-hidden",p.getAttribute("aria-hidden")||""),p.setAttribute("aria-hidden","true"))})},Rl=()=>{Array.from(document.body.children).forEach(u=>{u.hasAttribute("data-previous-aria-hidden")?(u.setAttribute("aria-hidden",u.getAttribute("data-previous-aria-hidden")||""),u.removeAttribute("data-previous-aria-hidden")):u.removeAttribute("aria-hidden")})},Yi=typeof window<"u"&&!!window.GestureEvent,jn=()=>{if(Yi&&!Wt(document.body,g.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,fe(document.body,g.iosfix),Dl()}},Dl=()=>{let l=w();if(!l)return;let u;l.ontouchstart=p=>{u=Pl(p)},l.ontouchmove=p=>{u&&(p.preventDefault(),p.stopPropagation())}},Pl=l=>{let u=l.target,p=w(),_=oa();return!p||!_||Ml(l)||Ji(l)?!1:u===p||!pl(p)&&u instanceof HTMLElement&&u.tagName!=="INPUT"&&u.tagName!=="TEXTAREA"&&!(pl(_)&&_.contains(u))},Ml=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",Ji=l=>l.touches&&l.touches.length>1,em=()=>{if(Wt(document.body,g.iosfix)){let l=parseInt(document.body.style.top,10);Kt(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},tm=()=>{let l=document.createElement("div");l.className=g["scrollbar-measure"],document.body.appendChild(l);let u=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),u},Xi=null,Bn=l=>{Xi===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(Xi=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Xi+tm()}px`)},nm=()=>{Xi!==null&&(document.body.style.paddingRight=`${Xi}px`,Xi=null)};function Ol(l,u,p,_){qi()?Ll(l,_):(d(p).then(()=>Ll(l,_)),Br(s)),Yi?(u.setAttribute("style","display:none !important"),u.removeAttribute("class"),u.innerHTML=""):u.remove(),$i()&&(nm(),em(),Rl()),qr()}function qr(){Kt([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function Qt(l){l=Fl(l);let u=Qi.swalPromiseResolve.get(this),p=Nl(this);this.isAwaitingPromise?l.isDismissed||(_n(this),u(l)):p&&u(l)}let Nl=l=>{let u=S();if(!u)return!1;let p=De.innerParams.get(l);if(!p||Wt(u,p.hideClass.popup))return!1;Kt(u,p.showClass.popup),fe(u,p.hideClass.popup);let _=w();return Kt(_,p.showClass.backdrop),fe(_,p.hideClass.backdrop),_a(l,u,p),!0};function Zi(l){let u=Qi.swalPromiseReject.get(this);_n(this),u&&u(l)}let _n=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,De.innerParams.get(l)||l._destroy())},Fl=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),_a=(l,u,p)=>{let _=w(),M=Vn&&Hi(u);typeof p.willClose=="function"&&p.willClose(u),M?$e(l,u,_,p.returnFocus,p.didClose):Ol(l,_,p.returnFocus,p.didClose)},$e=(l,u,p,_,M)=>{Vn&&(s.swalCloseEventFinishedCallback=Ol.bind(null,l,p,_,M),u.addEventListener(Vn,function(W){W.target===u&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback)}))},Ll=(l,u)=>{setTimeout(()=>{typeof u=="function"&&u.bind(l.params)(),l._destroy&&l._destroy()})},er=l=>{let u=S();if(u||new Kl,u=S(),!u)return;let p=Bi();qi()?rt(I()):Vl(u,l),Ye(p),u.setAttribute("data-loading","true"),u.setAttribute("aria-busy","true"),u.focus()},Vl=(l,u)=>{let p=pn(),_=Bi();!p||!_||(!u&&xt(Gt())&&(u=Gt()),Ye(p),u&&(rt(u),_.setAttribute("data-button-to-replace",u.className),p.insertBefore(_,u)),fe([l,p],g.loading))},Ul=(l,u)=>{u.input==="select"||u.input==="radio"?zl(l,u):["text","email","number","tel","textarea"].some(p=>p===u.input)&&(se(u.inputValue)||y(u.inputValue))&&(er(Gt()),im(l,u))},jl=(l,u)=>{let p=l.getInput();if(!p)return null;switch(u.input){case"checkbox":return Yo(p);case"radio":return Bl(p);case"file":return yn(p);default:return u.inputAutoTrim?p.value.trim():p.value}},Yo=l=>l.checked?1:0,Bl=l=>l.checked?l.value:null,yn=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,zl=(l,u)=>{let p=S();if(!p)return;let _=M=>{u.input==="select"?Hr(p,tr(M),u):u.input==="radio"&&$l(p,tr(M),u)};se(u.inputOptions)||y(u.inputOptions)?(er(Gt()),A(u.inputOptions).then(M=>{l.hideLoading(),_(M)})):typeof u.inputOptions=="object"?_(u.inputOptions):U(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof u.inputOptions}`)},im=(l,u)=>{let p=l.getInput();p&&(rt(p),A(u.inputValue).then(_=>{p.value=u.input==="number"?`${parseFloat(_)||0}`:`${_}`,Ye(p),p.focus(),l.hideLoading()}).catch(_=>{U(`Error in inputValue promise: ${_}`),p.value="",Ye(p),p.focus(),l.hideLoading()}))};function Hr(l,u,p){let _=Fn(l,g.select);if(!_)return;let M=(W,ye,je)=>{let Ke=document.createElement("option");Ke.value=je,Et(Ke,ye),Ke.selected=Gr(je,p.inputValue),W.appendChild(Ke)};u.forEach(W=>{let ye=W[0],je=W[1];if(Array.isArray(je)){let Ke=document.createElement("optgroup");Ke.label=ye,Ke.disabled=!1,_.appendChild(Ke),je.forEach(ns=>M(Ke,ns[1],ns[0]))}else M(_,je,ye)}),_.focus()}function $l(l,u,p){let _=Fn(l,g.radio);if(!_)return;u.forEach(W=>{let ye=W[0],je=W[1],Ke=document.createElement("input"),ns=document.createElement("label");Ke.type="radio",Ke.name=g.radio,Ke.value=ye,Gr(ye,p.inputValue)&&(Ke.checked=!0);let sm=document.createElement("span");Et(sm,je),sm.className=g.label,ns.appendChild(Ke),ns.appendChild(sm),_.appendChild(ns)});let M=_.querySelectorAll("input");M.length&&M[0].focus()}let tr=l=>{let u=[];return l instanceof Map?l.forEach((p,_)=>{let M=p;typeof M=="object"&&(M=tr(M)),u.push([_,M])}):Object.keys(l).forEach(p=>{let _=l[p];typeof _=="object"&&(_=tr(_)),u.push([p,_])}),u},Gr=(l,u)=>!!u&&u.toString()===l.toString(),ql=l=>{let u=De.innerParams.get(l);l.disableButtons(),u.input?ya(l,"confirm"):Kr(l,!0)},Jo=l=>{let u=De.innerParams.get(l);l.disableButtons(),u.returnInputValueOnDeny?ya(l,"deny"):Xo(l,!1)},rm=(l,u)=>{l.disableButtons(),u(Pt.cancel)},ya=(l,u)=>{let p=De.innerParams.get(l);if(!p.input){U(`The "input" parameter is needed to be set when using returnInputValueOn${F(u)}`);return}let _=l.getInput(),M=jl(l,p);p.inputValidator?Wr(l,M,u):_&&!_.checkValidity()?(l.enableButtons(),l.showValidationMessage(p.validationMessage||_.validationMessage)):u==="deny"?Xo(l,M):Kr(l,M)},Wr=(l,u,p)=>{let _=De.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>A(_.inputValidator(u,_.validationMessage))).then(W=>{l.enableButtons(),l.enableInput(),W?l.showValidationMessage(W):p==="deny"?Xo(l,u):Kr(l,u)})},Xo=(l,u)=>{let p=De.innerParams.get(l||void 0);p.showLoaderOnDeny&&er(Rt()),p.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>A(p.preDeny(u,p.validationMessage))).then(M=>{M===!1?(l.hideLoading(),_n(l)):l.close({isDenied:!0,value:typeof M>"u"?u:M})}).catch(M=>Zo(l||void 0,M))):l.close({isDenied:!0,value:u})},wa=(l,u)=>{l.close({isConfirmed:!0,value:u})},Zo=(l,u)=>{l.rejectPromise(u)},Kr=(l,u)=>{let p=De.innerParams.get(l||void 0);p.showLoaderOnConfirm&&er(),p.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>A(p.preConfirm(u,p.validationMessage))).then(M=>{xt(Ui())||M===!1?(l.hideLoading(),_n(l)):wa(l,typeof M>"u"?u:M)}).catch(M=>Zo(l||void 0,M))):wa(l,u)};function Qr(){let l=De.innerParams.get(this);if(!l)return;let u=De.domCache.get(this);rt(u.loader),qi()?l.icon&&Ye(I()):es(u),Kt([u.popup,u.actions],g.loading),u.popup.removeAttribute("aria-busy"),u.popup.removeAttribute("data-loading"),u.confirmButton.disabled=!1,u.denyButton.disabled=!1,u.cancelButton.disabled=!1}let es=l=>{let u=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));u.length?Ye(u[0],"inline-block"):fl()&&rt(l.actions)};function Ia(){let l=De.innerParams.get(this),u=De.domCache.get(this);return u?Fo(u.popup,l.input):null}function Ea(l,u,p){let _=De.domCache.get(l);u.forEach(M=>{_[M].disabled=p})}function zn(l,u){let p=S();if(!(!p||!l))if(l.type==="radio"){let _=p.querySelectorAll(`[name="${g.radio}"]`);for(let M=0;M<_.length;M++)_[M].disabled=u}else l.disabled=u}function xa(){Ea(this,["confirmButton","denyButton","cancelButton"],!1)}function Ta(){Ea(this,["confirmButton","denyButton","cancelButton"],!0)}function Aa(){zn(this.getInput(),!1)}function Ca(){zn(this.getInput(),!0)}function Yr(l){let u=De.domCache.get(this),p=De.innerParams.get(this);Et(u.validationMessage,l),u.validationMessage.className=g["validation-message"],p.customClass&&p.customClass.validationMessage&&fe(u.validationMessage,p.customClass.validationMessage),Ye(u.validationMessage);let _=this.getInput();_&&(_.setAttribute("aria-invalid","true"),_.setAttribute("aria-describedby",g["validation-message"]),ca(_),fe(_,g.inputerror))}function Mt(){let l=De.domCache.get(this);l.validationMessage&&rt(l.validationMessage);let u=this.getInput();u&&(u.removeAttribute("aria-invalid"),u.removeAttribute("aria-describedby"),Kt(u,g.inputerror))}let hi={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Hl=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],nr={allowEnterKey:void 0},a=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],h=l=>Object.prototype.hasOwnProperty.call(hi,l),f=l=>Hl.indexOf(l)!==-1,v=l=>nr[l],k=l=>{h(l)||D(`Unknown parameter "${l}"`)},P=l=>{a.includes(l)&&D(`The parameter "${l}" is incompatible with toasts`)},B=l=>{let u=v(l);u&&X(l,u)},Se=l=>{l.backdrop===!1&&l.allowOutsideClick&&D('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let u in l)k(u),l.toast&&P(u),B(u)};function st(l){let u=S(),p=De.innerParams.get(this);if(!u||Wt(u,p.hideClass.popup)){D("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let _=ve(l),M=Object.assign({},p,_);Cl(this,M),De.innerParams.set(this,M),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let ve=l=>{let u={};return Object.keys(l).forEach(p=>{f(p)?u[p]=l[p]:D(`Invalid parameter to update: ${p}`)}),u};function ft(){let l=De.domCache.get(this),u=De.innerParams.get(this);if(!u){mi(this);return}l.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof u.didDestroy=="function"&&u.didDestroy(),bt(this)}let bt=l=>{mi(l),delete l.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},mi=l=>{l.isAwaitingPromise?(Vt(De,l),l.isAwaitingPromise=!0):(Vt(Qi,l),Vt(De,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},Vt=(l,u)=>{for(let p in l)l[p].delete(u)};var ts=Object.freeze({__proto__:null,_destroy:ft,close:Qt,closeModal:Qt,closePopup:Qt,closeToast:Qt,disableButtons:Ta,disableInput:Ca,disableLoading:Qr,enableButtons:xa,enableInput:Aa,getInput:Ia,handleAwaitingPromise:_n,hideLoading:Qr,rejectPromise:Zi,resetValidationMessage:Mt,showValidationMessage:Yr,update:st});let Sa=(l,u,p)=>{l.toast?jT(l,u,p):(zT(u),$T(u),qT(l,u,p))},jT=(l,u,p)=>{u.popup.onclick=()=>{l&&(BT(l)||l.timer||l.input)||p(Pt.close)}},BT=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),Gl=!1,zT=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(u){l.container.onmouseup=()=>{},u.target===l.container&&(Gl=!0)}}},$T=l=>{l.container.onmousedown=u=>{u.target===l.container&&u.preventDefault(),l.popup.onmouseup=function(p){l.popup.onmouseup=()=>{},(p.target===l.popup||p.target instanceof HTMLElement&&l.popup.contains(p.target))&&(Gl=!0)}}},qT=(l,u,p)=>{u.container.onclick=_=>{if(Gl){Gl=!1;return}_.target===u.container&&Ie(l.allowOutsideClick)&&p(Pt.backdrop)}},HT=l=>typeof l=="object"&&l.jquery,Vv=l=>l instanceof Element||HT(l),GT=l=>{let u={};return typeof l[0]=="object"&&!Vv(l[0])?Object.assign(u,l[0]):["title","html","icon"].forEach((p,_)=>{let M=l[_];typeof M=="string"||Vv(M)?u[p]=M:M!==void 0&&U(`Unexpected type of ${p}! Expected "string" or "Element", got ${typeof M}`)}),u};function WT(){for(var l=arguments.length,u=new Array(l),p=0;p<l;p++)u[p]=arguments[p];return new this(...u)}function KT(l){class u extends this{_main(_,M){return super._main(_,Object.assign({},l,M))}}return u}let QT=()=>s.timeout&&s.timeout.getTimerLeft(),Uv=()=>{if(s.timeout)return gl(),s.timeout.stop()},jv=()=>{if(s.timeout){let l=s.timeout.start();return Lo(l),l}},YT=()=>{let l=s.timeout;return l&&(l.running?Uv():jv())},JT=l=>{if(s.timeout){let u=s.timeout.increase(l);return Lo(u,!0),u}},XT=()=>!!(s.timeout&&s.timeout.isRunning()),Bv=!1,om={};function ZT(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";om[l]=this,Bv||(document.body.addEventListener("click",eA),Bv=!0)}let eA=l=>{for(let u=l.target;u&&u!==document;u=u.parentNode)for(let p in om){let _=u.getAttribute(p);if(_){om[p].fire({template:_});return}}};var tA=Object.freeze({__proto__:null,argsToParams:GT,bindClickHandler:ZT,clickCancel:ui,clickConfirm:va,clickDeny:Yh,enableLoading:er,fire:WT,getActions:pn,getCancelButton:ji,getCloseButton:sa,getConfirmButton:Gt,getContainer:w,getDenyButton:Rt,getFocusableElements:zi,getFooter:hl,getHtmlContainer:oa,getIcon:I,getIconContent:fn,getImage:Vi,getInputLabel:pt,getLoader:Bi,getPopup:S,getProgressSteps:li,getTimerLeft:QT,getTimerProgressBar:Nn,getTitle:Li,getValidationMessage:Ui,increaseTimer:JT,isDeprecatedParameter:v,isLoading:aa,isTimerRunning:XT,isUpdatableParameter:f,isValidParameter:h,isVisible:Sl,mixin:KT,resumeTimer:jv,showLoading:er,stopTimer:Uv,toggleTimer:YT});class nA{constructor(u,p){this.callback=u,this.remaining=p,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(u){let p=this.running;return p&&this.stop(),this.remaining+=u,p&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let zv=["swal-title","swal-html","swal-footer"],iA=l=>{let u=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!u)return{};let p=u.content;return uA(p),Object.assign(rA(p),oA(p),sA(p),aA(p),cA(p),lA(p),dA(p,zv))},rA=l=>{let u={};return Array.from(l.querySelectorAll("swal-param")).forEach(_=>{Jr(_,["name","value"]);let M=_.getAttribute("name"),W=_.getAttribute("value");!M||!W||(typeof hi[M]=="boolean"?u[M]=W!=="false":typeof hi[M]=="object"?u[M]=JSON.parse(W):u[M]=W)}),u},oA=l=>{let u={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(_=>{let M=_.getAttribute("name"),W=_.getAttribute("value");!M||!W||(u[M]=new Function(`return ${W}`)())}),u},sA=l=>{let u={};return Array.from(l.querySelectorAll("swal-button")).forEach(_=>{Jr(_,["type","color","aria-label"]);let M=_.getAttribute("type");!M||!["confirm","cancel","deny"].includes(M)||(u[`${M}ButtonText`]=_.innerHTML,u[`show${F(M)}Button`]=!0,_.hasAttribute("color")&&(u[`${M}ButtonColor`]=_.getAttribute("color")),_.hasAttribute("aria-label")&&(u[`${M}ButtonAriaLabel`]=_.getAttribute("aria-label")))}),u},aA=l=>{let u={},p=l.querySelector("swal-image");return p&&(Jr(p,["src","width","height","alt"]),p.hasAttribute("src")&&(u.imageUrl=p.getAttribute("src")||void 0),p.hasAttribute("width")&&(u.imageWidth=p.getAttribute("width")||void 0),p.hasAttribute("height")&&(u.imageHeight=p.getAttribute("height")||void 0),p.hasAttribute("alt")&&(u.imageAlt=p.getAttribute("alt")||void 0)),u},cA=l=>{let u={},p=l.querySelector("swal-icon");return p&&(Jr(p,["type","color"]),p.hasAttribute("type")&&(u.icon=p.getAttribute("type")),p.hasAttribute("color")&&(u.iconColor=p.getAttribute("color")),u.iconHtml=p.innerHTML),u},lA=l=>{let u={},p=l.querySelector("swal-input");p&&(Jr(p,["type","label","placeholder","value"]),u.input=p.getAttribute("type")||"text",p.hasAttribute("label")&&(u.inputLabel=p.getAttribute("label")),p.hasAttribute("placeholder")&&(u.inputPlaceholder=p.getAttribute("placeholder")),p.hasAttribute("value")&&(u.inputValue=p.getAttribute("value")));let _=Array.from(l.querySelectorAll("swal-input-option"));return _.length&&(u.inputOptions={},_.forEach(M=>{Jr(M,["value"]);let W=M.getAttribute("value");if(!W)return;let ye=M.innerHTML;u.inputOptions[W]=ye})),u},dA=(l,u)=>{let p={};for(let _ in u){let M=u[_],W=l.querySelector(M);W&&(Jr(W,[]),p[M.replace(/^swal-/,"")]=W.innerHTML.trim())}return p},uA=l=>{let u=zv.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(p=>{let _=p.tagName.toLowerCase();u.includes(_)||D(`Unrecognized element <${_}>`)})},Jr=(l,u)=>{Array.from(l.attributes).forEach(p=>{u.indexOf(p.name)===-1&&D([`Unrecognized attribute "${p.name}" on <${l.tagName.toLowerCase()}>.`,`${u.length?`Allowed attributes are: ${u.join(", ")}`:"To set the value, use HTML within the element."}`])})},$v=10,hA=l=>{let u=w(),p=S();typeof l.willOpen=="function"&&l.willOpen(p);let M=window.getComputedStyle(document.body).overflowY;pA(u,p,l),setTimeout(()=>{mA(u,p)},$v),$i()&&(fA(u,l.scrollbarPadding,M),Zh()),!qi()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(p)),Kt(u,g["no-transition"])},qv=l=>{let u=S();if(l.target!==u||!Vn)return;let p=w();u.removeEventListener(Vn,qv),p.style.overflowY="auto"},mA=(l,u)=>{Vn&&Hi(u)?(l.style.overflowY="hidden",u.addEventListener(Vn,qv)):l.style.overflowY="auto"},fA=(l,u,p)=>{jn(),u&&p!=="hidden"&&Bn(p),setTimeout(()=>{l.scrollTop=0})},pA=(l,u,p)=>{fe(l,p.showClass.backdrop),p.animation?(u.style.setProperty("opacity","0","important"),Ye(u,"grid"),setTimeout(()=>{fe(u,p.showClass.popup),u.style.removeProperty("opacity")},$v)):Ye(u,"grid"),fe([document.documentElement,document.body],g.shown),p.heightAuto&&p.backdrop&&!p.toast&&fe([document.documentElement,document.body],g["height-auto"])};var Hv={email:(l,u)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(u||"Invalid email address"),url:(l,u)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(u||"Invalid URL")};function gA(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=Hv.email),l.input==="url"&&(l.inputValidator=Hv.url))}function bA(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(D('Target parameter is not valid, defaulting to "body"'),l.target="body")}function vA(l){gA(l),l.showLoaderOnConfirm&&!l.preConfirm&&D(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),bA(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),ua(l)}let $n;var Wl=new WeakMap;class tt{constructor(){if(i(this,Wl,void 0),typeof window>"u")return;$n=this;for(var u=arguments.length,p=new Array(u),_=0;_<u;_++)p[_]=arguments[_];let M=Object.freeze(this.constructor.argsToParams(p));this.params=M,this.isAwaitingPromise=!1,r(Wl,this,this._main($n.params))}_main(u){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Se(Object.assign({},p,u)),s.currentInstance){let W=Qi.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:ye}=s.currentInstance;s.currentInstance._destroy(),ye||W({isDismissed:!0}),$i()&&Rl()}s.currentInstance=$n;let _=yA(u,p);vA(_),Object.freeze(_),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let M=wA($n);return Cl($n,_),De.innerParams.set($n,_),_A($n,M,_)}then(u){return n(Wl,this).then(u)}finally(u){return n(Wl,this).finally(u)}}let _A=(l,u,p)=>new Promise((_,M)=>{let W=ye=>{l.close({isDismissed:!0,dismiss:ye})};Qi.swalPromiseResolve.set(l,_),Qi.swalPromiseReject.set(l,M),u.confirmButton.onclick=()=>{ql(l)},u.denyButton.onclick=()=>{Jo(l)},u.cancelButton.onclick=()=>{rm(l,W)},u.closeButton.onclick=()=>{W(Pt.close)},Sa(p,u,W),Wo(s,p,W),Ul(l,p),hA(p),IA(s,p,W),EA(u,p),setTimeout(()=>{u.container.scrollTop=0})}),yA=(l,u)=>{let p=iA(l),_=Object.assign({},hi,u,p,l);return _.showClass=Object.assign({},hi.showClass,_.showClass),_.hideClass=Object.assign({},hi.hideClass,_.hideClass),_.animation===!1&&(_.showClass={backdrop:"swal2-noanimation"},_.hideClass={}),_},wA=l=>{let u={popup:S(),container:w(),actions:pn(),confirmButton:Gt(),denyButton:Rt(),cancelButton:ji(),loader:Bi(),closeButton:sa(),validationMessage:Ui(),progressSteps:li()};return De.domCache.set(l,u),u},IA=(l,u,p)=>{let _=Nn();rt(_),u.timer&&(l.timeout=new nA(()=>{p("timer"),delete l.timeout},u.timer),u.timerProgressBar&&(Ye(_),Dt(_,u,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&Lo(u.timer)})))},EA=(l,u)=>{if(!u.toast){if(!Ie(u.allowEnterKey)){X("allowEnterKey"),AA();return}xA(l)||TA(l,u)||Ko(-1,1)}},xA=l=>{let u=l.popup.querySelectorAll("[autofocus]");for(let p of u)if(p instanceof HTMLElement&&xt(p))return p.focus(),!0;return!1},TA=(l,u)=>u.focusDeny&&xt(l.denyButton)?(l.denyButton.focus(),!0):u.focusCancel&&xt(l.cancelButton)?(l.cancelButton.focus(),!0):u.focusConfirm&&xt(l.confirmButton)?(l.confirmButton.focus(),!0):!1,AA=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,u=localStorage.getItem("swal-initiation");u?(l.getTime()-Date.parse(u))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let p=document.createElement("audio");p.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",p.loop=!0,document.body.appendChild(p),setTimeout(()=>{p.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}tt.prototype.disableButtons=Ta,tt.prototype.enableButtons=xa,tt.prototype.getInput=Ia,tt.prototype.disableInput=Ca,tt.prototype.enableInput=Aa,tt.prototype.hideLoading=Qr,tt.prototype.disableLoading=Qr,tt.prototype.showValidationMessage=Yr,tt.prototype.resetValidationMessage=Mt,tt.prototype.close=Qt,tt.prototype.closePopup=Qt,tt.prototype.closeModal=Qt,tt.prototype.closeToast=Qt,tt.prototype.rejectPromise=Zi,tt.prototype.update=st,tt.prototype._destroy=ft,Object.assign(tt,tA),Object.keys(ts).forEach(l=>{tt[l]=function(){return $n&&$n[l]?$n[l](...arguments):null}}),tt.DismissReason=Pt,tt.version="11.13.3";let Kl=tt;return Kl.default=Kl,Kl});typeof Yn<"u"&&Yn.Sweetalert2&&(Yn.swal=Yn.sweetAlert=Yn.Swal=Yn.SweetAlert=Yn.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var Dm;try{Dm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Dm=!1}var Xe=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?U_(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Dm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(z(En))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var hs,H_=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Pm(){if(hs)return hs;if(typeof document!="object"||!document)return hs=new Set(H_),hs;let t=document.createElement("input");return hs=new Set(H_.filter(e=>(t.setAttribute("type",e),t.type===e))),hs}var ja;function SA(){if(ja==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ja=!0}))}finally{ja=ja||!1}return ja}function dr(t){return SA()?t:!!t.capture}var Rm;function kA(){if(Rm==null){let t=typeof document<"u"?document.head:null;Rm=!!(t&&(t.createShadowRoot||t.attachShadow))}return Rm}function G_(t){if(kA()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function bi(t){return t.composedPath?t.composedPath()[0]:t.target}function W_(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function io(t){return t!=null&&`${t}`!="false"}function Mm(t){return Array.isArray(t)?t:[t]}function Wn(t){return t instanceof ke?t.nativeElement:t}var RA=(()=>{let e=class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var hd=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({providers:[RA]});let t=e;return t})();var K_=new Set,ro,DA=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):MA}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&PA(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(z(Xe),z(Ma,8))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PA(t,e){if(!K_.has(t))try{ro||(ro=document.createElement("style"),e&&ro.setAttribute("nonce",e),ro.setAttribute("type","text/css"),document.head.appendChild(ro)),ro.sheet&&(ro.sheet.insertRule(`@media ${t} {body{ }}`,0),K_.add(t))}catch(n){console.error(n)}}function MA(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Y_=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new qe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return Q_(Mm(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=Q_(Mm(i)).map(c=>this._registerQuery(c).observable),s=is(o);return s=Yl(s.pipe(wn(1)),s.pipe(Xl(1),gm(0))),s.pipe(ne(c=>{let d={matches:!1,breakpoints:{}};return c.forEach(({matches:m,query:b})=>{d.matches=d.matches||m,d.breakpoints[b]=m}),d}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),s={observable:new $t(c=>{let d=m=>this._zone.run(()=>c.next(m));return r.addListener(d),()=>{r.removeListener(d)}}).pipe(ka(r),ne(({matches:c})=>({query:i,matches:c})),In(this._destroySubject)),mql:r};return this._queries.set(i,s),s}};e.\u0275fac=function(r){return new(r||e)(z(DA),z(ae))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Q_(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function Nm(t){return t.buttons===0||t.detail===0}function Fm(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var OA=new Q("cdk-input-modality-detector-options"),NA={ignoreKeys:[18,17,224,91,16]},Z_=650,ms=dr({passive:!0,capture:!0}),FA=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,r,o,s){this._platform=i,this._mostRecentTarget=null,this._modality=new qt(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=bi(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<Z_||(this._modality.next(Nm(c)?"keyboard":"mouse"),this._mostRecentTarget=bi(c))},this._onTouchstart=c=>{if(Fm(c)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bi(c)},this._options=j(j({},NA),s),this.modalityDetected=this._modality.pipe(Xl(1)),this.modalityChanged=this.modalityDetected.pipe(vm()),i.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,ms),o.addEventListener("mousedown",this._onMousedown,ms),o.addEventListener("touchstart",this._onTouchstart,ms)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ms),document.removeEventListener("mousedown",this._onMousedown,ms),document.removeEventListener("touchstart",this._onTouchstart,ms))}};e.\u0275fac=function(r){return new(r||e)(z(Xe),z(ae),z(Ee),z(OA,8))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fd=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(fd||{}),LA=new Q("cdk-focus-monitor-default-options"),md=dr({passive:!0,capture:!0}),ey=(()=>{let e=class e{constructor(i,r,o,s,c){this._ngZone=i,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new qe,this._rootNodeFocusAndBlurListener=d=>{let m=bi(d);for(let b=m;b;b=b.parentElement)d.type==="focus"?this._onFocus(d,b):this._onBlur(d,b)},this._document=s,this._detectionMode=c?.detectionMode||fd.IMMEDIATE}monitor(i,r=!1){let o=Wn(i);if(!this._platform.isBrowser||o.nodeType!==1)return ee();let s=G_(o)||this._getDocument(),c=this._elementInfo.get(o);if(c)return r&&(c.checkChildren=!0),c.subject;let d={checkChildren:r,subject:new qe,rootNode:s};return this._elementInfo.set(o,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(i){let r=Wn(i),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(i,r,o){let s=Wn(i),c=this._getDocument().activeElement;s===c?this._getClosestElementsInfo(s).forEach(([d,m])=>this._originChanged(d,r,m)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===fd.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===fd.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?Z_:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,r){let o=this._elementInfo.get(r),s=bi(i);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(i,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,md),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,md)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(In(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,md),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,md),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,o){this._setClasses(i,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((o,s)=>{(s===i||o.checkChildren&&s.contains(i))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let s=i.labels;if(s){for(let c=0;c<s.length;c++)if(s[c].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(z(ae),z(Xe),z(FA),z(Ee,8),z(LA,8))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oo=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(oo||{}),J_="cdk-high-contrast-black-on-white",X_="cdk-high-contrast-white-on-black",Om="cdk-high-contrast-active",ty=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=$(Y_).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return oo.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return oo.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return oo.BLACK_ON_WHITE}return oo.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(Om,J_,X_),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===oo.BLACK_ON_WHITE?i.add(Om,J_):r===oo.WHITE_ON_BLACK&&i.add(Om,X_)}}};e.\u0275fac=function(r){return new(r||e)(z(Xe),z(Ee))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var UA=new Q("cdk-dir-doc",{providedIn:"root",factory:jA});function jA(){return $(Ee)}var BA=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function zA(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?BA.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var ny=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new jt,i){let r=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=zA(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(z(UA,8))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Lm=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({});let t=e;return t})();function HA(){return!0}var GA=new Q("mat-sanity-checks",{providedIn:"root",factory:HA}),Ue=(()=>{let e=class e{constructor(i,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return W_()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(z(ty),z(GA,8),z(Ee))},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Lm,Lm]});let t=e;return t})();var gd=class{constructor(e,n,i,r,o){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let e=this.errorState,n=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,n)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var uy=(()=>{let e=class e{isErrorState(i,r){return!!(i&&i.invalid&&(i.touched||r&&r.submitted))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var hn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(hn||{}),jm=class{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=hn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},iy=dr({passive:!0,capture:!0}),Bm=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=bi(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,n,i,r){let o=this._events.get(n);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,iy)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,iy)))}},ry={enterDuration:225,exitDuration:150},WA=800,oy=dr({passive:!0,capture:!0}),sy=["mousedown","touchstart"],ay=["mouseup","mouseleave","touchend","touchcancel"],Ba=class Ba{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Wn(i))}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=j(j({},ry),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let s=i.radius||KA(e,n,r),c=e-r.left,d=n-r.top,m=o.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=`${c-s}px`,b.style.top=`${d-s}px`,b.style.height=`${s*2}px`,b.style.width=`${s*2}px`,i.color!=null&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(b);let g=window.getComputedStyle(b),E=g.transitionProperty,R=g.transitionDuration,O=E==="none"||R==="0s"||R==="0s, 0s"||r.width===0&&r.height===0,F=new jm(this,b,i,O);b.style.transform="scale3d(1, 1, 1)",F.state=hn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=F);let D=null;return!O&&(m||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let U=()=>{D&&(D.fallbackTimer=null),clearTimeout(J),this._finishRippleTransition(F)},Z=()=>this._destroyRipple(F),J=setTimeout(Z,m+100);b.addEventListener("transitionend",U),b.addEventListener("transitioncancel",Z),D={onTransitionEnd:U,onTransitionCancel:Z,fallbackTimer:J}}),this._activeRipples.set(F,D),(O||!m)&&this._finishRippleTransition(F),F}fadeOutRipple(e){if(e.state===hn.FADING_OUT||e.state===hn.HIDDEN)return;let n=e.element,i=j(j({},ry),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=hn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=Wn(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,sy.forEach(i=>{Ba._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ay.forEach(n=>{this._triggerElement.addEventListener(n,this,oy)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===hn.FADING_IN?this._startFadeOutTransition(e):e.state===hn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=hn.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=hn.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),e.element.remove()}_onMousedown(e){let n=Nm(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+WA;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Fm(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===hn.VISIBLE||e.config.terminateOnPointerUp&&e.state===hn.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(sy.forEach(n=>Ba._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(ay.forEach(n=>e.removeEventListener(n,this,oy)),this._pointerUpEventsRegistered=!1))}};Ba._eventManager=new Bm;var bd=Ba;function KA(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}var zm=new Q("mat-ripple-global-options"),QA=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,o,s,c){this._elementRef=i,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new bd(this,r,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:j(j(j({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,o){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,j(j({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,j(j({},this.rippleConfig),i))}};e.\u0275fac=function(r){return new(r||e)(L(ke),L(ae),L(Xe),L(zm,8),L(cr,8))},e.\u0275dir=be({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&Fe("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),vd=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Ue,Ue]});let t=e;return t})();var hy=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Ue]});let t=e;return t})();var cy={capture:!0},ly=["focus","mousedown","mouseenter","touchstart"],Vm="mat-ripple-loader-uninitialized",Um="mat-ripple-loader-class-name",dy="mat-ripple-loader-centered",pd="mat-ripple-loader-disabled",my=(()=>{let e=class e{constructor(){this._document=$(Ee,{optional:!0}),this._animationMode=$(cr,{optional:!0}),this._globalRippleOptions=$(zm,{optional:!0}),this._platform=$(Xe),this._ngZone=$(ae),this._hosts=new Map,this._onInteraction=i=>{let r=bi(i);if(r instanceof HTMLElement){let o=r.closest(`[${Vm}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}},this._ngZone.runOutsideAngular(()=>{for(let i of ly)this._document?.addEventListener(i,this._onInteraction,cy)})}ngOnDestroy(){let i=this._hosts.keys();for(let r of i)this.destroyRipple(r);for(let r of ly)this._document?.removeEventListener(r,this._onInteraction,cy)}configureRipple(i,r){i.setAttribute(Vm,this._globalRippleOptions?.namespace??""),(r.className||!i.hasAttribute(Um))&&i.setAttribute(Um,r.className||""),r.centered&&i.setAttribute(dy,""),r.disabled&&i.setAttribute(pd,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,r){let o=this._hosts.get(i);if(o){o.disabled=r;return}r?i.setAttribute(pd,""):i.removeAttribute(pd)}_createRipple(i){if(!this._document)return;let r=this._hosts.get(i);if(r)return r;i.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",i.getAttribute(Um)),i.append(o);let s=new QA(new ke(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=i,s.centered=i.hasAttribute(dy),s.disabled=i.hasAttribute(pd),this.attachRipple(i,s),s}attachRipple(i,r){i.removeAttribute(Vm),this._hosts.set(i,r)}destroyRipple(i){let r=this._hosts.get(i);r&&(r.ngOnDestroy(),this._hosts.delete(i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var JA=["mat-button",""],py=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],gy=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var XA=["mat-fab",""];var ZA=new Q("MAT_BUTTON_CONFIG");var eC=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],by=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,r,o,s){this._elementRef=i,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=$(ey),this._rippleLoader=$(my),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let c=$(ZA,{optional:!0}),d=i.nativeElement,m=d.classList;this.disabledInteractive=c?.disabledInteractive??!1,this.color=c?.color??null,this._rippleLoader?.configureRipple(d,{className:"mat-mdc-button-ripple"});for(let{attribute:b,mdcClasses:g}of eC)d.hasAttribute(b)&&m.add(...g)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(r){td()},e.\u0275dir=be({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Ot],disabled:[2,"disabled","disabled",Ot],ariaDisabled:[2,"aria-disabled","ariaDisabled",Ot],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Ot]},features:[Tn]});let t=e;return t})();var fs=(()=>{let e=class e extends by{constructor(i,r,o,s){super(i,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(L(ke),L(Xe),L(ae),L(cr,8))},e.\u0275cmp=xe({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(At("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),no(o.color?"mat-"+o.color:""),Fe("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[xn,lt],attrs:JA,ngContentSelectors:gy,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(Bt(py),Le(0,"span",0),Te(1),q(2,"span",1),Te(3,1),H(),Te(4,2),Le(5,"span",2)(6,"span",3)),r&2&&Fe("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})();var tC=new Q("mat-mdc-fab-default-options",{providedIn:"root",factory:vy});function vy(){return{color:"accent"}}var fy=vy(),_y=(()=>{let e=class e extends by{constructor(i,r,o,s,c){super(i,r,o,s),this._options=c,this._isFab=!0,this._options=this._options||fy,this.color=this._options.color||fy.color}};e.\u0275fac=function(r){return new(r||e)(L(ke),L(Xe),L(ae),L(cr,8),L(tC,8))},e.\u0275cmp=xe({type:e,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(r,o){r&2&&(At("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),no(o.color?"mat-"+o.color:""),Fe("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0)("mdc-fab--extended",o.extended)("mat-mdc-extended-fab",o.extended))},inputs:{extended:[2,"extended","extended",Ot]},exportAs:["matButton"],standalone:!0,features:[Tn,xn,lt],attrs:XA,ngContentSelectors:gy,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(Bt(py),Le(0,"span",0),Te(1),q(2,"span",1),Te(3,1),H(),Te(4,2),Le(5,"span",2)(6,"span",3)),r&2&&Fe("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color, var(--mat-app-primary-container));border-radius:var(--mdc-fab-container-shape, var(--mat-app-corner-large));color:var(--mat-fab-foreground-color, var(--mat-app-on-primary-container, inherit));box-shadow:var(--mdc-fab-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-app-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color, var(--mat-app-primary-container));border-radius:var(--mdc-fab-small-container-shape, var(--mat-app-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-app-on-primary-container, inherit));box-shadow:var(--mdc-fab-small-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-app-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow, var(--mat-app-level3));height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape, var(--mat-app-corner-large));font-family:var(--mdc-extended-fab-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-extended-fab-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-extended-fab-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-extended-fab-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0});let t=e;return t})();var _d=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Ue,vd,Ue]});let t=e;return t})();var Cy=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(L(Fa),L(ke))},e.\u0275dir=be({type:e});let t=e;return t})(),nC=(()=>{let e=class e extends Cy{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=rs(e)))(o||e)}})(),e.\u0275dir=be({type:e,features:[xn]});let t=e;return t})(),Sy=new Q("");var iC={provide:Sy,useExisting:Ra(()=>Rd),multi:!0};function rC(){let t=ds()?ds().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var oC=new Q(""),Rd=(()=>{let e=class e extends Cy{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!rC())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(L(Fa),L(ke),L(oC,8))},e.\u0275dir=be({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Re("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[un([iC]),xn]});let t=e;return t})();function hr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function ky(t){return t!=null&&typeof t.length=="number"}var Km=new Q(""),Qm=new Q(""),sC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,wd=class{static min(e){return aC(e)}static max(e){return cC(e)}static required(e){return lC(e)}static requiredTrue(e){return dC(e)}static email(e){return uC(e)}static minLength(e){return hC(e)}static maxLength(e){return mC(e)}static pattern(e){return fC(e)}static nullValidator(e){return Ry(e)}static compose(e){return Fy(e)}static composeAsync(e){return Ly(e)}};function aC(t){return e=>{if(hr(e.value)||hr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function cC(t){return e=>{if(hr(e.value)||hr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function lC(t){return hr(t.value)?{required:!0}:null}function dC(t){return t.value===!0?null:{required:!0}}function uC(t){return hr(t.value)||sC.test(t.value)?null:{email:!0}}function hC(t){return e=>hr(e.value)||!ky(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function mC(t){return e=>ky(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function fC(t){if(!t)return Ry;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(hr(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Ry(t){return null}function Dy(t){return t!=null}function Py(t){return rd(t)?vt(t):t}function My(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function Oy(t,e){return e.map(n=>n(t))}function pC(t){return!t.validate}function Ny(t){return t.map(e=>pC(e)?e:n=>e.validate(n))}function Fy(t){if(!t)return null;let e=t.filter(Dy);return e.length==0?null:function(n){return My(Oy(n,e))}}function Ym(t){return t!=null?Fy(Ny(t)):null}function Ly(t){if(!t)return null;let e=t.filter(Dy);return e.length==0?null:function(n){let i=Oy(n,e).map(Py);return Jl(i).pipe(ne(My))}}function Jm(t){return t!=null?Ly(Ny(t)):null}function yy(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Vy(t){return t._rawValidators}function Uy(t){return t._rawAsyncValidators}function qm(t){return t?Array.isArray(t)?t:[t]:[]}function Id(t,e){return Array.isArray(t)?t.includes(e):t===e}function wy(t,e){let n=qm(e);return qm(t).forEach(r=>{Id(n,r)||n.push(r)}),n}function Iy(t,e){return qm(e).filter(n=>!Id(t,n))}var Ed=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ym(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Jm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},so=class extends Ed{get formDirective(){return null}get path(){return null}},ao=class extends Ed{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Hm=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},gC={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},PV=Me(j({},gC),{"[class.ng-submitted]":"isSubmitted"}),jy=(()=>{let e=class e extends Hm{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(L(ao,2))},e.\u0275dir=be({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Fe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[xn]});let t=e;return t})();var za="VALID",yd="INVALID",ps="PENDING",$a="DISABLED",mr=class{},xd=class extends mr{constructor(e,n){super(),this.value=e,this.source=n}},Ha=class extends mr{constructor(e,n){super(),this.pristine=e,this.source=n}},Ga=class extends mr{constructor(e,n){super(),this.touched=e,this.source=n}},gs=class extends mr{constructor(e,n){super(),this.status=e,this.source=n}},Gm=class extends mr{constructor(e){super(),this.source=e}},Wm=class extends mr{constructor(e){super(),this.source=e}};function By(t){return(Dd(t)?t.validators:t)||null}function bC(t){return Array.isArray(t)?Ym(t):t||null}function zy(t,e){return(Dd(e)?e.asyncValidators:t)||null}function vC(t){return Array.isArray(t)?Jm(t):t||null}function Dd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function _C(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new Oe(1e3,"");if(!i[n])throw new Oe(1001,"")}function yC(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new Oe(1002,"")})}var Td=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=pi(()=>this.statusReactive()),this.statusReactive=as(void 0),this._pristine=pi(()=>this.pristineReactive()),this.pristineReactive=as(!0),this._touched=pi(()=>this.touchedReactive()),this.touchedReactive=as(!1),this._events=new qe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return gi(this.statusReactive)}set status(e){gi(()=>this.statusReactive.set(e))}get valid(){return this.status===za}get invalid(){return this.status===yd}get pending(){return this.status==ps}get disabled(){return this.status===$a}get enabled(){return this.status!==$a}get pristine(){return gi(this.pristineReactive)}set pristine(e){gi(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return gi(this.touchedReactive)}set touched(e){gi(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(wy(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wy(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Iy(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Iy(e,this._rawAsyncValidators))}hasValidator(e){return Id(this._rawValidators,e)}hasAsyncValidator(e){return Id(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Me(j({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Ga(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new Ga(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Me(j({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Ha(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new Ha(!0,i))}markAsPending(e={}){this.status=ps;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Me(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=$a,this.errors=null,this._forEachChild(r=>{r.disable(Me(j({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xd(this.value,i)),this._events.next(new gs(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Me(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=za,this._forEachChild(i=>{i.enable(Me(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Me(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===za||this.status===ps)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xd(this.value,n)),this._events.next(new gs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Me(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$a:za}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ps,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=Py(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new gs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new jt,this.statusChanges=new jt}_calculateStatus(){return this._allControlsDisabled()?$a:this.errors?yd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ps)?ps:this._anyControlsHaveStatus(yd)?yd:za}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Ha(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ga(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=bC(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=vC(this._rawAsyncValidators)}},Ad=class extends Td{constructor(e,n,i){super(By(n),zy(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){yC(this,!0,e),Object.keys(e).forEach(i=>{_C(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Pd=new Q("CallSetDisabledState",{providedIn:"root",factory:()=>Xm}),Xm="always";function wC(t,e){return[...e.path,t]}function Cd(t,e,n=Xm){Zm(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),EC(t,e),TC(t,e),xC(t,e),IC(t,e)}function Ey(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),kd(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Sd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function IC(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Zm(t,e){let n=Vy(t);e.validator!==null?t.setValidators(yy(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Uy(t);e.asyncValidator!==null?t.setAsyncValidators(yy(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Sd(e._rawValidators,r),Sd(e._rawAsyncValidators,r)}function kd(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=Vy(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=Uy(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Sd(e._rawValidators,i),Sd(e._rawAsyncValidators,i),n}function EC(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&$y(t,e)})}function xC(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&$y(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function $y(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function TC(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function qy(t,e){t==null,Zm(t,e)}function AC(t,e){return kd(t,e)}function CC(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function SC(t){return Object.getPrototypeOf(t.constructor)===nC}function Hy(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function kC(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===Rd?n=o:SC(o)?i=o:r=o}),r||i||n||null}function RC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var DC={provide:so,useExisting:Ra(()=>ef)},qa=Promise.resolve(),ef=(()=>{let e=class e extends so{get submitted(){return gi(this.submittedReactive)}constructor(i,r,o){super(),this.callSetDisabledState=o,this._submitted=pi(()=>this.submittedReactive()),this.submittedReactive=as(!1),this._directives=new Set,this.ngSubmit=new jt,this.form=new Ad({},Ym(i),Jm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){qa.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),Cd(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){qa.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){qa.then(()=>{let r=this._findContainer(i.path),o=new Ad({});qy(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){qa.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){qa.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),Hy(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(L(Km,10),L(Qm,10),L(Pd,8))},e.\u0275dir=be({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&Re("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[un([DC]),xn]});let t=e;return t})();function xy(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ty(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Gy=class extends Td{constructor(e=null,n,i){super(By(n),zy(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Ty(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xy(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xy(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Ty(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var PC=t=>t instanceof Gy;var MC={provide:ao,useExisting:Ra(()=>tf)},Ay=Promise.resolve(),tf=(()=>{let e=class e extends ao{constructor(i,r,o,s,c,d){super(),this._changeDetectorRef=c,this.callSetDisabledState=d,this.control=new Gy,this._registered=!1,this.name="",this.update=new jt,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=kC(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),CC(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Cd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){Ay.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&Ot(r);Ay.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?wC(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(L(so,9),L(Km,10),L(Qm,10),L(Sy,10),L(fi,8),L(Pd,8))},e.\u0275dir=be({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[un([MC]),xn,Hn]});let t=e;return t})();var OC={provide:so,useExisting:Ra(()=>nf)},nf=(()=>{let e=class e extends so{get submitted(){return gi(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,r,o){super(),this.callSetDisabledState=o,this._submitted=pi(()=>this._submittedReactive()),this._submittedReactive=as(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new jt,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return Cd(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){Ey(i.control||null,i,!1),RC(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this._submittedReactive.set(!0),Hy(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new Gm(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new Wm(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,o=this.form.get(i.path);r!==o&&(Ey(r||null,i),PC(o)&&(Cd(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);qy(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&AC(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zm(this.form,this),this._oldForm&&kd(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(L(Km,10),L(Qm,10),L(Pd,8))},e.\u0275dir=be({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&Re("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[un([OC]),xn,Hn]});let t=e;return t})();var NC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({});let t=e;return t})();var Wy=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Pd,useValue:i.callSetDisabledState??Xm}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[NC]});let t=e;return t})();var Ka=class{},Od=class{},vi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var of=class{encodeKey(e){return Qy(e)}encodeValue(e){return Qy(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function LC(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,c]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],d=n.get(s)||[];d.push(c),n.set(s,d)}),n}var VC=/%(\d[a-f0-9])/gi,UC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Qy(t){return encodeURIComponent(t).replace(VC,(e,n)=>UC[n]??e)}function Md(t){return`${t}`}var pr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new of,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=LC(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(Md):[Md(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Md(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Md(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var sf=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function jC(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Yy(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Jy(t){return typeof Blob<"u"&&t instanceof Blob}function Xy(t){return typeof FormData<"u"&&t instanceof FormData}function BC(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Wa=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(jC(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new vi,this.context??=new sf,!this.params)this.params=new pr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),d=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+d+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Yy(this.body)||Jy(this.body)||Xy(this.body)||BC(this.body)?this.body:this.body instanceof pr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Xy(this.body)?null:Jy(this.body)?this.body.type||null:Yy(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof pr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,d=e.reportProgress??this.reportProgress,m=e.headers||this.headers,b=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(m=Object.keys(e.setHeaders).reduce((E,R)=>E.set(R,e.setHeaders[R]),m)),e.setParams&&(b=Object.keys(e.setParams).reduce((E,R)=>E.set(R,e.setParams[R]),b)),new t(n,i,s,{params:b,headers:m,context:g,reportProgress:d,responseType:r,withCredentials:c,transferCache:o})}},gr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(gr||{}),Qa=class{constructor(e,n=200,i="OK"){this.headers=e.headers||new vi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Nd=class t extends Qa{constructor(e={}){super(e),this.type=gr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ya=class t extends Qa{constructor(e={}){super(e),this.type=gr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},fr=class extends Qa{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},nw=200,zC=204;function rf(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var co=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof Wa)s=i;else{let m;o.headers instanceof vi?m=o.headers:m=new vi(o.headers);let b;o.params&&(o.params instanceof pr?b=o.params:b=new pr({fromObject:o.params})),s=new Wa(i,r,o.body!==void 0?o.body:null,{headers:m,context:o.context,params:b,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let c=ee(s).pipe(or(m=>this.handler.handle(m)));if(i instanceof Wa||o.observe==="events")return c;let d=c.pipe(Jt(m=>m instanceof Ya));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe(ne(m=>{if(m.body!==null&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return d.pipe(ne(m=>{if(m.body!==null&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return d.pipe(ne(m=>{if(m.body!==null&&typeof m.body!="string")throw new Error("Response is not a string.");return m.body}));case"json":default:return d.pipe(ne(m=>m.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new pr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,rf(o,r))}post(i,r,o={}){return this.request("POST",i,rf(o,r))}put(i,r,o={}){return this.request("PUT",i,rf(o,r))}};e.\u0275fac=function(r){return new(r||e)(z(Ka))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),$C=/^\)\]\}',?\n/,qC="X-Request-URL";function Zy(t){if(t.url)return t.url;let e=qC.toLocaleLowerCase();return t.headers.get(e)}var HC=(()=>{let e=class e{constructor(){this.fetchImpl=$(af,{optional:!0})?.fetch??((...i)=>globalThis.fetch(...i)),this.ngZone=$(ae)}handle(i){return new $t(r=>{let o=new AbortController;return this.doRequest(i,o.signal,r).then(cf,s=>r.error(new fr({error:s}))),()=>o.abort()})}doRequest(i,r,o){return x(this,null,function*(){let s=this.createRequestInit(i),c;try{let O=this.ngZone.runOutsideAngular(()=>this.fetchImpl(i.urlWithParams,j({signal:r},s)));GC(O),o.next({type:gr.Sent}),c=yield O}catch(O){o.error(new fr({error:O,status:O.status??0,statusText:O.statusText,url:i.urlWithParams,headers:O.headers}));return}let d=new vi(c.headers),m=c.statusText,b=Zy(c)??i.urlWithParams,g=c.status,E=null;if(i.reportProgress&&o.next(new Nd({headers:d,status:g,statusText:m,url:b})),c.body){let O=c.headers.get("content-length"),F=[],D=c.body.getReader(),U=0,Z,J,X=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>x(this,null,function*(){for(;;){let{done:se,value:A}=yield D.read();if(se)break;if(F.push(A),U+=A.length,i.reportProgress){J=i.responseType==="text"?(J??"")+(Z??=new TextDecoder).decode(A,{stream:!0}):void 0;let y=()=>o.next({type:gr.DownloadProgress,total:O?+O:void 0,loaded:U,partialText:J});X?X.run(y):y()}}}));let Ie=this.concatChunks(F,U);try{let se=c.headers.get("Content-Type")??"";E=this.parseBody(i,Ie,se)}catch(se){o.error(new fr({error:se,headers:new vi(c.headers),status:c.status,statusText:c.statusText,url:Zy(c)??i.urlWithParams}));return}}g===0&&(g=E?nw:0),g>=200&&g<300?(o.next(new Ya({body:E,headers:d,status:g,statusText:m,url:b})),o.complete()):o.error(new fr({error:E,headers:d,status:g,statusText:m,url:b}))})}parseBody(i,r,o){switch(i.responseType){case"json":let s=new TextDecoder().decode(r).replace($C,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(i){let r={},o=i.withCredentials?"include":void 0;if(i.headers.forEach((s,c)=>r[s]=c.join(",")),i.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!i.headers.has("Content-Type")){let s=i.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:i.serializeBody(),method:i.method,headers:r,credentials:o}}concatChunks(i,r){let o=new Uint8Array(r),s=0;for(let c of i)o.set(c,s),s+=c.length;return o}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),af=class{};function cf(){}function GC(t){t.then(cf,cf)}function WC(t,e){return e(t)}function KC(t,e,n){return(i,r)=>cn(n,()=>e(i,o=>t(o,r)))}var iw=new Q(""),QC=new Q(""),YC=new Q("",{providedIn:"root",factory:()=>!0});var ew=(()=>{let e=class e extends Ka{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=$(Zl),this.contributeToStability=$(YC)}handle(i){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(iw),...this.injector.get(QC,[])]));this.chain=r.reduceRight((o,s)=>KC(o,s,this.injector),WC)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(sr(()=>this.pendingTasks.remove(r)))}else return this.chain(i,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(z(Od),z(eo))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})();var JC=/^\)\]\}',?\n/;function XC(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var tw=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new Oe(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?vt(r.\u0275loadImpl()):ee(null)).pipe(Xt(()=>new $t(s=>{let c=r.build();if(c.open(i.method,i.urlWithParams),i.withCredentials&&(c.withCredentials=!0),i.headers.forEach((D,U)=>c.setRequestHeader(D,U.join(","))),i.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let D=i.detectContentTypeHeader();D!==null&&c.setRequestHeader("Content-Type",D)}if(i.responseType){let D=i.responseType.toLowerCase();c.responseType=D!=="json"?D:"text"}let d=i.serializeBody(),m=null,b=()=>{if(m!==null)return m;let D=c.statusText||"OK",U=new vi(c.getAllResponseHeaders()),Z=XC(c)||i.url;return m=new Nd({headers:U,status:c.status,statusText:D,url:Z}),m},g=()=>{let{headers:D,status:U,statusText:Z,url:J}=b(),X=null;U!==zC&&(X=typeof c.response>"u"?c.responseText:c.response),U===0&&(U=X?nw:0);let Ie=U>=200&&U<300;if(i.responseType==="json"&&typeof X=="string"){let se=X;X=X.replace(JC,"");try{X=X!==""?JSON.parse(X):null}catch(A){X=se,Ie&&(Ie=!1,X={error:A,text:X})}}Ie?(s.next(new Ya({body:X,headers:D,status:U,statusText:Z,url:J||void 0})),s.complete()):s.error(new fr({error:X,headers:D,status:U,statusText:Z,url:J||void 0}))},E=D=>{let{url:U}=b(),Z=new fr({error:D,status:c.status||0,statusText:c.statusText||"Unknown Error",url:U||void 0});s.error(Z)},R=!1,O=D=>{R||(s.next(b()),R=!0);let U={type:gr.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(U.total=D.total),i.responseType==="text"&&c.responseText&&(U.partialText=c.responseText),s.next(U)},F=D=>{let U={type:gr.UploadProgress,loaded:D.loaded};D.lengthComputable&&(U.total=D.total),s.next(U)};return c.addEventListener("load",g),c.addEventListener("error",E),c.addEventListener("timeout",E),c.addEventListener("abort",E),i.reportProgress&&(c.addEventListener("progress",O),d!==null&&c.upload&&c.upload.addEventListener("progress",F)),c.send(d),s.next({type:gr.Sent}),()=>{c.removeEventListener("error",E),c.removeEventListener("abort",E),c.removeEventListener("load",g),c.removeEventListener("timeout",E),i.reportProgress&&(c.removeEventListener("progress",O),d!==null&&c.upload&&c.upload.removeEventListener("progress",F)),c.readyState!==c.DONE&&c.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(z(ud))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),rw=new Q(""),ZC="XSRF-TOKEN",eS=new Q("",{providedIn:"root",factory:()=>ZC}),tS="X-XSRF-TOKEN",nS=new Q("",{providedIn:"root",factory:()=>tS}),Fd=class{},iS=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=cd(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(z(Ee),z(En),z(eS))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})();function rS(t,e){let n=t.url.toLowerCase();if(!$(rw)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=$(Fd).getToken(),r=$(nS);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}function QV(...t){let e=[co,tw,ew,{provide:Ka,useExisting:ew},{provide:Od,useFactory:()=>$(HC,{optional:!0})??$(tw)},{provide:iw,useValue:rS,multi:!0},{provide:rw,useValue:!0},{provide:Fd,useClass:iS}];for(let n of t)e.push(...n.\u0275providers);return Zt(e)}var hf=class extends P_{constructor(){super(...arguments),this.supportsDOMEvents=!0}},mf=class t extends hf{static makeCurrent(){D_(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=sS();return n==null?null:aS(n)}resetBaseElement(){Ja=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cd(document.cookie,e)}},Ja=null;function sS(){return Ja=Ja||document.querySelector("base"),Ja?Ja.getAttribute("href"):null}function aS(t){return new URL(t,document.baseURI).pathname}var cS=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),Vd=new Q(""),cw=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new Oe(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(z(Vd),z(ae))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),Xa=class{constructor(e){this._doc=e}},df="ng-app-id",lw=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=dd(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${df}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(df),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(df,this.appId),i.appendChild(c),c}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,c=s.get(r)?.elements;c?c.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(z(Ee),z(ed),z(Ma,8),z(En))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),uf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},pf=/%COMP%/g,dw="%COMP%",lS=`_nghost-${dw}`,dS=`_ngcontent-${dw}`,uS=!0,hS=new Q("",{providedIn:"root",factory:()=>uS});function mS(t){return dS.replace(pf,t)}function fS(t){return lS.replace(pf,t)}function uw(t,e){return e.map(n=>n.replace(pf,t))}var ow=(()=>{let e=class e{constructor(i,r,o,s,c,d,m,b=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=d,this.ngZone=m,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=dd(d),this.defaultRenderer=new Za(i,c,m,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Da.ShadowDom&&(r=Me(j({},r),{encapsulation:Da.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof Ud?o.applyToHost(i):o instanceof ec&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let c=this.doc,d=this.ngZone,m=this.eventManager,b=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,E=this.platformIsServer;switch(r.encapsulation){case Da.Emulated:s=new Ud(m,b,r,this.appId,g,c,d,E);break;case Da.ShadowDom:return new ff(m,b,i,r,c,d,this.nonce,E);default:s=new ec(m,b,r,g,c,d,E);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(z(cw),z(lw),z(ed),z(hS),z(Ee),z(En),z(ae),z(Ma))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),Za=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(uf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(sw(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(sw(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){n.remove()}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new Oe(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=uf[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=uf[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Na.DashCase|Na.Important)?e.style.setProperty(n,i,r&Na.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Na.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=ds().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function sw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ff=class extends Za{constructor(e,n,i,r,o,s,c,d){super(e,o,s,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=uw(r.id,r.styles);for(let b of m){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=b,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ec=class extends Za{constructor(e,n,i,r,o,s,c,d){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=d?uw(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ud=class extends ec{constructor(e,n,i,r,o,s,c,d){let m=r+"-"+i.id;super(e,n,i,o,s,c,d,m),this.contentAttr=mS(m),this.hostAttr=fS(m)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},pS=(()=>{let e=class e extends Xa{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(z(Ee))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),gS=(()=>{let e=class e extends Xa{constructor(i){super(i),this.delegate=$(k_,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,o){return this.delegate.addEventListener(i,r,o)}removeEventListener(i,r,o){return this.delegate.removeEventListener(i,r,o)}};e.\u0275fac=function(r){return new(r||e)(z(Ee))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),aw=["alt","control","meta","shift"],bS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vS={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},_S=(()=>{let e=class e extends Xa{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ds().onAndCancel(i,s.domEventName,c))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),c="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),c="code."),aw.forEach(b=>{let g=r.indexOf(b);g>-1&&(r.splice(g,1),c+=b+".")}),c+=s,r.length!=0||s.length===0)return null;let m={};return m.domEventName=o,m.fullKey=c,m}static matchEventFullKeyCode(i,r){let o=bS[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),aw.forEach(c=>{if(c!==o){let d=vS[c];d(i)&&(s+=c+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(z(Ee))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})();function gU(t,e){return S_(j({rootComponent:t},yS(e)))}function yS(t){return{appProviders:[...TS,...t?.providers??[]],platformProviders:xS}}function wS(){mf.makeCurrent()}function IS(){return new to}function ES(){return n_(document),document}var xS=[{provide:En,useValue:V_},{provide:i_,useValue:wS,multi:!0},{provide:Ee,useFactory:ES,deps:[]}];var TS=[{provide:t_,useValue:"root"},{provide:to,useFactory:IS,deps:[]},{provide:Vd,useClass:pS,multi:!0,deps:[Ee,ae,En]},{provide:Vd,useClass:_S,multi:!0,deps:[Ee]},{provide:Vd,useClass:gS,multi:!0},ow,lw,cw,{provide:h_,useExisting:ow},{provide:ud,useClass:cS,deps:[]},[]];var hw=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(z(Ee))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=z(AS),o},providedIn:"root"});let t=e;return t})(),AS=(()=>{let e=class e extends gf{constructor(i){super(),this._doc=i}sanitize(i,r){if(r==null)return null;switch(i){case nn.NONE:return r;case nn.HTML:return ss(r,"HTML")?os(r):d_(this._doc,String(r)).toString();case nn.STYLE:return ss(r,"Style")?os(r):r;case nn.SCRIPT:if(ss(r,"Script"))return os(r);throw new Oe(5200,!1);case nn.URL:return ss(r,"URL")?os(r):l_(String(r));case nn.RESOURCE_URL:if(ss(r,"ResourceURL"))return os(r);throw new Oe(5201,!1);default:throw new Oe(5202,!1)}}bypassSecurityTrustHtml(i){return r_(i)}bypassSecurityTrustStyle(i){return o_(i)}bypassSecurityTrustScript(i){return s_(i)}bypassSecurityTrustUrl(i){return a_(i)}bypassSecurityTrustResourceUrl(i){return c_(i)}};e.\u0275fac=function(r){return new(r||e)(z(Ee))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ue="primary",pc=Symbol("RouteTitle"),wf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Is(t){return new wf(t)}function CS(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],c=t[o];if(s[0]===":")r[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function SS(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Kn(t[n],e[n]))return!1;return!0}function Kn(t,e){let n=t?If(t):void 0,i=e?If(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!xw(t[r],e[r]))return!1;return!0}function If(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function xw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function Tw(t){return t.length>0?t[t.length-1]:null}function _r(t){return mm(t)?t:rd(t)?vt(Promise.resolve(t)):ee(t)}var kS={exact:Cw,subset:Sw},Aw={exact:RS,subset:DS,ignored:()=>!0};function fw(t,e,n){return kS[n.paths](t.root,e.root,n.matrixParams)&&Aw[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function RS(t,e){return Kn(t,e)}function Cw(t,e,n){if(!uo(t.segments,e.segments)||!zd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!Cw(t.children[i],e.children[i],n))return!1;return!0}function DS(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xw(t[n],e[n]))}function Sw(t,e,n){return kw(t,e,e.segments,n)}function kw(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!uo(r,n)||e.hasChildren()||!zd(r,n,i))}else if(t.segments.length===n.length){if(!uo(t.segments,n)||!zd(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!Sw(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!uo(t.segments,r)||!zd(t.segments,r,i)||!t.children[ue]?!1:kw(t.children[ue],e,o,i)}}function zd(t,e,n){return e.every((i,r)=>Aw[n](t[r].parameters,i.parameters))}var yi=class{constructor(e=new Ce([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){return OS.serialize(this)}},Ce=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $d(this)}},lo=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Is(this.parameters),this._parameterMap}toString(){return Dw(this)}};function PS(t,e){return uo(t,e)&&t.every((n,i)=>Kn(n.parameters,e[i].parameters))}function uo(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function MS(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===ue&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==ue&&(n=n.concat(e(r,i)))}),n}var gc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:()=>new Es,providedIn:"root"});let t=e;return t})(),Es=class{parse(e){let n=new xf(e);return new yi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${tc(e.root,!0)}`,i=LS(e.queryParams),r=typeof e.fragment=="string"?`#${NS(e.fragment)}`:"";return`${n}${i}${r}`}},OS=new Es;function $d(t){return t.segments.map(e=>Dw(e)).join("/")}function tc(t,e){if(!t.hasChildren())return $d(t);if(e){let n=t.children[ue]?tc(t.children[ue],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==ue&&i.push(`${r}:${tc(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=MS(t,(i,r)=>r===ue?[tc(t.children[ue],!1)]:[`${r}:${tc(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[ue]!=null?`${$d(t)}/${n[0]}`:`${$d(t)}/(${n.join("//")})`}}function Rw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jd(t){return Rw(t).replace(/%3B/gi,";")}function NS(t){return encodeURI(t)}function Ef(t){return Rw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qd(t){return decodeURIComponent(t)}function pw(t){return qd(t.replace(/\+/g,"%20"))}function Dw(t){return`${Ef(t.path)}${FS(t.parameters)}`}function FS(t){return Object.entries(t).map(([e,n])=>`;${Ef(e)}=${Ef(n)}`).join("")}function LS(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${jd(n)}=${jd(r)}`).join("&"):`${jd(n)}=${jd(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var VS=/^[^\/()?;#]+/;function bf(t){let e=t.match(VS);return e?e[0]:""}var US=/^[^\/()?;=#]+/;function jS(t){let e=t.match(US);return e?e[0]:""}var BS=/^[^=?&#]+/;function zS(t){let e=t.match(BS);return e?e[0]:""}var $S=/^[^&#]+/;function qS(t){let e=t.match($S);return e?e[0]:""}var xf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[ue]=new Ce(e,n)),i}parseSegment(){let e=bf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Oe(4009,!1);return this.capture(e),new lo(qd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=jS(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=bf(this.remaining);r&&(i=r,this.capture(i))}e[qd(n)]=qd(i)}parseQueryParam(e){let n=zS(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=qS(this.remaining);s&&(i=s,this.capture(i))}let r=pw(n),o=pw(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=bf(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Oe(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ue);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ue]:new Ce([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Oe(4011,!1)}};function Pw(t){return t.segments.length>0?new Ce([],{[ue]:t}):t}function Mw(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=Mw(r);if(i===ue&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Ce(t.segments,e);return HS(n)}function HS(t){if(t.numberOfChildren===1&&t.children[ue]){let e=t.children[ue];return new Ce(t.segments.concat(e.segments),e.children)}return t}function ho(t){return t instanceof yi}function GS(t,e,n=null,i=null){let r=Ow(t);return Nw(r,e,n,i)}function Ow(t){let e;function n(o){let s={};for(let d of o.children){let m=n(d);s[d.outlet]=m}let c=new Ce(o.url,s);return o===t&&(e=c),c}let i=n(t.root),r=Pw(i);return e??r}function Nw(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return vf(r,r,r,n,i);let o=WS(e);if(o.toRoot())return vf(r,r,new Ce([],{}),n,i);let s=KS(o,r,t),c=s.processChildren?rc(s.segmentGroup,s.index,o.commands):Lw(s.segmentGroup,s.index,o.commands);return vf(r,s.segmentGroup,c,n,i)}function Hd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ac(t){return typeof t=="object"&&t!=null&&t.outlets}function vf(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([d,m])=>{o[d]=Array.isArray(m)?m.map(b=>`${b}`):`${m}`});let s;t===e?s=n:s=Fw(t,e,n);let c=Pw(Mw(s));return new yi(c,o,r)}function Fw(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=Fw(o,e,n)}),new Ce(t.segments,i)}var Gd=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Hd(i[0]))throw new Oe(4003,!1);let r=i.find(ac);if(r&&r!==Tw(i))throw new Oe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function WS(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Gd(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([d,m])=>{c[d]=typeof m=="string"?m.split("/"):m}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((c,d)=>{d==0&&c==="."||(d==0&&c===""?n=!0:c===".."?e++:c!=""&&r.push(c))}),r):[...r,o]},[]);return new Gd(n,e,i)}var _s=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function KS(t,e,n){if(t.isAbsolute)return new _s(e,!0,0);if(!n)return new _s(e,!1,NaN);if(n.parent===null)return new _s(n,!0,0);let i=Hd(t.commands[0])?0:1,r=n.segments.length-1+i;return QS(n,r,t.numberOfDoubleDots)}function QS(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Oe(4005,!1);r=i.segments.length}return new _s(i,!1,r-o)}function YS(t){return ac(t[0])?t[0].outlets:{[ue]:t}}function Lw(t,e,n){if(t??=new Ce([],{}),t.segments.length===0&&t.hasChildren())return rc(t,e,n);let i=JS(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Ce(t.segments.slice(0,i.pathIndex),{});return o.children[ue]=new Ce(t.segments.slice(i.pathIndex),t.children),rc(o,0,r)}else return i.match&&r.length===0?new Ce(t.segments,{}):i.match&&!t.hasChildren()?Tf(t,e,n):i.match?rc(t,0,r):Tf(t,e,n)}function rc(t,e,n){if(n.length===0)return new Ce(t.segments,{});{let i=YS(n),r={};if(Object.keys(i).some(o=>o!==ue)&&t.children[ue]&&t.numberOfChildren===1&&t.children[ue].segments.length===0){let o=rc(t.children[ue],e,n);return new Ce(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Lw(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ce(t.segments,r)}}function JS(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],c=n[i];if(ac(c))break;let d=`${c}`,m=i<n.length-1?n[i+1]:null;if(r>0&&d===void 0)break;if(d&&m&&typeof m=="object"&&m.outlets===void 0){if(!bw(d,m,s))return o;i+=2}else{if(!bw(d,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Tf(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(ac(o)){let d=XS(o.outlets);return new Ce(i,d)}if(r===0&&Hd(n[0])){let d=t.segments[e];i.push(new lo(d.path,gw(n[0]))),r++;continue}let s=ac(o)?o.outlets[ue]:`${o}`,c=r<n.length-1?n[r+1]:null;s&&c&&Hd(c)?(i.push(new lo(s,gw(c))),r+=2):(i.push(new lo(s,{})),r++)}return new Ce(i,{})}function XS(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=Tf(new Ce([],{}),0,i))}),e}function gw(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function bw(t,e,n){return t==n.path&&Kn(e,n.parameters)}var oc="imperative",_t=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(_t||{}),mn=class{constructor(e,n){this.id=e,this.url=n}},xs=class extends mn{constructor(e,n,i="imperative",r=null){super(e,n),this.type=_t.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Qn=class extends mn{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=_t.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},on=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(on||{}),Wd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Wd||{}),_i=class extends mn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=_t.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},br=class extends mn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=_t.NavigationSkipped}},cc=class extends mn{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=_t.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Kd=class extends mn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=_t.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Af=class extends mn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=_t.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cf=class extends mn{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=_t.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sf=class extends mn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=_t.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kf=class extends mn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=_t.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rf=class{constructor(e){this.route=e,this.type=_t.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Df=class{constructor(e){this.route=e,this.type=_t.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Pf=class{constructor(e){this.snapshot=e,this.type=_t.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mf=class{constructor(e){this.snapshot=e,this.type=_t.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Of=class{constructor(e){this.snapshot=e,this.type=_t.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nf=class{constructor(e){this.snapshot=e,this.type=_t.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qd=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=_t.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},lc=class{},Ts=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function ZS(t,e){return t.providers&&!t._injector&&(t._injector=Em(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Cn(t){return t.outlet||ue}function ek(t,e){let n=t.filter(i=>Cn(i)===e);return n.push(...t.filter(i=>Cn(i)!==e)),n}function bc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ff=class{get injector(){return bc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new vc(this.rootInjector),this.attachRef=null}},vc=(()=>{let e=class e{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Ff(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)(z(eo))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Lf(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=Lf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Vf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Vf(e,this._root).map(n=>n.value)}};function Lf(t,e){if(t===e.value)return e;for(let n of e.children){let i=Lf(t,n);if(i)return i}return null}function Vf(t,e){if(t===e.value)return[e];for(let n of e.children){let i=Vf(t,n);if(i.length)return i.unshift(e),i}return[]}var rn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function vs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Jd=class extends Yd{constructor(e,n){super(e),this.snapshot=n,Wf(this,e)}toString(){return this.snapshot.toString()}};function Vw(t){let e=tk(t),n=new qt([new lo("",{})]),i=new qt({}),r=new qt({}),o=new qt({}),s=new qt(""),c=new vr(n,i,o,s,r,ue,t,e.root);return c.snapshot=e.root,new Jd(new rn(c,[]),e)}function tk(t){let e={},n={},i={},r="",o=new ys([],e,i,r,n,ue,t,null,{});return new Zd("",new rn(o,[]))}var vr=class{constructor(e,n,i,r,o,s,c,d){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(ne(m=>m[pc]))??ee(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>Is(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>Is(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xd(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),r?.data),t._resolvedData)}:i={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},r&&jw(r)&&(i.resolve[pc]=r.title),i}var ys=class{get title(){return this.data?.[pc]}constructor(e,n,i,r,o,s,c,d,m){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=c,this.routeConfig=d,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Is(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Is(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Zd=class extends Yd{constructor(e,n){super(n),this.url=e,Wf(this,n)}toString(){return Uw(this._root)}};function Wf(t,e){e.value._routerState=t,e.children.forEach(n=>Wf(t,n))}function Uw(t){let e=t.children.length>0?` { ${t.children.map(Uw).join(", ")} } `:"";return`${t.value}${e}`}function _f(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Kn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Kn(e.params,n.params)||t.paramsSubject.next(n.params),SS(e.url,n.url)||t.urlSubject.next(n.url),Kn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Uf(t,e){let n=Kn(t.params,e.params)&&PS(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||Uf(t.parent,e.parent))}function jw(t){return typeof t.title=="string"||t.title===null}var nk=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new jt,this.deactivateEvents=new jt,this.attachEvents=new jt,this.detachEvents=new jt,this.parentContexts=$(vc),this.location=$(m_),this.changeDetector=$(fi),this.inputBinder=$(iu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Oe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Oe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Oe(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new Oe(4013,!1);this._activatedRoute=i;let o=this.location,c=i.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,m=new jf(i,d,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:m,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=be({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Hn]});let t=e;return t})(),jf=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===vr?this.route:e===vc?this.childContexts:this.parent.get(e,n)}},iu=new Q(""),vw=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,o=is([r.queryParams,r.params,r.data]).pipe(Xt(([s,c,d],m)=>(d=j(j(j({},s),c),d),m===0?ee(d):Promise.resolve(d)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let c=R_(r.component);if(!c){this.unsubscribeFromRouteData(i);return}for(let{templateName:d}of c.inputs)i.activatedComponentRef.setInput(d,s[d])});this.outletDataSubscriptions.set(i,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})();function ik(t,e,n){let i=dc(t,e._root,n?n._root:void 0);return new Jd(i,e)}function dc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=rk(t,e,n);return new rn(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>dc(t,c)),s}}let i=ok(e.value),r=e.children.map(o=>dc(t,o));return new rn(i,r)}}function rk(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return dc(t,i,r);return dc(t,i)})}function ok(t){return new vr(new qt(t.url),new qt(t.params),new qt(t.queryParams),new qt(t.fragment),new qt(t.data),t.outlet,t.component,t)}var uc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Bw="ngNavigationCancelingError";function eu(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=ho(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=zw(!1,on.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function zw(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Bw]=!0,n.cancellationCode=e,n}function sk(t){return $w(t)&&ho(t.url)}function $w(t){return!!t&&t[Bw]}var ak=(t,e,n,i)=>ne(r=>(new Bf(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),Bf=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),_f(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=vs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=vs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=vs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=vs(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Nf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Mf(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(_f(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),_f(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},tu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ws=class{constructor(e,n){this.component=e,this.route=n}};function ck(t,e,n){let i=t._root,r=e?e._root:null;return nc(i,r,n,[i.value])}function lk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Cs(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!e_(t)?t:e.get(t):i}function nc(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=vs(e);return t.children.forEach(s=>{dk(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>sc(c,n.getContext(s),r)),r}function dk(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let d=uk(s,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new tu(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?nc(t,e,c?c.children:null,i,r):nc(t,e,n,i,r),d&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new ws(c.outlet.component,s))}else s&&sc(e,c,r),r.canActivateChecks.push(new tu(i)),o.component?nc(t,null,c?c.children:null,i,r):nc(t,null,n,i,r);return r}function uk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!uo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!uo(t.url,e.url)||!Kn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Uf(t,e)||!Kn(t.queryParams,e.queryParams);case"paramsChange":default:return!Uf(t,e)}}function sc(t,e,n){let i=vs(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?sc(s,e.children.getContext(o),n):sc(s,null,n):sc(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ws(e.outlet.component,r)):n.canDeactivateChecks.push(new ws(null,r)):n.canDeactivateChecks.push(new ws(null,r))}function _c(t){return typeof t=="function"}function hk(t){return typeof t=="boolean"}function mk(t){return t&&_c(t.canLoad)}function fk(t){return t&&_c(t.canActivate)}function pk(t){return t&&_c(t.canActivateChild)}function gk(t){return t&&_c(t.canDeactivate)}function bk(t){return t&&_c(t.canMatch)}function qw(t){return t instanceof Kv||t?.name==="EmptyError"}var Bd=Symbol("INITIAL_VALUE");function As(){return Xt(t=>is(t.map(e=>e.pipe(wn(1),ka(Bd)))).pipe(ne(e=>{for(let n of e)if(n!==!0){if(n===Bd)return Bd;if(n===!1||vk(n))return n}return!0}),Jt(e=>e!==Bd),wn(1)))}function vk(t){return ho(t)||t instanceof uc}function _k(t,e){return Yt(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ee(Me(j({},n),{guardsResult:!0})):yk(s,i,r,t).pipe(Yt(c=>c&&hk(c)?wk(i,o,t,e):ee(c)),ne(c=>Me(j({},n),{guardsResult:c})))})}function yk(t,e,n,i){return vt(t).pipe(Yt(r=>Ak(r.component,r.route,n,e,i)),ar(r=>r!==!0,!0))}function wk(t,e,n,i){return vt(e).pipe(or(r=>Yl(Ek(r.route.parent,i),Ik(r.route,i),Tk(t,r.path,n),xk(t,r.route,n))),ar(r=>r!==!0,!0))}function Ik(t,e){return t!==null&&e&&e(new Of(t)),ee(!0)}function Ek(t,e){return t!==null&&e&&e(new Pf(t)),ee(!0)}function xk(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return ee(!0);let r=i.map(o=>pm(()=>{let s=bc(e)??n,c=Cs(o,s),d=fk(c)?c.canActivate(e,t):cn(s,()=>c(e,t));return _r(d).pipe(ar())}));return ee(r).pipe(As())}function Tk(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>lk(s)).filter(s=>s!==null).map(s=>pm(()=>{let c=s.guards.map(d=>{let m=bc(s.node)??n,b=Cs(d,m),g=pk(b)?b.canActivateChild(i,t):cn(m,()=>b(i,t));return _r(g).pipe(ar())});return ee(c).pipe(As())}));return ee(o).pipe(As())}function Ak(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ee(!0);let s=o.map(c=>{let d=bc(e)??r,m=Cs(c,d),b=gk(m)?m.canDeactivate(t,e,n,i):cn(d,()=>m(t,e,n,i));return _r(b).pipe(ar())});return ee(s).pipe(As())}function Ck(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return ee(!0);let o=r.map(s=>{let c=Cs(s,t),d=mk(c)?c.canLoad(e,n):cn(t,()=>c(e,n));return _r(d)});return ee(o).pipe(As(),Hw(i))}function Hw(t){return am(He(e=>{if(typeof e!="boolean")throw eu(t,e)}),ne(e=>e===!0))}function Sk(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return ee(!0);let o=r.map(s=>{let c=Cs(s,t),d=bk(c)?c.canMatch(e,n):cn(t,()=>c(e,n));return _r(d)});return ee(o).pipe(As(),Hw(i))}var hc=class{constructor(e){this.segmentGroup=e||null}},mc=class extends Error{constructor(e){super(),this.urlTree=e}};function bs(t){return Zr(new hc(t))}function kk(t){return Zr(new Oe(4e3,!1))}function Rk(t){return Zr(zw(!1,on.GuardRejected))}var zf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ee(i);if(r.numberOfChildren>1||!r.children[ue])return kk(`${e.redirectTo}`);r=r.children[ue]}}applyRedirectCommands(e,n,i,r,o){if(typeof n!="string"){let c=n,{queryParams:d,fragment:m,routeConfig:b,url:g,outlet:E,params:R,data:O,title:F}=r,D=cn(o,()=>c({params:R,data:O,queryParams:d,fragment:m,routeConfig:b,url:g,outlet:E,title:F}));if(D instanceof yi)throw new mc(D);n=D}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n[0]==="/")throw new mc(s);return s}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new yi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);i[r]=n[c]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([c,d])=>{s[c]=this.createSegmentGroup(e,d,i,r)}),new Ce(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new Oe(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},$f={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dk(t,e,n,i,r){let o=Gw(t,e,n);return o.matched?(i=ZS(e,i),Sk(i,e,n,r).pipe(ne(s=>s===!0?o:j({},$f)))):ee(o)}function Gw(t,e,n){if(e.path==="**")return Pk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},$f):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||CS)(n,t,e);if(!r)return j({},$f);let o={};Object.entries(r.posParams??{}).forEach(([c,d])=>{o[c]=d.path});let s=r.consumed.length>0?j(j({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Pk(t){return{matched:!0,parameters:t.length>0?Tw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function _w(t,e,n,i){return n.length>0&&Nk(t,n,i)?{segmentGroup:new Ce(e,Ok(i,new Ce(n,t.children))),slicedSegments:[]}:n.length===0&&Fk(t,n,i)?{segmentGroup:new Ce(t.segments,Mk(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Ce(t.segments,t.children),slicedSegments:n}}function Mk(t,e,n,i){let r={};for(let o of n)if(ru(t,e,o)&&!i[Cn(o)]){let s=new Ce([],{});r[Cn(o)]=s}return j(j({},i),r)}function Ok(t,e){let n={};n[ue]=e;for(let i of t)if(i.path===""&&Cn(i)!==ue){let r=new Ce([],{});n[Cn(i)]=r}return n}function Nk(t,e,n){return n.some(i=>ru(t,e,i)&&Cn(i)!==ue)}function Fk(t,e,n){return n.some(i=>ru(t,e,i))}function ru(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Lk(t,e,n){return e.length===0&&!t.children[n]}var qf=class{};function Vk(t,e,n,i,r,o,s="emptyOnly"){return new Hf(t,e,n,i,r,s,o).recognize()}var Uk=31,Hf=class{constructor(e,n,i,r,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new zf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Oe(4002,`'${e.segmentGroup}'`)}recognize(){let e=_w(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:n,rootSnapshot:i})=>{let r=new rn(i,n),o=new Zd("",r),s=GS(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ys([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,n).pipe(ne(i=>({children:i,rootSnapshot:n})),rr(i=>{if(i instanceof mc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof hc?this.noMatchError(i):i}))}processSegmentGroup(e,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i,o):this.processSegment(e,n,i,i.segments,r,!0,o).pipe(ne(s=>s instanceof rn?[s]:[]))}processChildren(e,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return vt(o).pipe(or(s=>{let c=i.children[s],d=ek(n,s);return this.processSegmentGroup(e,d,c,s,r)}),ym((s,c)=>(s.push(...c),s)),bm(null),Jv(),Yt(s=>{if(s===null)return bs(i);let c=Ww(s);return jk(c),ee(c)}))}processSegment(e,n,i,r,o,s,c){return vt(n).pipe(or(d=>this.processSegmentAgainstRoute(d._injector??e,n,d,i,r,o,s,c).pipe(rr(m=>{if(m instanceof hc)return ee(null);throw m}))),ar(d=>!!d),rr(d=>{if(qw(d))return Lk(i,r,o)?ee(new qf):bs(i);throw d}))}processSegmentAgainstRoute(e,n,i,r,o,s,c,d){return Cn(i)!==s&&(s===ue||!ru(r,o,i))?bs(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,d):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s,d):bs(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s,c){let{matched:d,parameters:m,consumedSegments:b,positionalParamSegments:g,remainingSegments:E}=Gw(n,r,o);if(!d)return bs(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Uk&&(this.allowRedirects=!1));let R=new ys(o,m,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,yw(r),Cn(r),r.component??r._loadedComponent??null,r,ww(r)),O=Xd(R,c,this.paramsInheritanceStrategy);R.params=Object.freeze(O.params),R.data=Object.freeze(O.data);let F=this.applyRedirects.applyRedirectCommands(b,r.redirectTo,g,R,e);return this.applyRedirects.lineralizeSegments(r,F).pipe(Yt(D=>this.processSegment(e,i,n,D.concat(E),s,!1,c)))}matchSegmentAgainstRoute(e,n,i,r,o,s){let c=Dk(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),c.pipe(Xt(d=>d.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Xt(({routes:m})=>{let b=i._loadedInjector??e,{parameters:g,consumedSegments:E,remainingSegments:R}=d,O=new ys(E,g,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,yw(i),Cn(i),i.component??i._loadedComponent??null,i,ww(i)),F=Xd(O,s,this.paramsInheritanceStrategy);O.params=Object.freeze(F.params),O.data=Object.freeze(F.data);let{segmentGroup:D,slicedSegments:U}=_w(n,E,R,m);if(U.length===0&&D.hasChildren())return this.processChildren(b,m,D,O).pipe(ne(J=>new rn(O,J)));if(m.length===0&&U.length===0)return ee(new rn(O,[]));let Z=Cn(i)===o;return this.processSegment(b,m,D,U,Z?ue:o,!0,O).pipe(ne(J=>new rn(O,J instanceof rn?[J]:[])))}))):bs(n)))}getChildConfig(e,n,i){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):Ck(e,n,i,this.urlSerializer).pipe(Yt(r=>r?this.configLoader.loadChildren(e,n).pipe(He(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Rk(n))):ee({routes:[],injector:e})}};function jk(t){t.sort((e,n)=>e.value.outlet===ue?-1:n.value.outlet===ue?1:e.value.outlet.localeCompare(n.value.outlet))}function Bk(t){let e=t.value.routeConfig;return e&&e.path===""}function Ww(t){let e=[],n=new Set;for(let i of t){if(!Bk(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=Ww(i.children);e.push(new rn(i.value,r))}return e.filter(i=>!n.has(i))}function yw(t){return t.data||{}}function ww(t){return t.resolve||{}}function zk(t,e,n,i,r,o){return Yt(s=>Vk(t,e,n,i,s.extractedUrl,r,o).pipe(ne(({state:c,tree:d})=>Me(j({},s),{targetSnapshot:c,urlAfterRedirects:d}))))}function $k(t,e){return Yt(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return ee(n);let o=new Set(r.map(d=>d.route)),s=new Set;for(let d of o)if(!s.has(d))for(let m of Kw(d))s.add(m);let c=0;return vt(s).pipe(or(d=>o.has(d)?qk(d,i,t,e):(d.data=Xd(d,d.parent,t).resolve,ee(void 0))),He(()=>c++),_m(1),Yt(d=>c===s.size?ee(n):qn))})}function Kw(t){let e=t.children.map(n=>Kw(n)).flat();return[t,...e]}function qk(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!jw(r)&&(o[pc]=r.title),Hk(o,t,e,i).pipe(ne(s=>(t._resolvedData=s,t.data=Xd(t,t.parent,n).resolve,null)))}function Hk(t,e,n,i){let r=If(t);if(r.length===0)return ee({});let o={};return vt(r).pipe(Yt(s=>Gk(t[s],e,n,i).pipe(ar(),He(c=>{if(c instanceof uc)throw eu(new Es,c);o[s]=c}))),_m(1),Yv(o),rr(s=>qw(s)?qn:Zr(s)))}function Gk(t,e,n,i){let r=bc(e)??i,o=Cs(t,r),s=o.resolve?o.resolve(e,n):cn(r,()=>o(e,n));return _r(s)}function yf(t){return Xt(e=>{let n=t(e);return n?vt(n).pipe(ne(()=>e)):ee(e)})}var Qw=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===ue);return r}getResolvedTitleForRoute(i){return i.data[pc]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:()=>$(Wk),providedIn:"root"});let t=e;return t})(),Wk=(()=>{let e=class e extends Qw{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(z(hw))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yc=new Q("",{providedIn:"root",factory:()=>({})}),Kk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=xe({type:e,selectors:[["ng-component"]],standalone:!0,features:[lt],decls:1,vars:0,template:function(r,o){r&1&&Le(0,"router-outlet")},dependencies:[nk],encapsulation:2});let t=e;return t})();function Kf(t){let e=t.children&&t.children.map(Kf),n=e?Me(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ue&&(n.component=Kk),n}var fc=new Q(""),Qf=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$(ad)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return ee(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=_r(i.loadComponent()).pipe(ne(Yw),He(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),sr(()=>{this.componentLoaders.delete(i)})),o=new lm(r,()=>new qe).pipe(cm());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Qk(r,this.compiler,i,this.onLoadEndListener).pipe(sr(()=>{this.childrenLoaders.delete(r)})),c=new lm(s,()=>new qe).pipe(cm());return this.childrenLoaders.set(r,c),c}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Qk(t,e,n,i){return _r(t.loadChildren()).pipe(ne(Yw),Yt(r=>r instanceof p_||Array.isArray(r)?ee(r):vt(e.compileModuleAsync(r))),ne(r=>{i&&i(t);let o,s,c=!1;return Array.isArray(r)?(s=r,c=!0):(o=r.create(n).injector,s=o.get(fc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Kf),injector:o}}))}function Yk(t){return t&&typeof t=="object"&&"default"in t}function Yw(t){return Yk(t)?t.default:t}var Yf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:()=>$(Jk),providedIn:"root"});let t=e;return t})(),Jk=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jw=new Q(""),Xw=new Q("");function Xk(t,e,n){let i=t.get(Xw),r=t.get(Ee);return t.get(ae).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(m=>setTimeout(m));let o,s=new Promise(m=>{o=m}),c=r.startViewTransition(()=>(o(),Zk(t))),{onViewTransitionCreated:d}=i;return d&&cn(t,()=>d({transition:c,from:e,to:n})),s})}function Zk(t){return new Promise(e=>{xm({read:()=>setTimeout(e)},{injector:t})})}var eR=new Q(""),Jf=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.transitionAbortSubject=new qe,this.configLoader=$(Qf),this.environmentInjector=$(eo),this.urlSerializer=$(gc),this.rootContexts=$(vc),this.location=$(Ua),this.inputBindingEnabled=$(iu,{optional:!0})!==null,this.titleStrategy=$(Qw),this.options=$(yc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=$(Yf),this.createViewTransition=$(Jw,{optional:!0}),this.navigationErrorHandler=$(eR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let i=o=>this.events.next(new Rf(o)),r=o=>this.events.next(new Df(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Me(j(j({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new qt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:oc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Jt(s=>s.id!==0),ne(s=>Me(j({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Xt(s=>{let c=!1,d=!1;return ee(s).pipe(Xt(m=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",on.SupersededByNewNavigation),qn;this.currentTransition=s,this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,targetBrowserUrl:typeof m.extras.browserUrl=="string"?this.urlSerializer.parse(m.extras.browserUrl):m.extras.browserUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Me(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let b=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=m.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!b&&g!=="reload"){let E="";return this.events.next(new br(m.id,this.urlSerializer.serialize(m.rawUrl),E,Wd.IgnoredSameUrlNavigation)),m.resolve(!1),qn}if(this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return ee(m).pipe(Xt(E=>{let R=this.transitions?.getValue();return this.events.next(new xs(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),R!==this.transitions?.getValue()?qn:Promise.resolve(E)}),zk(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),He(E=>{s.targetSnapshot=E.targetSnapshot,s.urlAfterRedirects=E.urlAfterRedirects,this.currentNavigation=Me(j({},this.currentNavigation),{finalUrl:E.urlAfterRedirects});let R=new Kd(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(R)}));if(b&&this.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){let{id:E,extractedUrl:R,source:O,restoredState:F,extras:D}=m,U=new xs(E,this.urlSerializer.serialize(R),O,F);this.events.next(U);let Z=Vw(this.rootComponentType).snapshot;return this.currentTransition=s=Me(j({},m),{targetSnapshot:Z,urlAfterRedirects:R,extras:Me(j({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=R,ee(s)}else{let E="";return this.events.next(new br(m.id,this.urlSerializer.serialize(m.extractedUrl),E,Wd.IgnoredByUrlHandlingStrategy)),m.resolve(!1),qn}}),He(m=>{let b=new Af(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}),ne(m=>(this.currentTransition=s=Me(j({},m),{guards:ck(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),s)),_k(this.environmentInjector,m=>this.events.next(m)),He(m=>{if(s.guardsResult=m.guardsResult,m.guardsResult&&typeof m.guardsResult!="boolean")throw eu(this.urlSerializer,m.guardsResult);let b=new Cf(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(b)}),Jt(m=>m.guardsResult?!0:(this.cancelNavigationTransition(m,"",on.GuardRejected),!1)),yf(m=>{if(m.guards.canActivateChecks.length)return ee(m).pipe(He(b=>{let g=new Sf(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(g)}),Xt(b=>{let g=!1;return ee(b).pipe($k(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(b,"",on.NoDataFromResolver)}}))}),He(b=>{let g=new kf(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(g)}))}),yf(m=>{let b=g=>{let E=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&E.push(this.configLoader.loadComponent(g.routeConfig).pipe(He(R=>{g.component=R}),ne(()=>{})));for(let R of g.children)E.push(...b(R));return E};return is(b(m.targetSnapshot.root)).pipe(bm(null),wn(1))}),yf(()=>this.afterPreactivation()),Xt(()=>{let{currentSnapshot:m,targetSnapshot:b}=s,g=this.createViewTransition?.(this.environmentInjector,m.root,b.root);return g?vt(g).pipe(ne(()=>s)):ee(s)}),ne(m=>{let b=ik(i.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=s=Me(j({},m),{targetRouterState:b}),this.currentNavigation.targetRouterState=b,s}),He(()=>{this.events.next(new lc)}),ak(this.rootContexts,i.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),wn(1),He({next:m=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qn(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),this.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{c=!0}}),In(this.transitionAbortSubject.pipe(He(m=>{throw m}))),sr(()=>{!c&&!d&&this.cancelNavigationTransition(s,"",on.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),rr(m=>{if(d=!0,$w(m))this.events.next(new _i(s.id,this.urlSerializer.serialize(s.extractedUrl),m.message,m.cancellationCode)),sk(m)?this.events.next(new Ts(m.url,m.navigationBehaviorOptions)):s.resolve(!1);else{let b=new cc(s.id,this.urlSerializer.serialize(s.extractedUrl),m,s.targetSnapshot??void 0);try{let g=cn(this.environmentInjector,()=>this.navigationErrorHandler?.(b));if(g instanceof uc){let{message:E,cancellationCode:R}=eu(this.urlSerializer,g);this.events.next(new _i(s.id,this.urlSerializer.serialize(s.extractedUrl),E,R)),this.events.next(new Ts(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(b);let E=i.errorHandler(m);s.resolve(!!E)}}catch(g){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(g)}}return qn}))}))}cancelNavigationTransition(i,r,o){let s=new _i(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tR(t){return t!==oc}var nR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:()=>$(iR),providedIn:"root"});let t=e;return t})(),Gf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},iR=(()=>{let e=class e extends Gf{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=rs(e)))(o||e)}})(),e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:()=>$(rR),providedIn:"root"});let t=e;return t})(),rR=(()=>{let e=class e extends Zw{constructor(){super(...arguments),this.location=$(Ua),this.urlSerializer=$(gc),this.options=$(yc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=$(Yf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Vw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof xs)this.stateMemento=this.createStateMemento();else if(i instanceof br)this.rawUrlTree=r.initialUrl;else if(i instanceof Kd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else i instanceof lc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof _i&&(i.code===on.GuardRejected||i.code===on.NoDataFromResolver)?this.restoreHistory(r):i instanceof cc?this.restoreHistory(r,!0):i instanceof Qn&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=i instanceof yi?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,c=j(j({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",c)}else{let s=j(j({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=rs(e)))(o||e)}})(),e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ic=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ic||{});function e0(t,e){t.events.pipe(Jt(n=>n instanceof Qn||n instanceof _i||n instanceof cc||n instanceof br),ne(n=>n instanceof Qn||n instanceof br?ic.COMPLETE:(n instanceof _i?n.code===on.Redirect||n.code===on.SupersededByNewNavigation:!1)?ic.REDIRECTING:ic.FAILED),Jt(n=>n!==ic.REDIRECTING),wn(1)).subscribe(()=>{e()})}function oR(t){throw t}var sR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=$(id),this.stateManager=$(Zw),this.options=$(yc,{optional:!0})||{},this.pendingTasks=$(Zl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=$(Jf),this.urlSerializer=$(gc),this.location=$(Ua),this.urlHandlingStrategy=$(Yf),this._events=new qe,this.errorHandler=this.options.errorHandler||oR,this.navigated=!1,this.routeReuseStrategy=$(nR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=$(fc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!$(iu,{optional:!0}),this.eventsSubscription=new Xr,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof _i&&r.code!==on.Redirect&&r.code!==on.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Qn)this.navigated=!0;else if(r instanceof Ts){let c=r.navigationBehaviorOptions,d=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),m=j({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||tR(o.source)},c);this.scheduleNavigation(d,oc,null,m,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}lR(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let m=j({},o);delete m.navigationId,delete m.\u0275routerPageId,Object.keys(m).length!==0&&(s.state=m)}let d=this.parseUrl(i);this.scheduleNavigation(d,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Kf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:m}=r,b=m?this.currentUrlTree.fragment:c,g=null;switch(d??this.options.defaultQueryParamsHandling){case"merge":g=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}g!==null&&(g=this.removeEmptyProps(g));let E;try{let R=o?o.snapshot:this.routerState.snapshot.root;E=Ow(R)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),E=this.currentUrlTree.root}return Nw(E,i,g,b??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=ho(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,oc,null,r)}navigate(i,r={skipLocationChange:!1}){return cR(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=j({},sR):r===!1?o=j({},aR):o=r,ho(i))return fw(this.currentUrlTree,i,o);let s=this.parseUrl(i);return fw(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,c){if(this.disposed)return Promise.resolve(!1);let d,m,b;c?(d=c.resolve,m=c.reject,b=c.promise):b=new Promise((E,R)=>{d=E,m=R});let g=this.pendingTasks.add();return e0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:d,reject:m,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(E=>Promise.reject(E))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cR(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Oe(4008,!1)}function lR(t){return!(t instanceof lc)&&!(t instanceof Ts)}var NU=(()=>{let e=class e{constructor(i,r,o,s,c,d){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=c,this.locationStrategy=d,this.href=null,this.onChanges=new qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let m=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=m==="a"||m==="area",this.isAnchorElement?this.subscription=i.events.subscribe(b=>{b instanceof Qn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ho(i)?this.routerLinkInput=i:this.routerLinkInput=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0"))}onClick(i,r,o,s,c){let d=this.urlTree;if(d===null||this.isAnchorElement&&(i!==0||r||o||s||c||typeof this.target=="string"&&this.target!="_self"))return!0;let m={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,m),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:u_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,i,r):o.removeAttribute(s,i)}get urlTree(){return this.routerLinkInput===null?null:ho(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(L(Sn),L(vr),Pa("tabindex"),L(Fa),L(ke),L(Va))},e.\u0275dir=be({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&Re("click",function(c){return o.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),r&2&&At("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ot],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ot],replaceUrl:[2,"replaceUrl","replaceUrl",Ot],routerLink:"routerLink"},standalone:!0,features:[Tn,Hn]});let t=e;return t})();var nu=class{};var dR=(()=>{let e=class e{constructor(i,r,o,s,c){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Jt(i=>i instanceof Qn),or(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Em(s.providers,i,`Route: ${s.path}`));let c=s._injector??i,d=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(d,s.children??s._loadedRoutes))}return vt(o).pipe(fm())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(i,r):o=ee(null);let s=o.pipe(Yt(c=>c===null?ee(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??i,c.routes))));if(r.loadComponent&&!r._loadedComponent){let c=this.loader.loadComponent(r);return vt([s,c]).pipe(fm())}else return s})}};e.\u0275fac=function(r){return new(r||e)(z(Sn),z(ad),z(eo),z(nu),z(Qf))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),t0=new Q(""),uR=(()=>{let e=class e{constructor(i,r,o,s,c={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof xs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Qn?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof br&&i.code===Wd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Qd&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qd(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){td()},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})();function FU(t,...e){return Zt([{provide:fc,multi:!0,useValue:t},[],{provide:vr,useFactory:n0,deps:[Sn]},{provide:od,multi:!0,useFactory:i0},e.map(n=>n.\u0275providers)])}function n0(t){return t.routerState.root}function wc(t,e){return{\u0275kind:t,\u0275providers:e}}function i0(){let t=$(Ut);return e=>{let n=t.get(sd);if(e!==n.components[0])return;let i=t.get(Sn),r=t.get(r0);t.get(Xf)===1&&i.initialNavigation(),t.get(o0,null,wm.Optional)?.setUpPreloading(),t.get(t0,null,wm.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var r0=new Q("",{factory:()=>new qe}),Xf=new Q("",{providedIn:"root",factory:()=>1});function hR(){return wc(2,[{provide:Xf,useValue:0},{provide:Cm,multi:!0,deps:[Ut],useFactory:e=>{let n=e.get(M_,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(Sn),o=e.get(r0);e0(r,()=>{i(!0)}),e.get(Jf).afterPreactivation=()=>(i(!0),o.closed?ee(void 0):o),r.initialNavigation()}))}}])}function mR(){return wc(3,[{provide:Cm,multi:!0,useFactory:()=>{let e=$(Sn);return()=>{e.setUpLocationChangeListener()}}},{provide:Xf,useValue:2}])}var o0=new Q("");function fR(t){return wc(0,[{provide:o0,useExisting:dR},{provide:nu,useExisting:t}])}function pR(){return wc(8,[vw,{provide:iu,useExisting:vw}])}function gR(t){let e=[{provide:Jw,useValue:Xk},{provide:Xw,useValue:j({skipNextTransition:!!t?.skipInitialTransition},t)}];return wc(9,e)}var Iw=new Q("ROUTER_FORROOT_GUARD"),bR=[Ua,{provide:gc,useClass:Es},Sn,vc,{provide:vr,useFactory:n0,deps:[Sn]},Qf,[]],Ic=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[bR,[],{provide:fc,multi:!0,useValue:i},{provide:Iw,useFactory:wR,deps:[[Sn,new nt,new Im]]},{provide:yc,useValue:r||{}},r?.useHash?_R():yR(),vR(),r?.preloadingStrategy?fR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?IR(r):[],r?.bindToComponentInputs?pR().\u0275providers:[],r?.enableViewTransitions?gR().\u0275providers:[],ER()]}}static forChild(i){return{ngModule:e,providers:[{provide:fc,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(z(Iw,8))},e.\u0275mod=me({type:e}),e.\u0275inj=he({});let t=e;return t})();function vR(){return{provide:t0,useFactory:()=>{let t=$(j_),e=$(ae),n=$(yc),i=$(Jf),r=$(gc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new uR(r,i,t,e,n)}}}function _R(){return{provide:Va,useClass:N_}}function yR(){return{provide:Va,useClass:O_}}function wR(t){return"guarded"}function IR(t){return[t.initialNavigation==="disabled"?mR().\u0275providers:[],t.initialNavigation==="enabledBlocking"?hR().\u0275providers:[]]}var Ew=new Q("");function ER(){return[{provide:Ew,useFactory:i0},{provide:od,multi:!0,useExisting:Ew}]}var pT=Ql(Ec());var fT=Ql(Ec());var TR=["*"],ou;function AR(){if(ou===void 0&&(ou=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(ou=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return ou}function xc(t){return AR()?.createHTML(t)||t}function s0(t){return Error(`Unable to find icon with the name "${t}"`)}function CR(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function a0(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function c0(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var wi=class{constructor(e,n,i){this.url=e,this.svgText=n,this.options=i}},SR=(()=>{let e=class e{constructor(i,r,o,s){this._httpClient=i,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(i,r,o){return this.addSvgIconInNamespace("",i,r,o)}addSvgIconLiteral(i,r,o){return this.addSvgIconLiteralInNamespace("",i,r,o)}addSvgIconInNamespace(i,r,o,s){return this._addSvgIconConfig(i,r,new wi(o,null,s))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,r,o,s){let c=this._sanitizer.sanitize(nn.HTML,o);if(!c)throw c0(o);let d=xc(c);return this._addSvgIconConfig(i,r,new wi("",d,s))}addSvgIconSet(i,r){return this.addSvgIconSetInNamespace("",i,r)}addSvgIconSetLiteral(i,r){return this.addSvgIconSetLiteralInNamespace("",i,r)}addSvgIconSetInNamespace(i,r,o){return this._addSvgIconSetConfig(i,new wi(r,null,o))}addSvgIconSetLiteralInNamespace(i,r,o){let s=this._sanitizer.sanitize(nn.HTML,r);if(!s)throw c0(r);let c=xc(s);return this._addSvgIconSetConfig(i,new wi("",c,o))}registerFontClassAlias(i,r=i){return this._fontCssClassesByAlias.set(i,r),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){let r=this._sanitizer.sanitize(nn.RESOURCE_URL,i);if(!r)throw a0(i);let o=this._cachedIconsByUrl.get(r);return o?ee(su(o)):this._loadSvgIconFromConfig(new wi(i,null)).pipe(He(s=>this._cachedIconsByUrl.set(r,s)),ne(s=>su(s)))}getNamedSvgIcon(i,r=""){let o=l0(r,i),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,i),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(i,c):Zr(s0(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?ee(su(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(ne(r=>su(r)))}_getSvgFromIconSetConfigs(i,r){let o=this._extractIconWithNameFromAnySet(i,r);if(o)return ee(o);let s=r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(rr(d=>{let b=`Loading icon set URL: ${this._sanitizer.sanitize(nn.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(b)),ee(null)})));return Jl(s).pipe(ne(()=>{let c=this._extractIconWithNameFromAnySet(i,r);if(!c)throw s0(i);return c}))}_extractIconWithNameFromAnySet(i,r){for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.svgText&&s.svgText.toString().indexOf(i)>-1){let c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,i,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(He(r=>i.svgText=r),ne(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?ee(null):this._fetchIcon(i).pipe(He(r=>i.svgText=r))}_extractSvgIconFromSet(i,r,o){let s=i.querySelector(`[id="${r}"]`);if(!s)return null;let c=s.cloneNode(!0);if(c.removeAttribute("id"),c.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(c,o);if(c.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(c),o);let d=this._svgElementFromString(xc("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,o)}_svgElementFromString(i){let r=this._document.createElement("DIV");r.innerHTML=i;let o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(i){let r=this._svgElementFromString(xc("<svg></svg>")),o=i.attributes;for(let s=0;s<o.length;s++){let{name:c,value:d}=o[s];c!=="id"&&r.setAttribute(c,d)}for(let s=0;s<i.childNodes.length;s++)i.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(i.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(i,r){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),r&&r.viewBox&&i.setAttribute("viewBox",r.viewBox),i}_fetchIcon(i){let{url:r,options:o}=i,s=o?.withCredentials??!1;if(!this._httpClient)throw CR();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let c=this._sanitizer.sanitize(nn.RESOURCE_URL,r);if(!c)throw a0(r);let d=this._inProgressUrlFetches.get(c);if(d)return d;let m=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe(ne(b=>xc(b)),sr(()=>this._inProgressUrlFetches.delete(c)),Xv());return this._inProgressUrlFetches.set(c,m),m}_addSvgIconConfig(i,r,o){return this._svgIconConfigs.set(l0(i,r),o),this}_addSvgIconSetConfig(i,r){let o=this._iconSetConfigs.get(i);return o?o.push(r):this._iconSetConfigs.set(i,[r]),this}_svgElementFromConfig(i){if(!i.svgElement){let r=this._svgElementFromString(i.svgText);this._setSvgAttributes(r,i.options),i.svgElement=r}return i.svgElement}_getIconConfigFromResolvers(i,r){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](r,i);if(s)return kR(s)?new wi(s.url,null,s.options):new wi(s,null)}}};e.\u0275fac=function(r){return new(r||e)(z(co,8),z(gf),z(Ee,8),z(to))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function su(t){return t.cloneNode(!0)}function l0(t,e){return t+":"+e}function kR(t){return!!(t.url&&t.options)}var RR=new Q("MAT_ICON_DEFAULT_OPTIONS"),DR=new Q("mat-icon-location",{providedIn:"root",factory:PR});function PR(){let t=$(Ee),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var d0=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],MR=d0.map(t=>`[${t}]`).join(", "),OR=/^url\(['"]?#(.*?)['"]?\)$/,au=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(i){this._color=i}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){let r=this._cleanupFontValue(i);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){let r=this._cleanupFontValue(i);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(i,r,o,s,c,d){this._elementRef=i,this._iconRegistry=r,this._location=s,this._errorHandler=c,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Xr.EMPTY,d&&(d.color&&(this.color=this._defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),o||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];let r=i.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let i=this._elementsWithExternalReferences;if(i&&i.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){let i=this._elementRef.nativeElement,r=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let o=i.childNodes[r];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let i=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>i.classList.remove(o)),r.forEach(o=>i.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return typeof i=="string"?i.trim().split(" ")[0]:i}_prependPathToReferences(i){let r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(c=>{s.setAttribute(c.name,`url('${i}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(i){let r=i.querySelectorAll(MR),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)d0.forEach(c=>{let d=r[s],m=d.getAttribute(c),b=m?m.match(OR):null;if(b){let g=o.get(d);g||(g=[],o.set(d,g)),g.push({name:c,value:b[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){let[r,o]=this._splitIconName(i);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(wn(1)).subscribe(s=>this._setSvgElement(s),s=>{let c=`Error retrieving icon ${r}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(c))})}}};e.\u0275fac=function(r){return new(r||e)(L(ke),L(SR),Pa("aria-hidden"),L(DR),L(to),L(RR,8))},e.\u0275cmp=xe({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,o){r&2&&(At("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),no(o.color?"mat-"+o.color:""),Fe("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Ot],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Tn,lt],ngContentSelectors:TR,decls:1,vars:0,template:function(r,o){r&1&&(Bt(),Te(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let t=e;return t})(),cu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Ue,Ue]});let t=e;return t})();var NR=["*",[["mat-toolbar-row"]]],FR=["*","mat-toolbar-row"],LR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=be({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let t=e;return t})(),h0=(()=>{let e=class e{constructor(i,r,o){this._elementRef=i,this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};e.\u0275fac=function(r){return new(r||e)(L(ke),L(Xe),L(Ee))},e.\u0275cmp=xe({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,o,s){if(r&1&&Gn(s,LR,5),r&2){let c;at(c=ct())&&(o._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){r&2&&(no(o.color?"mat-"+o.color:""),Fe("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[lt],ngContentSelectors:FR,decls:2,vars:0,template:function(r,o){r&1&&(Bt(NR),Te(0),Te(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let t=e;return t})();var m0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Ue,Ue]});let t=e;return t})();var f0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Ue,Ue]});let t=e;return t})();var p0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[hd,An,Ue,vd,hy,f0]});let t=e;return t})();var b0=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},UR=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],s=t[n++],c=t[n++],d=((r&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{let o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},v0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],s=r+1<t.length,c=s?t[r+1]:0,d=r+2<t.length,m=d?t[r+2]:0,b=o>>2,g=(o&3)<<4|c>>4,E=(c&15)<<2|m>>6,R=m&63;d||(R=64,s||(E=64)),i.push(n[b],n[g],n[E],n[R])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(b0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;let m=r<t.length?n[t.charAt(r)]:64;++r;let g=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||c==null||m==null||g==null)throw new tp;let E=o<<2|c>>4;if(i.push(E),m!==64){let R=c<<4&240|m>>2;if(i.push(R),g!==64){let O=m<<6&192|g;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},tp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},jR=function(t){let e=b0(t);return v0.encodeByteArray(e,!0)},Tc=function(t){return jR(t).replace(/\./g,"")},ip=function(t){try{return v0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function BR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var zR=()=>BR().__FIREBASE_DEFAULTS__,$R=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ip(t[1]);return e&&JSON.parse(e)},du=()=>{try{return zR()||$R()||qR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rp=t=>{var e,n;return(n=(e=du())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uu=t=>{let e=rp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},op=()=>{var t;return(t=du())===null||t===void 0?void 0:t.config},sp=t=>{var e;return(e=du())===null||e===void 0?void 0:e[`_${t}`]};var lu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function hu(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tc(JSON.stringify(n)),Tc(JSON.stringify(s)),""].join(".")}function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function HR(){var t;let e=(t=du())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function w0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I0(){let t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E0(){return!HR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ap(){try{return typeof indexedDB=="object"}catch{return!1}}function x0(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var GR="FirebaseError",zt=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=GR,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ii.prototype.create)}},Ii=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?WR(o,i):"Error",c=`${this.serviceName}: ${s} (${r}).`;return new zt(r,c,i)}};function WR(t,e){return t.replace(KR,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var KR=/\{\$([^}]+)}/g;function T0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mo(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],s=e[r];if(g0(o)&&g0(s)){if(!mo(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function g0(t){return t!==null&&typeof t=="object"}function Ac(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ss(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function ks(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function A0(t,e){let n=new np(t,e);return n.subscribe.bind(n)}var np=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");QR(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=ep),r.error===void 0&&(r.error=ep),r.complete===void 0&&(r.complete=ep);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function QR(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ep(){}var lj=4*60*60*1e3;function Ze(t){return t&&t._delegate?t._delegate:t}var Ht=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fo="[DEFAULT]";var cp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new lu;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JR(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return x(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);i===c&&s.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:YR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function YR(t){return t===fo?void 0:t}function JR(t){return t.instantiationMode==="EAGER"}var mu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new cp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var XR=[],pe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(pe||{}),ZR={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},eD=pe.INFO,tD={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},nD=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=tD[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},yr=class{constructor(e){this.name=e,this._logLevel=eD,this._logHandler=nD,this._userLogHandler=null,XR.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}};var iD=(t,e)=>e.some(n=>t instanceof n),C0,S0;function rD(){return C0||(C0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oD(){return S0||(S0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var k0=new WeakMap,dp=new WeakMap,R0=new WeakMap,lp=new WeakMap,hp=new WeakMap;function sD(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Jn(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&k0.set(n,t)}).catch(()=>{}),hp.set(e,t),e}function aD(t){if(dp.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});dp.set(t,e)}var up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||R0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function D0(t){up=t(up)}function cD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(fu(this),e,...n);return R0.set(i,e.sort?e.sort():[e]),Jn(i)}:oD().includes(t)?function(...e){return t.apply(fu(this),e),Jn(k0.get(this))}:function(...e){return Jn(t.apply(fu(this),e))}}function lD(t){return typeof t=="function"?cD(t):(t instanceof IDBTransaction&&aD(t),iD(t,rD())?new Proxy(t,up):t)}function Jn(t){if(t instanceof IDBRequest)return sD(t);if(lp.has(t))return lp.get(t);let e=lD(t);return e!==t&&(lp.set(t,e),hp.set(e,t)),e}var fu=t=>hp.get(t);function M0(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(t,e),c=Jn(s);return i&&s.addEventListener("upgradeneeded",d=>{i(Jn(s.result),d.oldVersion,d.newVersion,Jn(s.transaction),d)}),n&&s.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),c}var dD=["get","getKey","getAll","getAllKeys","count"],uD=["put","add","delete","clear"],mp=new Map;function P0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mp.get(e))return mp.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=uD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||dD.includes(n)))return;let o=function(s,...c){return x(this,null,function*(){let d=this.transaction(s,r?"readwrite":"readonly"),m=d.store;return i&&(m=m.index(c.shift())),(yield Promise.all([m[n](...c),r&&d.done]))[0]})};return mp.set(e,o),o}D0(t=>Me(j({},t),{get:(e,n,i)=>P0(e,n)||t.get(e,n,i),has:(e,n)=>!!P0(e,n)||t.has(e,n)}));var pp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hD(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function hD(t){let e=t.getComponent();return e?.type==="VERSION"}var gp="@firebase/app",O0="0.10.10";var Ei=new yr("@firebase/app"),mD="@firebase/app-compat",fD="@firebase/analytics-compat",pD="@firebase/analytics",gD="@firebase/app-check-compat",bD="@firebase/app-check",vD="@firebase/auth",_D="@firebase/auth-compat",yD="@firebase/database",wD="@firebase/database-compat",ID="@firebase/functions",ED="@firebase/functions-compat",xD="@firebase/installations",TD="@firebase/installations-compat",AD="@firebase/messaging",CD="@firebase/messaging-compat",SD="@firebase/performance",kD="@firebase/performance-compat",RD="@firebase/remote-config",DD="@firebase/remote-config-compat",PD="@firebase/storage",MD="@firebase/storage-compat",OD="@firebase/firestore",ND="@firebase/vertexai-preview",FD="@firebase/firestore-compat",LD="firebase",VD="10.13.1";var bp="[DEFAULT]",UD={[gp]:"fire-core",[mD]:"fire-core-compat",[pD]:"fire-analytics",[fD]:"fire-analytics-compat",[bD]:"fire-app-check",[gD]:"fire-app-check-compat",[vD]:"fire-auth",[_D]:"fire-auth-compat",[yD]:"fire-rtdb",[wD]:"fire-rtdb-compat",[ID]:"fire-fn",[ED]:"fire-fn-compat",[xD]:"fire-iid",[TD]:"fire-iid-compat",[AD]:"fire-fcm",[CD]:"fire-fcm-compat",[SD]:"fire-perf",[kD]:"fire-perf-compat",[RD]:"fire-rc",[DD]:"fire-rc-compat",[PD]:"fire-gcs",[MD]:"fire-gcs-compat",[OD]:"fire-fst",[FD]:"fire-fst-compat",[ND]:"fire-vertex","fire-js":"fire-js",[LD]:"fire-js-all"};var Cc=new Map,jD=new Map,vp=new Map;function N0(t,e){try{t.container.addComponent(e)}catch(n){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xn(t){let e=t.name;if(vp.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,t);for(let n of Cc.values())N0(n,t);for(let n of jD.values())N0(n,t);return!0}function po(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kn(t){return t.settings!==void 0}var BD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new Ii("app","Firebase",BD);var _p=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}};var Zn=VD;function Ip(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:bp,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw wr.create("bad-app-name",{appName:String(r)});if(n||(n=op()),!n)throw wr.create("no-options");let o=Cc.get(r);if(o){if(mo(n,o.options)&&mo(i,o.config))return o;throw wr.create("duplicate-app",{appName:r})}let s=new mu(r);for(let d of vp.values())s.addComponent(d);let c=new _p(n,i,s);return Cc.set(r,c),c}function Ir(t=bp){let e=Cc.get(t);if(!e&&t===bp&&op())return Ip();if(!e)throw wr.create("no-app",{appName:t});return e}function pu(){return Array.from(Cc.values())}function Ge(t,e,n){var i;let r=(i=UD[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(c.join(" "));return}Xn(new Ht(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var zD="firebase-heartbeat-database",$D=1,Sc="firebase-heartbeat-store",fp=null;function U0(){return fp||(fp=M0(zD,$D,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sc)}catch(n){console.warn(n)}}}}).catch(t=>{throw wr.create("idb-open",{originalErrorMessage:t.message})})),fp}function qD(t){return x(this,null,function*(){try{let n=(yield U0()).transaction(Sc),i=yield n.objectStore(Sc).get(j0(t));return yield n.done,i}catch(e){if(e instanceof zt)Ei.warn(e.message);else{let n=wr.create("idb-get",{originalErrorMessage:e?.message});Ei.warn(n.message)}}})}function F0(t,e){return x(this,null,function*(){try{let i=(yield U0()).transaction(Sc,"readwrite");yield i.objectStore(Sc).put(e,j0(t)),yield i.done}catch(n){if(n instanceof zt)Ei.warn(n.message);else{let i=wr.create("idb-set",{originalErrorMessage:n?.message});Ei.warn(i.message)}}})}function j0(t){return`${t.name}!${t.options.appId}`}var HD=1024,GD=30*24*60*60*1e3,yp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new wp(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return x(this,null,function*(){var e,n;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=L0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=GD}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ei.warn(i)}})}getHeartbeatsHeader(){return x(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=L0(),{heartbeatsToSend:i,unsentEntries:r}=WD(this._heartbeatsCache.heartbeats),o=Tc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ei.warn(n),""}})}};function L0(){return new Date().toISOString().substring(0,10)}function WD(t,e=HD){let n=[],i=t.slice();for(let r of t){let o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),V0(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),V0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var wp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return x(this,null,function*(){return ap()?x0().then(()=>!0).catch(()=>!1):!1})}read(){return x(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield qD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return x(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return F0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return x(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return F0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function V0(t){return Tc(JSON.stringify({version:2,heartbeats:t})).length}function KD(t){Xn(new Ht("platform-logger",e=>new pp(e),"PRIVATE")),Xn(new Ht("heartbeat",e=>new yp(e),"PRIVATE")),Ge(gp,O0,t),Ge(gp,O0,"esm2017"),Ge("fire-js","")}KD("");var QD="firebase",YD="10.13.1";Ge(QD,YD,"app");var xi=new ls("ANGULARFIRE2_VERSION");function Ds(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var bo=(t,e)=>{let n=e?[e]:pu(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Er=class{constructor(){return bo(JD)}},JD="app-check";function Rs(){}var gu=class{zone;delegate;constructor(e,n=Wv){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},Ep=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rs,{},Rs,Rs)),n.pipe(He({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},xr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new gu(Zone.current)),this.insideAngular=n.run(()=>new gu(Zone.current,Gv)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(z(ae))};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function XD(t){return bu().ngZone.runOutsideAngular(()=>t())}function go(t){return bu().ngZone.run(()=>t())}function ZD(t){return e1(bu())(t)}function e1(t){return function(n){return n=n.lift(new Ep(t.ngZone)),n.pipe(hm(t.outsideAngular),um(t.insideAngular))}}var t1=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),go(()=>t.apply(void 0,i))},dt=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=go(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rs,{},Rs,Rs))),i[o]=t1(i[o],n));let r=XD(()=>t.apply(this,i));if(!e)if(r instanceof $t){let o=bu();return r.pipe(hm(o.outsideAngular),um(o.insideAngular))}else return go(()=>r);return r instanceof $t?r.pipe(ZD):r instanceof Promise?go(()=>new Promise((o,s)=>r.then(c=>go(()=>o(c)),c=>go(()=>s(c))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:go(()=>r)};var Rn=class{constructor(e){return e}},Ti=class{constructor(){return pu()}};function n1(t){return t&&t.length===1?t[0]:new Rn(Ir())}var xp=new Q("angularfire2._apps"),i1={provide:Rn,useFactory:n1,deps:[[new nt,xp]]},r1={provide:Ti,deps:[[new nt,xp]]};function o1(t){return(e,n)=>{let i=n.get(En);Ge("angularfire",xi.full,"core"),Ge("angularfire",xi.full,"app"),Ge("angular",C_.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new Rn(r)}}function Qj(t,...e){return Zt([i1,r1,{provide:xp,useFactory:o1(t),multi:!0,deps:[ae,Ut,xr,...e]}])}var Yj=dt(Ip,!0);function iI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var rI=iI,oI=new Ii("auth","Firebase",iI());var Eu=new yr("@firebase/auth");function s1(t,...e){Eu.logLevel<=pe.WARN&&Eu.warn(`Auth (${Zn}): ${t}`,...e)}function _u(t,...e){Eu.logLevel<=pe.ERROR&&Eu.error(`Auth (${Zn}): ${t}`,...e)}function ti(t,...e){throw Wp(t,...e)}function vo(t,...e){return Wp(t,...e)}function sI(t,e,n){let i=Object.assign(Object.assign({},rI()),{[e]:n});return new Ii("auth","Firebase",i).create(e,{appName:t.name})}function Si(t){return sI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wp(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return oI.create(t,...e)}function re(t,e,...n){if(!t)throw Wp(e,...n)}function Ai(t){let e="INTERNAL ASSERTION FAILED: "+t;throw _u(e),new Error(e)}function Ar(t,e){t||Ai(e)}function Sp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function a1(){return B0()==="http:"||B0()==="https:"}function B0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function c1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a1()||y0()||"connection"in navigator)?navigator.onLine:!0}function l1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var _o=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ar(n>e,"Short delay should be less than long delay!"),this.isMobile=_0()||w0()}get(){return c1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Kp(t,e){Ar(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var xu=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var d1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var u1=new _o(3e4,6e4);function Cr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Sr(o,s,c,d){return x(this,arguments,function*(t,e,n,i,r={}){return aI(t,r,()=>x(this,null,function*(){let m={},b={};i&&(e==="GET"?b=i:m={body:JSON.stringify(i)});let g=Ac(Object.assign({key:t.config.apiKey},b)).slice(1),E=yield t._getAdditionalHeaders();return E["Content-Type"]="application/json",t.languageCode&&(E["X-Firebase-Locale"]=t.languageCode),xu.fetch()(cI(t,t.config.apiHost,n,g),Object.assign({method:e,headers:E,referrerPolicy:"no-referrer"},m))}))})}function aI(t,e,n){return x(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},d1),e);try{let r=new kp(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw vu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[d,m]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw vu(t,"credential-already-in-use",s);if(d==="EMAIL_EXISTS")throw vu(t,"email-already-in-use",s);if(d==="USER_DISABLED")throw vu(t,"user-disabled",s);let b=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw sI(t,b,m);ti(t,b)}}catch(r){if(r instanceof zt)throw r;ti(t,"network-request-failed",{message:String(r)})}})}function Fc(o,s,c,d){return x(this,arguments,function*(t,e,n,i,r={}){let m=yield Sr(t,e,n,i,r);return"mfaPendingCredential"in m&&ti(t,"multi-factor-auth-required",{_serverResponse:m}),m})}function cI(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?Kp(t.config,r):`${t.config.apiScheme}://${r}`}function h1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var kp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(vo(this.auth,"network-request-failed")),u1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function vu(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=vo(t,e,i);return r.customData._tokenResponse=n,r}function z0(t){return t!==void 0&&t.enterprise!==void 0}var Rp=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return h1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function m1(t,e){return x(this,null,function*(){return Sr(t,"GET","/v2/recaptchaConfig",Cr(t,e))})}function f1(t,e){return x(this,null,function*(){return Sr(t,"POST","/v1/accounts:delete",e)})}function lI(t,e){return x(this,null,function*(){return Sr(t,"POST","/v1/accounts:lookup",e)})}function kc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Qp(t,e=!1){return x(this,null,function*(){let n=Ze(t),i=yield n.getIdToken(e),r=Yp(i);re(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:kc(Tp(r.auth_time)),issuedAtTime:kc(Tp(r.iat)),expirationTime:kc(Tp(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Tp(t){return Number(t)*1e3}function Yp(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return _u("JWT malformed, contained fewer than 3 sections"),null;try{let r=ip(n);return r?JSON.parse(r):(_u("Failed to decode base64 JWT payload"),null)}catch(r){return _u("Caught error parsing JWT payload as JSON",r?.toString()),null}}function $0(t){let e=Yp(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Dc(t,e,n=!1){return x(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof zt&&p1(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function p1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Dp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>x(this,null,function*(){yield this.iteration()}),n)}iteration(){return x(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Pc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Tu(t){return x(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield Dc(t,lI(n,{idToken:i}));re(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?dI(o.providerUserInfo):[],c=g1(t.providerData,s),d=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!c?.length,b=d?m:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Pc(o.createdAt,o.lastLoginAt),isAnonymous:b};Object.assign(t,g)})}function Jp(t){return x(this,null,function*(){let e=Ze(t);yield Tu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function g1(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function dI(t){return t.map(e=>{var{providerId:n}=e,i=dm(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function b1(t,e){return x(this,null,function*(){let n=yield aI(t,{},()=>x(this,null,function*(){let i=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=cI(t,r,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",xu.fetch()(s,{method:"POST",headers:c,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function v1(t,e){return x(this,null,function*(){return Sr(t,"POST","/v2/accounts:revokeToken",Cr(t,e))})}var Rc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");let n=$0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return x(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return x(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield b1(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new t;return i&&(re(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(re(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ai("not implemented")}};function Tr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ps=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=dm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return x(this,null,function*(){let n=yield Dc(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Qp(this,e)}reload(){return Jp(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return x(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Tu(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return x(this,null,function*(){if(kn(this.auth.app))return Promise.reject(Si(this.auth));let e=yield this.getIdToken();return yield Dc(this,f1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,s,c,d,m,b;let g=(i=n.displayName)!==null&&i!==void 0?i:void 0,E=(r=n.email)!==null&&r!==void 0?r:void 0,R=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,O=(s=n.photoURL)!==null&&s!==void 0?s:void 0,F=(c=n.tenantId)!==null&&c!==void 0?c:void 0,D=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,U=(m=n.createdAt)!==null&&m!==void 0?m:void 0,Z=(b=n.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:J,emailVerified:X,isAnonymous:Ie,providerData:se,stsTokenManager:A}=n;re(J&&A,e,"internal-error");let y=Rc.fromJSON(this.name,A);re(typeof J=="string",e,"internal-error"),Tr(g,e.name),Tr(E,e.name),re(typeof X=="boolean",e,"internal-error"),re(typeof Ie=="boolean",e,"internal-error"),Tr(R,e.name),Tr(O,e.name),Tr(F,e.name),Tr(D,e.name),Tr(U,e.name),Tr(Z,e.name);let w=new t({uid:J,auth:e,email:E,emailVerified:X,displayName:g,isAnonymous:Ie,photoURL:O,phoneNumber:R,tenantId:F,stsTokenManager:y,createdAt:U,lastLoginAt:Z});return se&&Array.isArray(se)&&(w.providerData=se.map(T=>Object.assign({},T))),D&&(w._redirectEventId=D),w}static _fromIdTokenResponse(e,n,i=!1){return x(this,null,function*(){let r=new Rc;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Tu(o),o})}static _fromGetAccountInfoResponse(e,n,i){return x(this,null,function*(){let r=n.users[0];re(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?dI(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,c=new Rc;c.updateFromIdToken(i);let d=new t({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:s}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Pc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,m),d})}};var q0=new Map;function Ci(t){Ar(t instanceof Function,"Expected a class definition");let e=q0.get(t);return e?(Ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q0.set(t,e),e)}var _1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return x(this,null,function*(){return!0})}_set(n,i){return x(this,null,function*(){this.storage[n]=i})}_get(n){return x(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return x(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),Pp=_1;function yu(t,e,n){return`firebase:${t}:${e}:${n}`}var Au=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=yu(this.userKey,r.apiKey,o),this.fullPersistenceKey=yu("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return x(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ps._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return x(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return x(this,null,function*(){if(!n.length)return new t(Ci(Pp),e,i);let r=(yield Promise.all(n.map(m=>x(this,null,function*(){if(yield m._isAvailable())return m})))).filter(m=>m),o=r[0]||Ci(Pp),s=yu(i,e.config.apiKey,e.name),c=null;for(let m of n)try{let b=yield m._get(s);if(b){let g=Ps._fromJSON(e,b);m!==o&&(c=g),o=m;break}}catch{}let d=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new t(o,e,i):(o=d[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(m=>x(this,null,function*(){if(m!==o)try{yield m._remove(s)}catch{}}))),new t(o,e,i))})}};function H0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gI(e))return"Blackberry";if(bI(e))return"Webos";if(hI(e))return"Safari";if((e.includes("chrome/")||mI(e))&&!e.includes("edge/"))return"Chrome";if(pI(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function uI(t=yt()){return/firefox\//i.test(t)}function hI(t=yt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mI(t=yt()){return/crios\//i.test(t)}function fI(t=yt()){return/iemobile/i.test(t)}function pI(t=yt()){return/android/i.test(t)}function gI(t=yt()){return/blackberry/i.test(t)}function bI(t=yt()){return/webos/i.test(t)}function Xp(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function y1(t=yt()){var e;return Xp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function w1(){return I0()&&document.documentMode===10}function vI(t=yt()){return Xp(t)||pI(t)||bI(t)||gI(t)||/windows phone/i.test(t)||fI(t)}function _I(t,e=[]){let n;switch(t){case"Browser":n=H0(yt());break;case"Worker":n=`${H0(yt())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zn}/${i}`}var Mp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((s,c)=>{try{let d=e(o);s(d)}catch(d){c(d)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return x(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function I1(n){return x(this,arguments,function*(t,e={}){return Sr(t,"GET","/v2/passwordPolicy",Cr(t,e))})}var E1=6,Op=class{constructor(e){var n,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:E1,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,s,c;let d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(r=d.containsLowercaseLetter)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(s=d.containsNumericCharacter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Np=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cu(this),this.idTokenSubscription=new Cu(this),this.beforeStateQueue=new Mp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(()=>x(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Au.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return x(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return x(this,null,function*(){try{let n=yield lI(this,{idToken:e}),i=yield Ps._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return x(this,null,function*(){var n;if(kn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=r?._redirectEventId,d=yield this.tryRedirectSignIn(e);(!s||s===c)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return x(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return x(this,null,function*(){try{yield Tu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=l1()}_delete(){return x(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return x(this,null,function*(){if(kn(this.app))return Promise.reject(Si(this));let n=e?Ze(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return x(this,null,function*(){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>x(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return x(this,null,function*(){return kn(this.app)?Promise.reject(Si(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return kn(this.app)?Promise.reject(Si(this)):this.queue(()=>x(this,null,function*(){yield this.assertedPersistence.setPersistence(Ci(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return x(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return x(this,null,function*(){let e=yield I1(this),n=new Op(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ii("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return x(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield v1(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return x(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return x(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ci(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=yield Au.create(this,[Ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return x(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>x(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return x(this,null,function*(){if(e===this.currentUser)return this.queue(()=>x(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let d=e.addObserver(n,i,r);return()=>{s=!0,d()}}else{let d=e.addObserver(n);return()=>{s=!0,d()}}}directlySetCurrentUser(e){return x(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_I(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return x(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return x(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&s1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function wo(t){return Ze(t)}var Cu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=A0(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ou={loadJS(){return x(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x1(t){Ou=t}function yI(t){return Ou.loadJS(t)}function T1(){return Ou.recaptchaEnterpriseScript}function A1(){return Ou.gapiScript}function wI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var C1="recaptcha-enterprise",S1="NO_RECAPTCHA",Fp=class{constructor(e){this.type=C1,this.auth=wo(e)}verify(e="verify",n=!1){return x(this,null,function*(){function i(o){return x(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,c)=>x(this,null,function*(){m1(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let m=new Rp(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,s(m.siteKey)}}).catch(d=>{c(d)})}))})}function r(o,s,c){let d=window.grecaptcha;z0(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(m=>{s(m)}).catch(()=>{s(S1)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{i(this.auth).then(c=>{if(!n&&z0(window.grecaptcha))r(c,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let d=T1();d.length!==0&&(d+=c),yI(d).then(()=>{r(c,o,s)}).catch(m=>{s(m)})}}).catch(c=>{s(c)})})})}};function G0(t,e,n,i=!1){return x(this,null,function*(){let r=new Fp(t),o;try{o=yield r.verify(n)}catch{o=yield r.verify(n,!0)}let s=Object.assign({},e);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Lp(t,e,n,i){return x(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield G0(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(o=>x(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield G0(t,e,n,n==="getOobCode");return i(t,s)}else return Promise.reject(o)}))})}function Zp(t,e){let n=po(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),o=n.getOptions();if(mo(o,e??{}))return r;ti(r,"already-initialized")}return n.initialize({options:e})}function k1(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ci);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function eg(t,e,n){let i=wo(t);re(i._canInitEmulator,i,"emulator-config-failed"),re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,o=II(e),{host:s,port:c}=R1(e),d=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${s}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||D1()}function II(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function R1(t){let e=II(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:W0(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:W0(s)}}}function W0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function D1(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Mc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,n){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}};function P1(t,e){return x(this,null,function*(){return Sr(t,"POST","/v1/accounts:signUp",e)})}function M1(t,e){return x(this,null,function*(){return Fc(t,"POST","/v1/accounts:signInWithPassword",Cr(t,e))})}function O1(t,e){return x(this,null,function*(){return Fc(t,"POST","/v1/accounts:signInWithEmailLink",Cr(t,e))})}function N1(t,e){return x(this,null,function*(){return Fc(t,"POST","/v1/accounts:signInWithEmailLink",Cr(t,e))})}var Oc=class t extends Mc{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return x(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,n,"signInWithPassword",M1);case"emailLink":return O1(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}})}_linkToIdToken(e,n){return x(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lp(e,i,"signUpPassword",P1);case"emailLink":return N1(e,{idToken:n,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ap(t,e){return x(this,null,function*(){return Fc(t,"POST","/v1/accounts:signInWithIdp",Cr(t,e))})}function F1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L1(t){let e=Ss(ks(t)).link,n=e?Ss(ks(e)).deep_link_id:null,i=Ss(ks(t)).deep_link_id;return(i?Ss(ks(i)).link:null)||i||n||e||t}var Su=class t{constructor(e){var n,i,r,o,s,c;let d=Ss(ks(e)),m=(n=d.apiKey)!==null&&n!==void 0?n:null,b=(i=d.oobCode)!==null&&i!==void 0?i:null,g=F1((r=d.mode)!==null&&r!==void 0?r:null);re(m&&b&&g,"argument-error"),this.apiKey=m,this.operation=g,this.code=b,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=d.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=L1(e);try{return new t(n)}catch{return null}}};var EI=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return Oc._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=Su.parseLink(i);return re(r,"argument-error"),Oc._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),ku=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Vp=class extends ku{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function V1(t,e){return x(this,null,function*(){return Fc(t,"POST","/v1/accounts:signUp",Cr(t,e))})}var Ms=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return x(this,null,function*(){let o=yield Ps._fromIdTokenResponse(e,i,r),s=K0(i);return new t({user:o,providerId:s,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return x(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=K0(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function K0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Up=class t extends zt{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function xI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Up._fromErrorAndOperation(t,o,e,i):o})}function U1(t,e,n=!1){return x(this,null,function*(){let i=yield Dc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ms._forOperation(t,"link",i)})}function j1(t,e,n=!1){return x(this,null,function*(){let{auth:i}=t;if(kn(i.app))return Promise.reject(Si(i));let r="reauthenticate";try{let o=yield Dc(t,xI(i,r,e,t),n);re(o.idToken,i,"internal-error");let s=Yp(o.idToken);re(s,i,"internal-error");let{sub:c}=s;return re(t.uid===c,i,"user-mismatch"),Ms._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ti(i,"user-mismatch"),o}})}function TI(t,e,n=!1){return x(this,null,function*(){if(kn(t.app))return Promise.reject(Si(t));let i="signIn",r=yield xI(t,i,e),o=yield Ms._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(o.user)),o})}function tg(t,e){return x(this,null,function*(){return TI(wo(t),e)})}function AI(t){return x(this,null,function*(){let e=wo(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ng(t,e,n){return x(this,null,function*(){if(kn(t.app))return Promise.reject(Si(t));let i=wo(t),s=yield Lp(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",V1).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&AI(t),d}),c=yield Ms._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(c.user),c})}function ig(t,e,n){return kn(t.app)?Promise.reject(Si(t)):tg(Ze(t),EI.credential(e,n)).catch(i=>x(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&AI(t),i}))}function rg(t,e,n,i){return Ze(t).onIdTokenChanged(e,n,i)}function og(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function sg(t,e,n,i){return Ze(t).onAuthStateChanged(e,n,i)}function ag(t){return Ze(t).signOut()}var Ru="__sak";var Du=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ru,"1"),this.storage.removeItem(Ru),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var B1=1e3,z1=10,$1=(()=>{class t extends Du{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vI(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&n(i,o,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}let r=n.key;i?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);w1()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,z1):o()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},B1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return x(this,null,function*(){yield ir(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return x(this,null,function*(){let i=yield ir(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return x(this,null,function*(){yield ir(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),CI=$1;var q1=(()=>{class t extends Du{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),cg=q1;function H1(t){return Promise.all(t.map(e=>x(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var G1=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(o=>o.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return x(this,null,function*(){let i=n,{eventId:r,eventType:o,data:s}=i.data,c=this.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let d=Array.from(c).map(b=>x(this,null,function*(){return b(i.origin,s)})),m=yield H1(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function SI(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var jp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return x(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((c,d)=>{let m=SI("",20);r.port1.start();let b=setTimeout(()=>{d(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(g){let E=g;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(b),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(E.data.response);break;default:clearTimeout(b),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ei(){return window}function W1(t){ei().location.href=t}function kI(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}function K1(){return x(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Q1(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Y1(){return kI()?self:null}var RI="firebaseLocalStorageDb",J1=1,Pu="firebaseLocalStorage",DI="fbase_key",yo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Nu(t,e){return t.transaction([Pu],e?"readwrite":"readonly").objectStore(Pu)}function X1(){let t=indexedDB.deleteDatabase(RI);return new yo(t).toPromise()}function Bp(){let t=indexedDB.open(RI,J1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Pu,{keyPath:DI})}catch(r){n(r)}}),t.addEventListener("success",()=>x(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Pu)?e(i):(i.close(),yield X1(),e(yield Bp()))}))})}function Q0(t,e,n){return x(this,null,function*(){let i=Nu(t,!0).put({[DI]:e,value:n});return new yo(i).toPromise()})}function Z1(t,e){return x(this,null,function*(){let n=Nu(t,!1).get(e),i=yield new yo(n).toPromise();return i===void 0?null:i.value})}function Y0(t,e){let n=Nu(t,!0).delete(e);return new yo(n).toPromise()}var eP=800,tP=3,nP=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return x(this,null,function*(){return this.db?this.db:(this.db=yield Bp(),this.db)})}_withRetries(n){return x(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>tP)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return x(this,null,function*(){return kI()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return x(this,null,function*(){this.receiver=G1._getInstance(Y1()),this.receiver._subscribe("keyChanged",(n,i)=>x(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>x(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return x(this,null,function*(){var n,i;if(this.activeServiceWorker=yield K1(),!this.activeServiceWorker)return;this.sender=new jp(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return x(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Q1()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return x(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Bp();return yield Q0(n,Ru,"1"),yield Y0(n,Ru),!0}catch{}return!1})}_withPendingWrite(n){return x(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return x(this,null,function*(){return this._withPendingWrite(()=>x(this,null,function*(){return yield this._withRetries(r=>Q0(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return x(this,null,function*(){let i=yield this._withRetries(r=>Z1(r,n));return this.localCache[n]=i,i})}_remove(n){return x(this,null,function*(){return this._withPendingWrite(()=>x(this,null,function*(){return yield this._withRetries(i=>Y0(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return x(this,null,function*(){let n=yield this._withRetries(o=>{let s=Nu(o,!1).getAll();return new yo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>x(this,null,function*(){return this._poll()}),eP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),PI=nP;var rB=wI("rcb"),oB=new _o(3e4,6e4);function iP(t,e){return e?Ci(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Nc=class extends Mc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ap(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ap(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ap(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function rP(t){return TI(t.auth,new Nc(t),t.bypassAuthState)}function oP(t){let{auth:e,user:n}=t;return re(n,e,"internal-error"),j1(n,new Nc(t),t.bypassAuthState)}function sP(t){return x(this,null,function*(){let{auth:e,user:n}=t;return re(n,e,"internal-error"),U1(n,new Nc(t),t.bypassAuthState)})}var zp=class{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>x(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return x(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let d={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(d))}catch(m){this.reject(m)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rP;case"linkViaPopup":case"linkViaRedirect":return sP;case"reauthViaPopup":case"reauthViaRedirect":return oP;default:ti(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var sB=new _o(2e3,1e4);var aP="pendingRedirect",wu=new Map,$p=class t extends zp{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return x(this,null,function*(){let e=wu.get(this.auth._key());if(!e){try{let i=(yield cP(this.resolver,this.auth))?yield ir(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}wu.set(this.auth._key(),e)}return this.bypassAuthState||wu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return x(this,null,function*(){if(e.type==="signInViaRedirect")return ir(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,ir(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return x(this,null,function*(){})}cleanUp(){}};function cP(t,e){return x(this,null,function*(){let n=uP(e),i=dP(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function lP(t,e){wu.set(t._key(),e)}function dP(t){return Ci(t._redirectPersistence)}function uP(t){return yu(aP,t.config.apiKey,t.name)}function hP(t,e,n=!1){return x(this,null,function*(){if(kn(t.app))return Promise.reject(Si(t));let i=wo(t),r=iP(i,e),s=yield new $p(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var mP=10*60*1e3,qp=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!MI(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(vo(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mP&&this.cachedEventUids.clear(),this.cachedEventUids.has(J0(e))}saveEventToCache(e){this.cachedEventUids.add(J0(e)),this.lastProcessedEventTime=Date.now()}};function J0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function fP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MI(t);default:return!1}}function pP(n){return x(this,arguments,function*(t,e={}){return Sr(t,"GET","/v1/projects",e)})}var gP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bP=/^https?/;function vP(t){return x(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield pP(t);for(let n of e)try{if(_P(n))return}catch{}ti(t,"unauthorized-domain")})}function _P(t){let e=Sp(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!bP.test(n))return!1;if(gP.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var yP=new _o(3e4,6e4);function X0(){let t=ei().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wP(t){return new Promise((e,n)=>{var i,r,o;function s(){X0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X0(),n(vo(t,"network-request-failed"))},timeout:yP.get()})}if(!((r=(i=ei().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=ei().gapi)===null||o===void 0)&&o.load)s();else{let c=wI("iframefcb");return ei()[c]=()=>{gapi.load?s():n(vo(t,"network-request-failed"))},yI(`${A1()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Iu=null,e})}var Iu=null;function IP(t){return Iu=Iu||wP(t),Iu}var EP=new _o(5e3,15e3),xP="__/auth/iframe",TP="emulator/auth/iframe",AP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SP(t){let e=t.config;re(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Kp(e,TP):`https://${t.config.authDomain}/${xP}`,i={apiKey:e.apiKey,appName:t.name,v:Zn},r=CP.get(t.config.apiHost);r&&(i.eid=r);let o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Ac(i).slice(1)}`}function kP(t){return x(this,null,function*(){let e=yield IP(t),n=ei().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:SP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AP,dontclear:!0},i=>new Promise((r,o)=>x(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=vo(t,"network-request-failed"),c=ei().setTimeout(()=>{o(s)},EP.get());function d(){ei().clearTimeout(c),r(i)}i.ping(d).then(d,()=>{o(s)})})))})}var RP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DP=500,PP=600,MP="_blank",OP="http://localhost",Mu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function NP(t,e,n,i=DP,r=PP){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),c="",d=Object.assign(Object.assign({},RP),{width:i.toString(),height:r.toString(),top:o,left:s}),m=yt().toLowerCase();n&&(c=mI(m)?MP:n),uI(m)&&(e=e||OP,d.scrollbars="yes");let b=Object.entries(d).reduce((E,[R,O])=>`${E}${R}=${O},`,"");if(y1(m)&&c!=="_self")return FP(e||"",c),new Mu(null);let g=window.open(e||"",c,b);re(g,t,"popup-blocked");try{g.focus()}catch{}return new Mu(g)}function FP(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var LP="__/auth/handler",VP="emulator/auth/handler",UP=encodeURIComponent("fac");function Z0(t,e,n,i,r,o){return x(this,null,function*(){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Zn,eventId:r};if(e instanceof ku){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",T0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[b,g]of Object.entries(o||{}))s[b]=g}if(e instanceof Vp){let b=e.getScopes().filter(g=>g!=="");b.length>0&&(s.scopes=b.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let b of Object.keys(c))c[b]===void 0&&delete c[b];let d=yield t._getAppCheckToken(),m=d?`#${UP}=${encodeURIComponent(d)}`:"";return`${jP(t)}?${Ac(c).slice(1)}${m}`})}function jP({config:t}){return t.emulator?Kp(t,VP):`https://${t.authDomain}/${LP}`}var Cp="webStorageSupport",Hp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cg,this._completeRedirectFn=hP,this._overrideRedirectResult=lP}_openPopup(e,n,i,r){return x(this,null,function*(){var o;Ar((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Z0(e,n,i,Sp(),r);return NP(e,s,SI())})}_openRedirect(e,n,i,r){return x(this,null,function*(){yield this._originValidation(e);let o=yield Z0(e,n,i,Sp(),r);return W1(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Ar(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return x(this,null,function*(){let n=yield kP(e),i=new qp(e);return n.register("authEvent",r=>(re(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cp,{type:Cp},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[Cp];s!==void 0&&n(!!s),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vI()||hI()||Xp()}},OI=Hp;var eI="@firebase/auth",tI="1.7.8";var Gp=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return x(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function BP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zP(t){Xn(new Ht("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=i.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let d={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_I(t)},m=new Np(i,r,o,d);return k1(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Xn(new Ht("auth-internal",e=>{let n=wo(e.getProvider("auth").getImmediate());return(i=>new Gp(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ge(eI,tI,BP(t)),Ge(eI,tI,"esm2017")}var $P=5*60,qP=sp("authIdTokenMaxAge")||$P,nI=null,HP=t=>e=>x(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>qP)return;let r=n?.token;nI!==r&&(nI=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function lg(t=Ir()){let e=po(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Zp(t,{popupRedirectResolver:OI,persistence:[PI,CI,cg]}),i=sp("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=HP(o.toString());og(n,s,()=>s(n.currentUser)),rg(n,c=>s(c))}}let r=rp("auth");return r&&eg(n,`http://${r}`),n}function GP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}x1({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let o=vo("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",GP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zP("Browser");var NI="auth",ki=class{constructor(e){return e}},Io=class{constructor(){return bo(NI)}};var dg=new Q("angularfire2.auth-instances");function NM(t,e){let n=Ds(NI,t,e);return n&&new ki(n)}function FM(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new ki(i)}}var LM={provide:Io,deps:[[new nt,dg]]},VM={provide:ki,useFactory:NM,deps:[[new nt,dg],Rn]};function $B(t,...e){return Ge("angularfire",xi.full,"auth"),Zt([VM,LM,{provide:dg,useFactory:FM(t),multi:!0,deps:[ae,Ut,xr,Ti,[new nt,Er],...e]}])}var FI=dt(ng,!0);var qB=dt(lg,!0);var LI=dt(sg,!0);var VI=dt(ig,!0);var UI=dt(ag,!0);var BI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zI={};var kr,ug;(function(){var t;function e(A,y){function w(){}w.prototype=y.prototype,A.D=y.prototype,A.prototype=new w,A.prototype.constructor=A,A.C=function(T,C,S){for(var I=Array(arguments.length-2),fn=2;fn<arguments.length;fn++)I[fn-2]=arguments[fn];return y.prototype[C].apply(T,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,y,w){w||(w=0);var T=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)T[C]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(C=0;16>C;++C)T[C]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=A.g[0],w=A.g[1],C=A.g[2];var S=A.g[3],I=y+(S^w&(C^S))+T[0]+3614090360&4294967295;y=w+(I<<7&4294967295|I>>>25),I=S+(C^y&(w^C))+T[1]+3905402710&4294967295,S=y+(I<<12&4294967295|I>>>20),I=C+(w^S&(y^w))+T[2]+606105819&4294967295,C=S+(I<<17&4294967295|I>>>15),I=w+(y^C&(S^y))+T[3]+3250441966&4294967295,w=C+(I<<22&4294967295|I>>>10),I=y+(S^w&(C^S))+T[4]+4118548399&4294967295,y=w+(I<<7&4294967295|I>>>25),I=S+(C^y&(w^C))+T[5]+1200080426&4294967295,S=y+(I<<12&4294967295|I>>>20),I=C+(w^S&(y^w))+T[6]+2821735955&4294967295,C=S+(I<<17&4294967295|I>>>15),I=w+(y^C&(S^y))+T[7]+4249261313&4294967295,w=C+(I<<22&4294967295|I>>>10),I=y+(S^w&(C^S))+T[8]+1770035416&4294967295,y=w+(I<<7&4294967295|I>>>25),I=S+(C^y&(w^C))+T[9]+2336552879&4294967295,S=y+(I<<12&4294967295|I>>>20),I=C+(w^S&(y^w))+T[10]+4294925233&4294967295,C=S+(I<<17&4294967295|I>>>15),I=w+(y^C&(S^y))+T[11]+2304563134&4294967295,w=C+(I<<22&4294967295|I>>>10),I=y+(S^w&(C^S))+T[12]+1804603682&4294967295,y=w+(I<<7&4294967295|I>>>25),I=S+(C^y&(w^C))+T[13]+4254626195&4294967295,S=y+(I<<12&4294967295|I>>>20),I=C+(w^S&(y^w))+T[14]+2792965006&4294967295,C=S+(I<<17&4294967295|I>>>15),I=w+(y^C&(S^y))+T[15]+1236535329&4294967295,w=C+(I<<22&4294967295|I>>>10),I=y+(C^S&(w^C))+T[1]+4129170786&4294967295,y=w+(I<<5&4294967295|I>>>27),I=S+(w^C&(y^w))+T[6]+3225465664&4294967295,S=y+(I<<9&4294967295|I>>>23),I=C+(y^w&(S^y))+T[11]+643717713&4294967295,C=S+(I<<14&4294967295|I>>>18),I=w+(S^y&(C^S))+T[0]+3921069994&4294967295,w=C+(I<<20&4294967295|I>>>12),I=y+(C^S&(w^C))+T[5]+3593408605&4294967295,y=w+(I<<5&4294967295|I>>>27),I=S+(w^C&(y^w))+T[10]+38016083&4294967295,S=y+(I<<9&4294967295|I>>>23),I=C+(y^w&(S^y))+T[15]+3634488961&4294967295,C=S+(I<<14&4294967295|I>>>18),I=w+(S^y&(C^S))+T[4]+3889429448&4294967295,w=C+(I<<20&4294967295|I>>>12),I=y+(C^S&(w^C))+T[9]+568446438&4294967295,y=w+(I<<5&4294967295|I>>>27),I=S+(w^C&(y^w))+T[14]+3275163606&4294967295,S=y+(I<<9&4294967295|I>>>23),I=C+(y^w&(S^y))+T[3]+4107603335&4294967295,C=S+(I<<14&4294967295|I>>>18),I=w+(S^y&(C^S))+T[8]+1163531501&4294967295,w=C+(I<<20&4294967295|I>>>12),I=y+(C^S&(w^C))+T[13]+2850285829&4294967295,y=w+(I<<5&4294967295|I>>>27),I=S+(w^C&(y^w))+T[2]+4243563512&4294967295,S=y+(I<<9&4294967295|I>>>23),I=C+(y^w&(S^y))+T[7]+1735328473&4294967295,C=S+(I<<14&4294967295|I>>>18),I=w+(S^y&(C^S))+T[12]+2368359562&4294967295,w=C+(I<<20&4294967295|I>>>12),I=y+(w^C^S)+T[5]+4294588738&4294967295,y=w+(I<<4&4294967295|I>>>28),I=S+(y^w^C)+T[8]+2272392833&4294967295,S=y+(I<<11&4294967295|I>>>21),I=C+(S^y^w)+T[11]+1839030562&4294967295,C=S+(I<<16&4294967295|I>>>16),I=w+(C^S^y)+T[14]+4259657740&4294967295,w=C+(I<<23&4294967295|I>>>9),I=y+(w^C^S)+T[1]+2763975236&4294967295,y=w+(I<<4&4294967295|I>>>28),I=S+(y^w^C)+T[4]+1272893353&4294967295,S=y+(I<<11&4294967295|I>>>21),I=C+(S^y^w)+T[7]+4139469664&4294967295,C=S+(I<<16&4294967295|I>>>16),I=w+(C^S^y)+T[10]+3200236656&4294967295,w=C+(I<<23&4294967295|I>>>9),I=y+(w^C^S)+T[13]+681279174&4294967295,y=w+(I<<4&4294967295|I>>>28),I=S+(y^w^C)+T[0]+3936430074&4294967295,S=y+(I<<11&4294967295|I>>>21),I=C+(S^y^w)+T[3]+3572445317&4294967295,C=S+(I<<16&4294967295|I>>>16),I=w+(C^S^y)+T[6]+76029189&4294967295,w=C+(I<<23&4294967295|I>>>9),I=y+(w^C^S)+T[9]+3654602809&4294967295,y=w+(I<<4&4294967295|I>>>28),I=S+(y^w^C)+T[12]+3873151461&4294967295,S=y+(I<<11&4294967295|I>>>21),I=C+(S^y^w)+T[15]+530742520&4294967295,C=S+(I<<16&4294967295|I>>>16),I=w+(C^S^y)+T[2]+3299628645&4294967295,w=C+(I<<23&4294967295|I>>>9),I=y+(C^(w|~S))+T[0]+4096336452&4294967295,y=w+(I<<6&4294967295|I>>>26),I=S+(w^(y|~C))+T[7]+1126891415&4294967295,S=y+(I<<10&4294967295|I>>>22),I=C+(y^(S|~w))+T[14]+2878612391&4294967295,C=S+(I<<15&4294967295|I>>>17),I=w+(S^(C|~y))+T[5]+4237533241&4294967295,w=C+(I<<21&4294967295|I>>>11),I=y+(C^(w|~S))+T[12]+1700485571&4294967295,y=w+(I<<6&4294967295|I>>>26),I=S+(w^(y|~C))+T[3]+2399980690&4294967295,S=y+(I<<10&4294967295|I>>>22),I=C+(y^(S|~w))+T[10]+4293915773&4294967295,C=S+(I<<15&4294967295|I>>>17),I=w+(S^(C|~y))+T[1]+2240044497&4294967295,w=C+(I<<21&4294967295|I>>>11),I=y+(C^(w|~S))+T[8]+1873313359&4294967295,y=w+(I<<6&4294967295|I>>>26),I=S+(w^(y|~C))+T[15]+4264355552&4294967295,S=y+(I<<10&4294967295|I>>>22),I=C+(y^(S|~w))+T[6]+2734768916&4294967295,C=S+(I<<15&4294967295|I>>>17),I=w+(S^(C|~y))+T[13]+1309151649&4294967295,w=C+(I<<21&4294967295|I>>>11),I=y+(C^(w|~S))+T[4]+4149444226&4294967295,y=w+(I<<6&4294967295|I>>>26),I=S+(w^(y|~C))+T[11]+3174756917&4294967295,S=y+(I<<10&4294967295|I>>>22),I=C+(y^(S|~w))+T[2]+718787259&4294967295,C=S+(I<<15&4294967295|I>>>17),I=w+(S^(C|~y))+T[9]+3951481745&4294967295,A.g[0]=A.g[0]+y&4294967295,A.g[1]=A.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,A.g[2]=A.g[2]+C&4294967295,A.g[3]=A.g[3]+S&4294967295}i.prototype.u=function(A,y){y===void 0&&(y=A.length);for(var w=y-this.blockSize,T=this.B,C=this.h,S=0;S<y;){if(C==0)for(;S<=w;)r(this,A,S),S+=this.blockSize;if(typeof A=="string"){for(;S<y;)if(T[C++]=A.charCodeAt(S++),C==this.blockSize){r(this,T),C=0;break}}else for(;S<y;)if(T[C++]=A[S++],C==this.blockSize){r(this,T),C=0;break}}this.h=C,this.o+=y},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var y=1;y<A.length-8;++y)A[y]=0;var w=8*this.o;for(y=A.length-8;y<A.length;++y)A[y]=w&255,w/=256;for(this.u(A),A=Array(16),y=w=0;4>y;++y)for(var T=0;32>T;T+=8)A[w++]=this.g[y]>>>T&255;return A};function o(A,y){var w=c;return Object.prototype.hasOwnProperty.call(w,A)?w[A]:w[A]=y(A)}function s(A,y){this.h=y;for(var w=[],T=!0,C=A.length-1;0<=C;C--){var S=A[C]|0;T&&S==y||(w[C]=S,T=!1)}this.g=w}var c={};function d(A){return-128<=A&&128>A?o(A,function(y){return new s([y|0],0>y?-1:0)}):new s([A|0],0>A?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return g;if(0>A)return D(m(-A));for(var y=[],w=1,T=0;A>=w;T++)y[T]=A/w|0,w*=4294967296;return new s(y,0)}function b(A,y){if(A.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(A.charAt(0)=="-")return D(b(A.substring(1),y));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=m(Math.pow(y,8)),T=g,C=0;C<A.length;C+=8){var S=Math.min(8,A.length-C),I=parseInt(A.substring(C,C+S),y);8>S?(S=m(Math.pow(y,S)),T=T.j(S).add(m(I))):(T=T.j(w),T=T.add(m(I)))}return T}var g=d(0),E=d(1),R=d(16777216);t=s.prototype,t.m=function(){if(F(this))return-D(this).m();for(var A=0,y=1,w=0;w<this.g.length;w++){var T=this.i(w);A+=(0<=T?T:4294967296+T)*y,y*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O(this))return"0";if(F(this))return"-"+D(this).toString(A);for(var y=m(Math.pow(A,6)),w=this,T="";;){var C=X(w,y).g;w=U(w,C.j(y));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(A);if(w=C,O(w))return S+T;for(;6>S.length;)S="0"+S;T=S+T}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function O(A){if(A.h!=0)return!1;for(var y=0;y<A.g.length;y++)if(A.g[y]!=0)return!1;return!0}function F(A){return A.h==-1}t.l=function(A){return A=U(this,A),F(A)?-1:O(A)?0:1};function D(A){for(var y=A.g.length,w=[],T=0;T<y;T++)w[T]=~A.g[T];return new s(w,~A.h).add(E)}t.abs=function(){return F(this)?D(this):this},t.add=function(A){for(var y=Math.max(this.g.length,A.g.length),w=[],T=0,C=0;C<=y;C++){var S=T+(this.i(C)&65535)+(A.i(C)&65535),I=(S>>>16)+(this.i(C)>>>16)+(A.i(C)>>>16);T=I>>>16,S&=65535,I&=65535,w[C]=I<<16|S}return new s(w,w[w.length-1]&-2147483648?-1:0)};function U(A,y){return A.add(D(y))}t.j=function(A){if(O(this)||O(A))return g;if(F(this))return F(A)?D(this).j(D(A)):D(D(this).j(A));if(F(A))return D(this.j(D(A)));if(0>this.l(R)&&0>A.l(R))return m(this.m()*A.m());for(var y=this.g.length+A.g.length,w=[],T=0;T<2*y;T++)w[T]=0;for(T=0;T<this.g.length;T++)for(var C=0;C<A.g.length;C++){var S=this.i(T)>>>16,I=this.i(T)&65535,fn=A.i(C)>>>16,Li=A.i(C)&65535;w[2*T+2*C]+=I*Li,Z(w,2*T+2*C),w[2*T+2*C+1]+=S*Li,Z(w,2*T+2*C+1),w[2*T+2*C+1]+=I*fn,Z(w,2*T+2*C+1),w[2*T+2*C+2]+=S*fn,Z(w,2*T+2*C+2)}for(T=0;T<y;T++)w[T]=w[2*T+1]<<16|w[2*T];for(T=y;T<2*y;T++)w[T]=0;return new s(w,0)};function Z(A,y){for(;(A[y]&65535)!=A[y];)A[y+1]+=A[y]>>>16,A[y]&=65535,y++}function J(A,y){this.g=A,this.h=y}function X(A,y){if(O(y))throw Error("division by zero");if(O(A))return new J(g,g);if(F(A))return y=X(D(A),y),new J(D(y.g),D(y.h));if(F(y))return y=X(A,D(y)),new J(D(y.g),y.h);if(30<A.g.length){if(F(A)||F(y))throw Error("slowDivide_ only works with positive integers.");for(var w=E,T=y;0>=T.l(A);)w=Ie(w),T=Ie(T);var C=se(w,1),S=se(T,1);for(T=se(T,2),w=se(w,2);!O(T);){var I=S.add(T);0>=I.l(A)&&(C=C.add(w),S=I),T=se(T,1),w=se(w,1)}return y=U(A,C.j(y)),new J(C,y)}for(C=g;0<=A.l(y);){for(w=Math.max(1,Math.floor(A.m()/y.m())),T=Math.ceil(Math.log(w)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),S=m(w),I=S.j(y);F(I)||0<I.l(A);)w-=T,S=m(w),I=S.j(y);O(S)&&(S=E),C=C.add(S),A=U(A,I)}return new J(C,A)}t.A=function(A){return X(this,A).h},t.and=function(A){for(var y=Math.max(this.g.length,A.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)&A.i(T);return new s(w,this.h&A.h)},t.or=function(A){for(var y=Math.max(this.g.length,A.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)|A.i(T);return new s(w,this.h|A.h)},t.xor=function(A){for(var y=Math.max(this.g.length,A.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)^A.i(T);return new s(w,this.h^A.h)};function Ie(A){for(var y=A.g.length+1,w=[],T=0;T<y;T++)w[T]=A.i(T)<<1|A.i(T-1)>>>31;return new s(w,A.h)}function se(A,y){var w=y>>5;y%=32;for(var T=A.g.length-w,C=[],S=0;S<T;S++)C[S]=0<y?A.i(S+w)>>>y|A.i(S+w+1)<<32-y:A.i(S+w);return new s(C,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ug=zI.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=m,s.fromString=b,kr=zI.Integer=s}).apply(typeof BI<"u"?BI:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ri={};var hg,mg,Os,fg,Lc,Lu,pg,gg,bg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,f){return a==Array.prototype||a==Object.prototype||(a[h]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var h=0;h<a.length;++h){var f=a[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function r(a,h){if(h)e:{var f=i;a=a.split(".");for(var v=0;v<a.length-1;v++){var k=a[v];if(!(k in f))break e;f=f[k]}a=a[a.length-1],v=f[a],h=h(v),h!=v&&h!=null&&e(f,a,{configurable:!0,writable:!0,value:h})}}function o(a,h){a instanceof String&&(a+="");var f=0,v=!1,k={next:function(){if(!v&&f<a.length){var P=f++;return{value:h(P,a[P]),done:!1}}return v=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}r("Array.prototype.values",function(a){return a||function(){return o(this,function(h,f){return f})}});var s=s||{},c=this||self;function d(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function m(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function b(a,h,f){return a.call.apply(a.bind,arguments)}function g(a,h,f){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,v),a.apply(h,k)}}return function(){return a.apply(h,arguments)}}function E(a,h,f){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:g,E.apply(null,arguments)}function R(a,h){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function O(a,h){function f(){}f.prototype=h.prototype,a.aa=h.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(v,k,P){for(var B=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)B[Se-2]=arguments[Se];return h.prototype[k].apply(v,B)}}function F(a){let h=a.length;if(0<h){let f=Array(h);for(let v=0;v<h;v++)f[v]=a[v];return f}return[]}function D(a,h){for(let f=1;f<arguments.length;f++){let v=arguments[f];if(d(v)){let k=a.length||0,P=v.length||0;a.length=k+P;for(let B=0;B<P;B++)a[k+B]=v[B]}else a.push(v)}}class U{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function Z(a){return/^[\s\xa0]*$/.test(a)}function J(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function X(a){return X[" "](a),a}X[" "]=function(){};var Ie=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function se(a,h,f){for(let v in a)h.call(f,a[v],v,a)}function A(a,h){for(let f in a)h.call(void 0,a[f],f,a)}function y(a){let h={};for(let f in a)h[f]=a[f];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(a,h){let f,v;for(let k=1;k<arguments.length;k++){v=arguments[k];for(f in v)a[f]=v[f];for(let P=0;P<w.length;P++)f=w[P],Object.prototype.hasOwnProperty.call(v,f)&&(a[f]=v[f])}}function C(a){var h=1;a=a.split(":");let f=[];for(;0<h&&a.length;)f.push(a.shift()),h--;return a.length&&f.push(a.join(":")),f}function S(a){c.setTimeout(()=>{throw a},0)}function I(){var a=Ui;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class fn{constructor(){this.h=this.g=null}add(h,f){let v=Li.get();v.set(h,f),this.h?this.h.next=v:this.g=v,this.h=v}}var Li=new U(()=>new oa,a=>a.reset());class oa{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Vi,li=!1,Ui=new fn,Gt=()=>{let a=c.Promise.resolve(void 0);Vi=()=>{a.then(ji)}};var ji=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(f){S(f)}var h=Li;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}li=!1};function Rt(){this.s=this.s,this.C=this.C}Rt.prototype.s=!1,Rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pt(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var Bi=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,h),c.removeEventListener("test",f,h)}catch{}return a}();function pn(a,h){if(pt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(Ie){e:{try{X(h.nodeName);var k=!0;break e}catch{}k=!1}k||(h=null)}}else f=="mouseover"?h=a.fromElement:f=="mouseout"&&(h=a.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:hl[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&pn.aa.h.call(this)}}O(pn,pt);var hl={2:"touch",3:"pen",4:"mouse"};pn.prototype.h=function(){pn.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Nn="closure_listenable_"+(1e6*Math.random()|0),sa=0;function Bh(a,h,f,v,k){this.listener=a,this.proxy=null,this.src=h,this.type=f,this.capture=!!v,this.ha=k,this.key=++sa,this.da=this.fa=!1}function zi(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function $i(a){this.src=a,this.g={},this.h=0}$i.prototype.add=function(a,h,f,v,k){var P=a.toString();a=this.g[P],a||(a=this.g[P]=[],this.h++);var B=aa(a,h,v,k);return-1<B?(h=a[B],f||(h.fa=!1)):(h=new Bh(h,this.src,P,!!v,k),h.fa=f,a.push(h)),h};function qi(a,h){var f=h.type;if(f in a.g){var v=a.g[f],k=Array.prototype.indexOf.call(v,h,void 0),P;(P=0<=k)&&Array.prototype.splice.call(v,k,1),P&&(zi(h),a.g[f].length==0&&(delete a.g[f],a.h--))}}function aa(a,h,f,v){for(var k=0;k<a.length;++k){var P=a[k];if(!P.da&&P.listener==h&&P.capture==!!f&&P.ha==v)return k}return-1}var Et="closure_lm_"+(1e6*Math.random()|0),Wt={};function ml(a,h,f,v,k){if(v&&v.once)return ca(a,h,f,v,k);if(Array.isArray(h)){for(var P=0;P<h.length;P++)ml(a,h[P],f,v,k);return null}return f=rt(f),a&&a[Nn]?a.K(h,f,m(v)?!!v.capture:!!v,k):Dt(a,h,f,!1,v,k)}function Dt(a,h,f,v,k,P){if(!h)throw Error("Invalid event type");var B=m(k)?!!k.capture:!!k,Se=gn(a);if(Se||(a[Et]=Se=new $i(a)),f=Se.add(h,f,v,B,P),f.proxy)return f;if(v=Fo(),f.proxy=v,v.src=a,v.listener=f,a.addEventListener)Bi||(k=B),k===void 0&&(k=!1),a.addEventListener(h.toString(),v,k);else if(a.attachEvent)a.attachEvent(Kt(h.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Fo(){function a(f){return h.call(a.src,a.listener,f)}let h=Fn;return a}function ca(a,h,f,v,k){if(Array.isArray(h)){for(var P=0;P<h.length;P++)ca(a,h[P],f,v,k);return null}return f=rt(f),a&&a[Nn]?a.L(h,f,m(v)?!!v.capture:!!v,k):Dt(a,h,f,!0,v,k)}function la(a,h,f,v,k){if(Array.isArray(h))for(var P=0;P<h.length;P++)la(a,h[P],f,v,k);else v=m(v)?!!v.capture:!!v,f=rt(f),a&&a[Nn]?(a=a.i,h=String(h).toString(),h in a.g&&(P=a.g[h],f=aa(P,f,v,k),-1<f&&(zi(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete a.g[h],a.h--)))):a&&(a=gn(a))&&(h=a.g[h.toString()],a=-1,h&&(a=aa(h,f,v,k)),(f=-1<a?h[a]:null)&&fe(f))}function fe(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Nn])qi(h.i,a);else{var f=a.type,v=a.proxy;h.removeEventListener?h.removeEventListener(f,v,a.capture):h.detachEvent?h.detachEvent(Kt(f),v):h.addListener&&h.removeListener&&h.removeListener(v),(f=gn(h))?(qi(f,a),f.h==0&&(f.src=null,h[Et]=null)):zi(a)}}}function Kt(a){return a in Wt?Wt[a]:Wt[a]="on"+a}function Fn(a,h){if(a.da)a=!0;else{h=new pn(h,this);var f=a.listener,v=a.ha||a.src;a.fa&&fe(a),a=f.call(v,h)}return a}function gn(a){return a=a[Et],a instanceof $i?a:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function rt(a){return typeof a=="function"?a:(a[Ye]||(a[Ye]=function(h){return a.handleEvent(h)}),a[Ye])}function ot(){Rt.call(this),this.i=new $i(this),this.M=this,this.F=null}O(ot,Rt),ot.prototype[Nn]=!0,ot.prototype.removeEventListener=function(a,h,f,v){la(this,a,h,f,v)};function gt(a,h){var f,v=a.F;if(v)for(f=[];v;v=v.F)f.push(v);if(a=a.M,v=h.type||h,typeof h=="string")h=new pt(h,a);else if(h instanceof pt)h.target=h.target||a;else{var k=h;h=new pt(v,a),T(h,k)}if(k=!0,f)for(var P=f.length-1;0<=P;P--){var B=h.g=f[P];k=Ln(B,v,!0,h)&&k}if(B=h.g=a,k=Ln(B,v,!0,h)&&k,k=Ln(B,v,!1,h)&&k,f)for(P=0;P<f.length;P++)B=h.g=f[P],k=Ln(B,v,!1,h)&&k}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var f=a.g[h],v=0;v<f.length;v++)zi(f[v]);delete a.g[h],a.h--}}this.F=null},ot.prototype.K=function(a,h,f,v){return this.i.add(String(a),h,!1,f,v)},ot.prototype.L=function(a,h,f,v){return this.i.add(String(a),h,!0,f,v)};function Ln(a,h,f,v){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var k=!0,P=0;P<h.length;++P){var B=h[P];if(B&&!B.da&&B.capture==f){var Se=B.listener,st=B.ha||B.src;B.fa&&qi(a.i,B),k=Se.call(st,v)!==!1&&k}}return k&&!v.defaultPrevented}function xt(a,h,f){if(typeof a=="function")f&&(a=E(a,f));else if(a&&typeof a.handleEvent=="function")a=E(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(a,h||0)}function fl(a){a.g=xt(()=>{a.g=null,a.i&&(a.i=!1,fl(a))},a.l);let h=a.h;a.h=null,a.m.apply(null,h)}class pl extends Rt{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:fl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(a){Rt.call(this),this.h=a,this.g={}}O(Hi,Rt);var Lo=[];function gl(a){se(a.g,function(h,f){this.g.hasOwnProperty(f)&&fe(h)},a),a.g={}}Hi.prototype.N=function(){Hi.aa.N.call(this),gl(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vo=c.JSON.stringify,zh=c.JSON.parse,$h=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function bn(){}bn.prototype.h=null;function bl(a){return a.h||(a.h=a.i())}function vl(){}var Fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function da(){pt.call(this,"d")}O(da,pt);function ua(){pt.call(this,"c")}O(ua,pt);var vn={},_l=null;function Uo(){return _l=_l||new ot}vn.La="serverreachability";function Vn(a){pt.call(this,vn.La,a)}O(Vn,pt);function Lr(a){let h=Uo();gt(h,new Vn(h))}vn.STAT_EVENT="statevent";function yl(a,h){pt.call(this,vn.STAT_EVENT,a),this.stat=h}O(yl,pt);function Tt(a){let h=Uo();gt(h,new yl(h,a))}vn.Ma="timingevent";function jo(a,h){pt.call(this,vn.Ma,a),this.size=h}O(jo,pt);function Vr(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},h)}function Ur(){this.g=!0}Ur.prototype.xa=function(){this.g=!1};function qh(a,h,f,v,k,P){a.info(function(){if(a.g)if(P)for(var B="",Se=P.split("&"),st=0;st<Se.length;st++){var ve=Se[st].split("=");if(1<ve.length){var ft=ve[0];ve=ve[1];var bt=ft.split("_");B=2<=bt.length&&bt[1]=="type"?B+(ft+"="+ve+"&"):B+(ft+"=redacted&")}}else B=null;else B=P;return"XMLHTTP REQ ("+v+") [attempt "+k+"]: "+h+`
`+f+`
`+B})}function Hh(a,h,f,v,k,P,B){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+k+"]: "+h+`
`+f+`
`+P+" "+B})}function Gi(a,h,f,v){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Gh(a,f)+(v?" "+v:"")})}function De(a,h){a.info(function(){return"TIMEOUT: "+h})}Ur.prototype.info=function(){};function Gh(a,h){if(!a.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var v=f[a];if(!(2>v.length)){var k=v[1];if(Array.isArray(k)&&!(1>k.length)){var P=k[0];if(P!="noop"&&P!="stop"&&P!="close")for(var B=1;B<k.length;B++)k[B]=""}}}}return Vo(f)}catch{return h}}var Bo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ha;function zo(){}O(zo,bn),zo.prototype.g=function(){return new XMLHttpRequest},zo.prototype.i=function(){return{}},ha=new zo;function Un(a,h,f,v){this.j=a,this.i=h,this.l=f,this.R=v||1,this.U=new Hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $o}function $o(){this.i=null,this.g="",this.h=!1}var Wi={},qo={};function Ki(a,h,f){a.L=1,a.v=Qo(Pt(h)),a.m=f,a.P=!0,ze(a,null)}function ze(a,h){a.F=Date.now(),Ho(a),a.A=Pt(a.v);var f=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),Ml(f.i,"t",v),a.C=0,f=a.j.J,a.h=new $o,a.g=Aa(a.j,f?h:null,!a.m),0<a.O&&(a.M=new pl(E(a.Y,a,a.g),a.O)),h=a.U,f=a.g,v=a.ca;var k="readystatechange";Array.isArray(k)||(k&&(Lo[0]=k.toString()),k=Lo);for(var P=0;P<k.length;P++){var B=ml(f,k[P],v||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Lr(),qh(a.i,a.u,a.A,a.l,a.R,a.m)}Un.prototype.ca=function(a){a=a.target;let h=this.M;h&&yn(a)==3?h.j():this.Y(a)},Un.prototype.Y=function(a){try{if(a==this.g)e:{let bt=yn(this.g);var h=this.g.Ba();let mi=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||zl(this.g)))){this.J||bt!=4||h==7||(h==8||0>=mi?Lr(3):Lr(2)),fa(this);var f=this.g.Z();this.X=f;t:if(Il(this)){var v=zl(this.g);a="";var k=v.length,P=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),jr(this);var B="";break t}this.h.i=new c.TextDecoder}for(h=0;h<k;h++)this.h.h=!0,a+=this.h.i.decode(v[h],{stream:!(P&&h==k-1)});v.length=0,this.h.g+=a,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,Hh(this.i,this.u,this.A,this.l,this.R,bt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,st=this.g;if((Se=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Se)){var ve=Se;break t}}ve=null}if(f=ve)Gi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Go(this,f);else{this.o=!1,this.s=3,Tt(12),di(this),jr(this);break e}}if(this.P){f=!0;let Vt;for(;!this.J&&this.C<B.length;)if(Vt=Wh(this,B),Vt==qo){bt==4&&(this.s=4,Tt(14),f=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==Wi){this.s=4,Tt(15),Gi(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else Gi(this.i,this.l,Vt,null),Go(this,Vt);if(Il(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||B.length!=0||this.h.h||(this.s=1,Tt(16),f=!1),this.o=this.o&&f,!f)Gi(this.i,this.l,B,"[Invalid Chunked Response]"),di(this),jr(this);else if(0<B.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Kr(ft),ft.M=!0,Tt(11))}}else Gi(this.i,this.l,B,null),Go(this,B);bt==4&&di(this),this.o&&!this.J&&(bt==4?Ia(this.j,this):(this.o=!1,Ho(this)))}else im(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),di(this),jr(this)}}}catch{}finally{}};function Il(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Wh(a,h){var f=a.C,v=h.indexOf(`
`,f);return v==-1?qo:(f=Number(h.substring(f,v)),isNaN(f)?Wi:(v+=1,v+f>h.length?qo:(h=h.slice(v,v+f),a.C=v+f,h)))}Un.prototype.cancel=function(){this.J=!0,di(this)};function Ho(a){a.S=Date.now()+a.I,ma(a,a.I)}function ma(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Vr(E(a.ba,a),h)}function fa(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Un.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(De(this.i,this.A),this.L!=2&&(Lr(),Tt(17)),di(this),this.s=2,jr(this)):ma(this,this.S-a)};function jr(a){a.j.G==0||a.J||Ia(a.j,a)}function di(a){fa(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,gl(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Go(a,h){try{var f=a.j;if(f.G!=0&&(f.g==a||ga(f.h,a))){if(!a.K&&ga(f.h,a)&&f.G==3){try{var v=f.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var k=v;if(k[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)es(f),Gr(f);else break e;Zo(f),Tt(18)}}else f.za=k[1],0<f.za-f.T&&37500>k[2]&&f.F&&f.v==0&&!f.C&&(f.C=Vr(E(f.Za,f),6e3));if(1>=xl(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else zn(f,11)}else if((a.K||f.g==a)&&es(f),!Z(h))for(k=f.Da.g.parse(h),h=0;h<k.length;h++){let ve=k[h];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];let ft=ve[3];ft!=null&&(f.la=ft,f.j.info("VER="+f.la));let bt=ve[4];bt!=null&&(f.Aa=bt,f.j.info("SVER="+f.Aa));let mi=ve[5];mi!=null&&typeof mi=="number"&&0<mi&&(v=1.5*mi,f.L=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;let Vt=a.g;if(Vt){let ts=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ts){var P=v.h;P.g||ts.indexOf("spdy")==-1&&ts.indexOf("quic")==-1&&ts.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(ba(P,P.h),P.h=null))}if(v.D){let Sa=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(v.ya=Sa,Pe(v.I,v.D,Sa))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),v=f;var B=a;if(v.qa=Ta(v,v.J?v.ia:null,v.W),B.K){Tl(v.h,B);var Se=B,st=v.L;st&&(Se.I=st),Se.B&&(fa(Se),Ho(Se)),v.g=B}else wa(v);0<f.i.length&&Jo(f)}else ve[0]!="stop"&&ve[0]!="close"||zn(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?zn(f,7):tr(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}Lr(4)}catch{}}var Kh=class{constructor(a,h){this.g=a,this.map=h}};function pa(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function El(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function xl(a){return a.h?1:a.g?a.g.size:0}function ga(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function ba(a,h){a.g?a.g.add(h):a.h=h}function Tl(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}pa.prototype.cancel=function(){if(this.i=Al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Al(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(let f of a.g.values())h=h.concat(f.D);return h}return F(a.i)}function Qh(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(d(a)){for(var h=[],f=a.length,v=0;v<f;v++)h.push(a[v]);return h}h=[],f=0;for(v in a)h[f++]=a[v];return h}function Cl(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(d(a)||typeof a=="string"){var h=[];a=a.length;for(var f=0;f<a;f++)h.push(f);return h}h=[],f=0;for(let v in a)h[f++]=v;return h}}}function Sl(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(d(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var f=Cl(a),v=Qh(a),k=v.length,P=0;P<k;P++)h.call(void 0,v[P],f&&f[P],a)}var va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yh(a,h){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var v=a[f].indexOf("="),k=null;if(0<=v){var P=a[f].substring(0,v);k=a[f].substring(v+1)}else P=a[f];h(P,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function ui(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ui){this.h=a.h,Br(this,a.j),this.o=a.o,this.g=a.g,Wo(this,a.s),this.l=a.l;var h=a.i,f=new Yi;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),Ko(this,f),this.m=a.m}else a&&(h=String(a).match(va))?(this.h=!1,Br(this,h[1]||"",!0),this.o=zr(h[2]||""),this.g=zr(h[3]||"",!0),Wo(this,h[4]),this.l=zr(h[5]||"",!0),Ko(this,h[6]||"",!0),this.m=zr(h[7]||"")):(this.h=!1,this.i=new Yi(null,this.h))}ui.prototype.toString=function(){var a=[],h=this.j;h&&a.push($r(h,kl,!0),":");var f=this.g;return(f||h=="file")&&(a.push("//"),(h=this.o)&&a.push($r(h,kl,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push($r(f,f.charAt(0)=="/"?Qi:Xh,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",$r(f,Rl)),a.join("")};function Pt(a){return new ui(a)}function Br(a,h,f){a.j=f?zr(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Wo(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Ko(a,h,f){h instanceof Yi?(a.i=h,em(a.i,a.h)):(f||(h=$r(h,Zh)),a.i=new Yi(h,a.h))}function Pe(a,h,f){a.i.set(h,f)}function Qo(a){return Pe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function zr(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function $r(a,h,f){return typeof a=="string"?(a=encodeURI(a).replace(h,Jh),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Jh(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var kl=/[#\/\?@]/g,Xh=/[#\?:]/g,Qi=/[#\?]/g,Zh=/[#\?@]/g,Rl=/#/g;function Yi(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function jn(a){a.g||(a.g=new Map,a.h=0,a.i&&Yh(a.i,function(h,f){a.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=Yi.prototype,t.add=function(a,h){jn(this),this.i=null,a=Ji(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(h),this.h+=1,this};function Dl(a,h){jn(a),h=Ji(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Pl(a,h){return jn(a),h=Ji(a,h),a.g.has(h)}t.forEach=function(a,h){jn(this),this.g.forEach(function(f,v){f.forEach(function(k){a.call(h,k,v,this)},this)},this)},t.na=function(){jn(this);let a=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let v=0;v<h.length;v++){let k=a[v];for(let P=0;P<k.length;P++)f.push(h[v])}return f},t.V=function(a){jn(this);let h=[];if(typeof a=="string")Pl(this,a)&&(h=h.concat(this.g.get(Ji(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)h=h.concat(a[f])}return h},t.set=function(a,h){return jn(this),this.i=null,a=Ji(this,a),Pl(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Ml(a,h,f){Dl(a,h),0<f.length&&(a.i=null,a.g.set(Ji(a,h),F(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var v=h[f];let P=encodeURIComponent(String(v)),B=this.V(v);for(v=0;v<B.length;v++){var k=P;B[v]!==""&&(k+="="+encodeURIComponent(String(B[v]))),a.push(k)}}return this.i=a.join("&")};function Ji(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function em(a,h){h&&!a.j&&(jn(a),a.i=null,a.g.forEach(function(f,v){var k=v.toLowerCase();v!=k&&(Dl(this,v),Ml(this,k,f))},a)),a.j=h}function tm(a,h){let f=new Ur;if(c.Image){let v=new Image;v.onload=R(Bn,f,"TestLoadImage: loaded",!0,h,v),v.onerror=R(Bn,f,"TestLoadImage: error",!1,h,v),v.onabort=R(Bn,f,"TestLoadImage: abort",!1,h,v),v.ontimeout=R(Bn,f,"TestLoadImage: timeout",!1,h,v),c.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else h(!1)}function Xi(a,h){let f=new Ur,v=new AbortController,k=setTimeout(()=>{v.abort(),Bn(f,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:v.signal}).then(P=>{clearTimeout(k),P.ok?Bn(f,"TestPingServer: ok",!0,h):Bn(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(k),Bn(f,"TestPingServer: error",!1,h)})}function Bn(a,h,f,v,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),v(f)}catch{}}function nm(){this.g=new $h}function Ol(a,h,f){let v=f||"";try{Sl(a,function(k,P){let B=k;m(k)&&(B=Vo(k)),h.push(v+P+"="+encodeURIComponent(B))})}catch(k){throw h.push(v+"type="+encodeURIComponent("_badmap")),k}}function qr(a){this.l=a.Ub||null,this.j=a.eb||!1}O(qr,bn),qr.prototype.g=function(){return new Qt(this.l,this.j)},qr.prototype.i=function(a){return function(){return a}}({});function Qt(a,h){ot.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Qt,ot),t=Qt.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,_n(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,_n(this)),this.g&&(this.readyState=3,_n(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nl(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nl(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Zi(this):_n(this),this.readyState==3&&Nl(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Zi(this))},t.Qa=function(a){this.g&&(this.response=a,Zi(this))},t.ga=function(){this.g&&Zi(this)};function Zi(a){a.readyState=4,a.l=null,a.j=null,a.v=null,_n(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=h.next();return a.join(`\r
`)};function _n(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Qt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Fl(a){let h="";return se(a,function(f,v){h+=v,h+=":",h+=f,h+=`\r
`}),h}function _a(a,h,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=Fl(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Pe(a,h,f))}function $e(a){ot.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O($e,ot);var Ll=/^https?$/i,er=["POST","PUT"];t=$e.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ha.g(),this.v=this.o?bl(this.o):bl(ha),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(P){Vl(this,P);return}if(a=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var k in v)f.set(k,v[k]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let P of v.keys())f.set(P,v.get(P));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),k=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(er,h,void 0))||v||k||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,B]of f)this.g.setRequestHeader(P,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bl(this),this.u=!0,this.g.send(a),this.u=!1}catch(P){Vl(this,P)}};function Vl(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Ul(a),Yo(a)}function Ul(a){a.A||(a.A=!0,gt(a,"complete"),gt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,gt(this,"complete"),gt(this,"abort"),Yo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yo(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jl(this):this.bb())},t.bb=function(){jl(this)};function jl(a){if(a.h&&typeof s<"u"&&(!a.v[1]||yn(a)!=4||a.Z()!=2)){if(a.u&&yn(a)==4)xt(a.Ea,0,a);else if(gt(a,"readystatechange"),yn(a)==4){a.h=!1;try{let B=a.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var v;if(v=B===0){var k=String(a.D).match(va)[1]||null;!k&&c.self&&c.self.location&&(k=c.self.location.protocol.slice(0,-1)),v=!Ll.test(k?k.toLowerCase():"")}f=v}if(f)gt(a,"complete"),gt(a,"success");else{a.m=6;try{var P=2<yn(a)?a.g.statusText:""}catch{P=""}a.l=P+" ["+a.Z()+"]",Ul(a)}}finally{Yo(a)}}}}function Yo(a,h){if(a.g){Bl(a);let f=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||gt(a,"ready");try{f.onreadystatechange=v}catch{}}}function Bl(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function yn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),zh(h)}};function zl(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function im(a){let h={};a=(a.g&&2<=yn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(Z(a[v]))continue;var f=C(a[v]);let k=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=h[k]||[];h[k]=P,P.push(f)}A(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(a,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||h}function $l(a){this.Aa=0,this.i=[],this.j=new Ur,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,a),this.cb=Hr("retryDelaySeedMs",1e4,a),this.Wa=Hr("forwardChannelMaxRetries",2,a),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new pa(a&&a.concurrentRequestLimit),this.Da=new nm,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$l.prototype,t.la=8,t.G=1,t.connect=function(a,h,f,v){Tt(0),this.W=a,this.H=h||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.I=Ta(this,null,this.W),Jo(this)};function tr(a){if(ql(a),a.G==3){var h=a.U++,f=Pt(a.I);if(Pe(f,"SID",a.K),Pe(f,"RID",h),Pe(f,"TYPE","terminate"),Wr(a,f),h=new Un(a,a.j,h),h.L=2,h.v=Qo(Pt(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=h.v,f=!0),f||(h.g=Aa(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ho(h)}xa(a)}function Gr(a){a.g&&(Kr(a),a.g.cancel(),a.g=null)}function ql(a){Gr(a),a.u&&(c.clearTimeout(a.u),a.u=null),es(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Jo(a){if(!El(a.h)&&!a.s){a.s=!0;var h=a.Ga;Vi||Gt(),li||(Vi(),li=!0),Ui.add(h,a),a.B=0}}function rm(a,h){return xl(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Vr(E(a.Ga,a,h),Ea(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let k=new Un(this,this.j,a),P=this.o;if(this.S&&(P?(P=y(P),T(P,this.S)):P=this.S),this.m!==null||this.O||(k.H=P,P=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=Xo(this,k,h),f=Pt(this.I),Pe(f,"RID",a),Pe(f,"CVER",22),this.D&&Pe(f,"X-HTTP-Session-Id",this.D),Wr(this,f),P&&(this.O?h="headers="+encodeURIComponent(String(Fl(P)))+"&"+h:this.m&&_a(f,this.m,P)),ba(this.h,k),this.Ua&&Pe(f,"TYPE","init"),this.P?(Pe(f,"$req",h),Pe(f,"SID","null"),k.T=!0,Ki(k,f,null)):Ki(k,f,h),this.G=2}}else this.G==3&&(a?ya(this,a):this.i.length==0||El(this.h)||ya(this))};function ya(a,h){var f;h?f=h.l:f=a.U++;let v=Pt(a.I);Pe(v,"SID",a.K),Pe(v,"RID",f),Pe(v,"AID",a.T),Wr(a,v),a.m&&a.o&&_a(v,a.m,a.o),f=new Un(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Xo(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ba(a.h,f),Ki(f,v,h)}function Wr(a,h){a.H&&se(a.H,function(f,v){Pe(h,v,f)}),a.l&&Sl({},function(f,v){Pe(h,v,f)})}function Xo(a,h,f){f=Math.min(a.i.length,f);var v=a.l?E(a.l.Na,a.l,a):null;e:{var k=a.i;let P=-1;for(;;){let B=["count="+f];P==-1?0<f?(P=k[0].g,B.push("ofs="+P)):P=0:B.push("ofs="+P);let Se=!0;for(let st=0;st<f;st++){let ve=k[st].g,ft=k[st].map;if(ve-=P,0>ve)P=Math.max(0,k[st].g-100),Se=!1;else try{Ol(ft,B,"req"+ve+"_")}catch{v&&v(ft)}}if(Se){v=B.join("&");break e}}}return a=a.i.splice(0,f),h.D=a,v}function wa(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;Vi||Gt(),li||(Vi(),li=!0),Ui.add(h,a),a.v=0}}function Zo(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Vr(E(a.Fa,a),Ea(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Qr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Vr(E(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Gr(this),Qr(this))};function Kr(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Qr(a){a.g=new Un(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=Pt(a.qa);Pe(h,"RID","rpc"),Pe(h,"SID",a.K),Pe(h,"AID",a.T),Pe(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Pe(h,"TO",a.ja),Pe(h,"TYPE","xmlhttp"),Wr(a,h),a.m&&a.o&&_a(h,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Qo(Pt(h)),f.m=null,f.P=!0,ze(f,a)}t.Za=function(){this.C!=null&&(this.C=null,Gr(this),Zo(this),Tt(19))};function es(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Ia(a,h){var f=null;if(a.g==h){es(a),Kr(a),a.g=null;var v=2}else if(ga(a.h,h))f=h.D,Tl(a.h,h),v=1;else return;if(a.G!=0){if(h.o)if(v==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var k=a.B;v=Uo(),gt(v,new jo(v,f)),Jo(a)}else wa(a);else if(k=h.s,k==3||k==0&&0<h.X||!(v==1&&rm(a,h)||v==2&&Zo(a)))switch(f&&0<f.length&&(h=a.h,h.i=h.i.concat(f)),k){case 1:zn(a,5);break;case 4:zn(a,10);break;case 3:zn(a,6);break;default:zn(a,2)}}}function Ea(a,h){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*h}function zn(a,h){if(a.j.info("Error code "+h),h==2){var f=E(a.fb,a),v=a.Xa;let k=!v;v=new ui(v||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Br(v,"https"),Qo(v),k?tm(v.toString(),f):Xi(v.toString(),f)}else Tt(2);a.G=0,a.l&&a.l.sa(h),xa(a),ql(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function xa(a){if(a.G=0,a.ka=[],a.l){let h=Al(a.h);(h.length!=0||a.i.length!=0)&&(D(a.ka,h),D(a.ka,a.i),a.h.i.length=0,F(a.i),a.i.length=0),a.l.ra()}}function Ta(a,h,f){var v=f instanceof ui?Pt(f):new ui(f);if(v.g!="")h&&(v.g=h+"."+v.g),Wo(v,v.s);else{var k=c.location;v=k.protocol,h=h?h+"."+k.hostname:k.hostname,k=+k.port;var P=new ui(null);v&&Br(P,v),h&&(P.g=h),k&&Wo(P,k),f&&(P.l=f),v=P}return f=a.D,h=a.ya,f&&h&&Pe(v,f,h),Pe(v,"VER",a.la),Wr(a,v),v}function Aa(a,h,f){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new $e(new qr({eb:f})):new $e(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ca(){}t=Ca.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yr(){}Yr.prototype.g=function(a,h){return new Mt(a,h)};function Mt(a,h){ot.call(this),this.g=new $l(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!Z(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!Z(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new nr(this)}O(Mt,ot),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){tr(this.g)},Mt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Vo(a),a=f);h.i.push(new Kh(h.Ya++,a)),h.G==3&&Jo(h)},Mt.prototype.N=function(){this.g.l=null,delete this.j,tr(this.g),delete this.g,Mt.aa.N.call(this)};function hi(a){da.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(let f in h){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}O(hi,da);function Hl(){ua.call(this),this.status=1}O(Hl,ua);function nr(a){this.g=a}O(nr,Ca),nr.prototype.ua=function(){gt(this.g,"a")},nr.prototype.ta=function(a){gt(this.g,new hi(a))},nr.prototype.sa=function(a){gt(this.g,new Hl)},nr.prototype.ra=function(){gt(this.g,"b")},Yr.prototype.createWebChannel=Yr.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,bg=Ri.createWebChannelTransport=function(){return new Yr},gg=Ri.getStatEventTarget=function(){return Uo()},pg=Ri.Event=vn,Lu=Ri.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bo.NO_ERROR=0,Bo.TIMEOUT=8,Bo.HTTP_ERROR=6,Lc=Ri.ErrorCode=Bo,wl.COMPLETE="complete",fg=Ri.EventType=wl,vl.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Os=Ri.WebChannel=vl,mg=Ri.FetchXmlHttpFactory=qr,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,hg=Ri.XhrIo=$e}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});var $I="@firebase/firestore";var wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");var Zs="10.13.1";var Co=new yr("@firebase/firestore");function Vc(){return Co.logLevel}function Y(t,...e){if(Co.logLevel<=pe.DEBUG){let n=e.map(rv);Co.debug(`Firestore (${Zs}): ${t}`,...n)}}function Pi(t,...e){if(Co.logLevel<=pe.ERROR){let n=e.map(rv);Co.error(`Firestore (${Zs}): ${t}`,...n)}}function Bs(t,...e){if(Co.logLevel<=pe.WARN){let n=e.map(rv);Co.warn(`Firestore (${Zs}): ${t}`,...n)}}function rv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function oe(t="Unexpected state"){let e=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: `+t;throw Pi(e),new Error(e)}function Ve(t,e){t||oe()}function ce(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends zt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Di=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var zu=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ig=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}},Eg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},xg=class{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve(),o=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Di,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let d=o;e.enqueueRetryable(()=>x(this,null,function*(){yield d.promise,yield r(this.currentUser)}))},c=d=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){let d=this.t.getImmediate({optional:!0});d?c(d):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Di)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ve(typeof i.accessToken=="string"),new zu(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new wt(e)}},Tg=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ag=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Tg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Cg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Sg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new Cg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function UM(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var $u=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=UM(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function we(t,e){return t<e?-1:t>e?1:0}function zs(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var Ct=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var de=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ct(0,0))}static max(){return new t(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var qu=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&oe(),i===void 0?i=e.length-n:i>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Qe=class t extends qu{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new G(N.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},jM=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sn=class t extends qu{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return jM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new G(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},s=!1;for(;r<e.length;){let c=e[r];if(c==="\\"){if(r+1===e.length)throw new G(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new G(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else c==="`"?(s=!s,r++):c!=="."||s?(i+=c,r++):(o(),r++)}if(o(),s)throw new G(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var te=class t{constructor(e){this.path=e}static fromPath(e){return new t(Qe.fromString(e))}static fromName(e){return new t(Qe.fromString(e).popFirst(5))}static empty(){return new t(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Qe(e.slice()))}};var kg=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};kg.UNKNOWN_ID=-1;function BM(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=de.fromTimestamp(i===1e9?new Ct(n+1,0):new Ct(n,i));return new So(r,te.empty(),e)}function zM(t){return new So(t.readTime,t.key,-1)}var So=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(de.min(),te.empty(),-1)}static max(){return new t(de.max(),te.empty(),-1)}};function $M(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}var qM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function rl(t){return x(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==qM)throw t;Y("LocalStore","Unexpectedly lost primary lease")})}var V=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,s=!1;e.forEach(c=>{++r,c.next(()=>{++o,s&&o===r&&n()},d=>i(d))}),s=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,s=new Array(o),c=0;for(let d=0;d<o;d++){let m=d;n(e[m]).next(b=>{s[m]=b,++c,c===o&&i(s)},b=>r(b))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};function HM(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ol(t){return t.name==="IndexedDbTransactionError"}var xE=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function _h(t){return t==null}function Hc(t){return t===0&&1/t==-1/0}function GM(t){return typeof t=="number"&&Number.isInteger(t)&&!Hc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var WM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],iz=[...WM,"documentOverlays"],KM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QM=KM,YM=[...QM,"indexConfiguration","indexState","indexEntries"];var rz=[...YM,"globals"];function qI(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ea(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TE(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var et=class t{constructor(e,n){this.comparator=e,this.root=n||ri.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ri.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ri.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vs(this.root,e,this.comparator,!0)}},Vs=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ri=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};ri.EMPTY=null,ri.RED=!0,ri.BLACK=!1;ri.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,i,r,o){return this}insert(e,n,i){return new ri(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ft=class t{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hu(this.data.getIterator())}getIteratorFrom(e){return new Hu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Hu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ii=class t{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ft(sn.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Gu=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Gu("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Lt.EMPTY_BYTE_STRING=new Lt("");var JM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(t){if(Ve(!!t),typeof t=="string"){let e=0,n=JM.exec(t);if(Ve(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dr(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}function ov(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sv(t){let e=t.mapValue.fields.__previous_value__;return ov(e)?sv(e):e}function Gc(t){let e=Mi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}var Dg=class{constructor(e,n,i,r,o,s,c,d,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=m}},Wu=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Vu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ov(t)?4:CE(t)?9007199254740991:AE(t)?10:11:oe()}function ai(t,e){if(t===e)return!0;let n=ko(t);if(n!==ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gc(t).isEqual(Gc(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Mi(r.timestampValue),c=Mi(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Dr(r.bytesValue).isEqual(Dr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return We(r.geoPointValue.latitude)===We(o.geoPointValue.latitude)&&We(r.geoPointValue.longitude)===We(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return We(r.integerValue)===We(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=We(r.doubleValue),c=We(o.doubleValue);return s===c?Hc(s)===Hc(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return zs(t.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(r,o){let s=r.mapValue.fields||{},c=o.mapValue.fields||{};if(qI(s)!==qI(c))return!1;for(let d in s)if(s.hasOwnProperty(d)&&(c[d]===void 0||!ai(s[d],c[d])))return!1;return!0}(t,e);default:return oe()}}function Wc(t,e){return(t.values||[]).find(n=>ai(n,e))!==void 0}function $s(t,e){if(t===e)return 0;let n=ko(t),i=ko(e);if(n!==i)return we(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=We(o.integerValue||o.doubleValue),d=We(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return HI(t.timestampValue,e.timestampValue);case 4:return HI(Gc(t),Gc(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(o,s){let c=Dr(o),d=Dr(s);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),d=s.split("/");for(let m=0;m<c.length&&m<d.length;m++){let b=we(c[m],d[m]);if(b!==0)return b}return we(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=we(We(o.latitude),We(s.latitude));return c!==0?c:we(We(o.longitude),We(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GI(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,d,m,b;let g=o.fields||{},E=s.fields||{},R=(c=g.value)===null||c===void 0?void 0:c.arrayValue,O=(d=E.value)===null||d===void 0?void 0:d.arrayValue,F=we(((m=R?.values)===null||m===void 0?void 0:m.length)||0,((b=O?.values)===null||b===void 0?void 0:b.length)||0);return F!==0?F:GI(R,O)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Vu.mapValue&&s===Vu.mapValue)return 0;if(o===Vu.mapValue)return 1;if(s===Vu.mapValue)return-1;let c=o.fields||{},d=Object.keys(c),m=s.fields||{},b=Object.keys(m);d.sort(),b.sort();for(let g=0;g<d.length&&g<b.length;++g){let E=we(d[g],b[g]);if(E!==0)return E;let R=$s(c[d[g]],m[b[g]]);if(R!==0)return R}return we(d.length,b.length)}(t.mapValue,e.mapValue);default:throw oe()}}function HI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);let n=Mi(t),i=Mi(e),r=we(n.seconds,i.seconds);return r!==0?r:we(n.nanos,i.nanos)}function GI(t,e){let n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){let o=$s(n[r],i[r]);if(o)return o}return we(n.length,i.length)}function qs(t){return Pg(t)}function Pg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Mi(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Dr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=Pg(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${Pg(n.fields[s])}`;return r+"}"}(t.mapValue):oe()}function WI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mg(t){return!!t&&"integerValue"in t}function av(t){return!!t&&"arrayValue"in t}function KI(t){return!!t&&"nullValue"in t}function QI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ju(t){return!!t&&"mapValue"in t}function AE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function jc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ea(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=jc(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Dn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ju(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jc(n)}setAll(e){let n=sn.emptyPath(),i={},r=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let d=this.getFieldsMap(n);this.applyChanges(d,i,r),i={},r=[],n=c.popLast()}s?i[c.lastSegment()]=jc(s):r.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());ju(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];ju(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){ea(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(jc(this.value))}};function SE(t){let e=[];return ea(t.fields,(n,i)=>{let r=new sn([n]);if(ju(i)){let o=SE(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new ii(e)}var Pn=class t{constructor(e,n,i,r,o,s,c){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,de.min(),de.min(),de.min(),Dn.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,de.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,de.min(),de.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,de.min(),de.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Hs=class{constructor(e,n){this.position=e,this.inclusive=n}};function YI(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?i=te.comparator(te.fromName(s.referenceValue),n.key):i=$s(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function JI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ai(t.position[n],e.position[n]))return!1;return!0}var Ro=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function XM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ku=class{},mt=class t extends Ku{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Ng(e,n,i):n==="array-contains"?new Vg(e,i):n==="in"?new Ug(e,i):n==="not-in"?new jg(e,i):n==="array-contains-any"?new Bg(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Fg(e,i):new Lg(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($s(n,this.value)):n!==null&&ko(this.value)===ko(n)&&this.matchesComparison($s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Mn=class t extends Ku{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return kE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function kE(t){return t.op==="and"}function RE(t){return ZM(t)&&kE(t)}function ZM(t){for(let e of t.filters)if(e instanceof Mn)return!1;return!0}function Og(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+qs(t.value);if(RE(t))return t.filters.map(e=>Og(e)).join(",");{let e=t.filters.map(n=>Og(n)).join(",");return`${t.op}(${e})`}}function DE(t,e){return t instanceof mt?function(i,r){return r instanceof mt&&i.op===r.op&&i.field.isEqual(r.field)&&ai(i.value,r.value)}(t,e):t instanceof Mn?function(i,r){return r instanceof Mn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,c)=>o&&DE(s,r.filters[c]),!0):!1}(t,e):void oe()}function PE(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${qs(n.value)}`}(t):t instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map(PE).join(" ,")+"}"}(t):"Filter"}var Ng=class extends mt{constructor(e,n,i){super(e,n,i),this.key=te.fromName(i.referenceValue)}matches(e){let n=te.comparator(e.key,this.key);return this.matchesComparison(n)}},Fg=class extends mt{constructor(e,n){super(e,"in",n),this.keys=ME("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Lg=class extends mt{constructor(e,n){super(e,"not-in",n),this.keys=ME("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function ME(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>te.fromName(i.referenceValue))}var Vg=class extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return av(n)&&Wc(n.arrayValue,this.value)}},Ug=class extends mt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Wc(this.value.arrayValue,n)}},jg=class extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Wc(this.value.arrayValue,n)}},Bg=class extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!av(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Wc(this.value.arrayValue,i))}};var zg=class{constructor(e,n=null,i=[],r=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function XI(t,e=null,n=[],i=[],r=null,o=null,s=null){return new zg(t,e,n,i,r,o,s)}function cv(t){let e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Og(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),_h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>qs(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>qs(i)).join(",")),e.ue=n}return e.ue}function lv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JI(t.startAt,e.startAt)&&JI(t.endAt,e.endAt)}function $g(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Pr=class{constructor(e,n=null,i=[],r=[],o=null,s="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function eO(t,e,n,i,r,o,s,c){return new Pr(t,e,n,i,r,o,s,c)}function dv(t){return new Pr(t)}function ZI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OE(t){return t.collectionGroup!==null}function Bc(t){let e=ce(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Ft(sn.comparator);return s.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(c=c.add(m.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ro(o,i))}),n.has(sn.keyField().canonicalString())||e.ce.push(new Ro(sn.keyField(),i))}return e.ce}function oi(t){let e=ce(t);return e.le||(e.le=tO(e,Bc(t))),e.le}function tO(t,e){if(t.limitType==="F")return XI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Ro(r.field,o)});let n=t.endAt?new Hs(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Hs(t.startAt.position,t.startAt.inclusive):null;return XI(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function qg(t,e){let n=t.filters.concat([e]);return new Pr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qu(t,e,n){return new Pr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yh(t,e){return lv(oi(t),oi(e))&&t.limitType===e.limitType}function NE(t){return`${cv(oi(t))}|lt:${t.limitType}`}function Ns(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>PE(r)).join(", ")}]`),_h(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>qs(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>qs(r)).join(",")),`Target(${i})`}(oi(t))}; limitType=${t.limitType})`}function wh(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):te.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of Bc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,c,d){let m=YI(s,c,d);return s.inclusive?m<=0:m<0}(i.startAt,Bc(i),r)||i.endAt&&!function(s,c,d){let m=YI(s,c,d);return s.inclusive?m>=0:m>0}(i.endAt,Bc(i),r))}(t,e)}function nO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FE(t){return(e,n)=>{let i=!1;for(let r of Bc(t)){let o=iO(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function iO(t,e,n){let i=t.field.isKeyField()?te.comparator(e.key,n.key):function(o,s,c){let d=s.data.field(o),m=c.data.field(o);return d!==null&&m!==null?$s(d,m):oe()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return oe()}}var Mr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return TE(this.inner)}size(){return this.innerSize}};var rO=new et(te.comparator);function Oi(){return rO}var LE=new et(te.comparator);function Uc(...t){let e=LE;for(let n of t)e=e.insert(n.key,n);return e}function VE(t){let e=LE;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Eo(){return zc()}function UE(){return zc()}function zc(){return new Mr(t=>t.toString(),(t,e)=>t.isEqual(e))}var oO=new et(te.comparator),sO=new Ft(te.comparator);function ge(...t){let e=sO;for(let n of t)e=e.add(n);return e}var aO=new Ft(we);function cO(){return aO}function uv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(e)?"-0":e}}function jE(t){return{integerValue:""+t}}function lO(t,e){return GM(e)?jE(e):uv(t,e)}var Gs=class{constructor(){this._=void 0}};function dO(t,e,n){return t instanceof Ws?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&ov(o)&&(o=sv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Do?zE(t,e):t instanceof Po?$E(t,e):function(r,o){let s=BE(r,o),c=eE(s)+eE(r.Pe);return Mg(s)&&Mg(r.Pe)?jE(c):uv(r.serializer,c)}(t,e)}function uO(t,e,n){return t instanceof Do?zE(t,e):t instanceof Po?$E(t,e):n}function BE(t,e){return t instanceof Ks?function(i){return Mg(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Ws=class extends Gs{},Do=class extends Gs{constructor(e){super(),this.elements=e}};function zE(t,e){let n=qE(e);for(let i of t.elements)n.some(r=>ai(r,i))||n.push(i);return{arrayValue:{values:n}}}var Po=class extends Gs{constructor(e){super(),this.elements=e}};function $E(t,e){let n=qE(e);for(let i of t.elements)n=n.filter(r=>!ai(r,i));return{arrayValue:{values:n}}}var Ks=class extends Gs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function eE(t){return We(t.integerValue||t.doubleValue)}function qE(t){return av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hO(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Do&&r instanceof Do||i instanceof Po&&r instanceof Po?zs(i.elements,r.elements,ai):i instanceof Ks&&r instanceof Ks?ai(i.Pe,r.Pe):i instanceof Ws&&r instanceof Ws}(t.transform,e.transform)}var Hg=class{constructor(e,n){this.version=e,this.transformResults=n}},Ao=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Bu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Qs=class{};function HE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yu(t.key,Ao.none()):new Mo(t.key,t.data,Ao.none());{let n=t.data,i=Dn.empty(),r=new Ft(sn.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Ni(t.key,i,new ii(r.toArray()),Ao.none())}}function mO(t,e,n){t instanceof Mo?function(r,o,s){let c=r.value.clone(),d=nE(r.fieldTransforms,o,s.transformResults);c.setAll(d),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Ni?function(r,o,s){if(!Bu(r.precondition,o))return void o.convertToUnknownDocument(s.version);let c=nE(r.fieldTransforms,o,s.transformResults),d=o.data;d.setAll(GE(r)),d.setAll(c),o.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function $c(t,e,n,i){return t instanceof Mo?function(o,s,c,d){if(!Bu(o.precondition,s))return c;let m=o.value.clone(),b=iE(o.fieldTransforms,d,s);return m.setAll(b),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ni?function(o,s,c,d){if(!Bu(o.precondition,s))return c;let m=iE(o.fieldTransforms,d,s),b=s.data;return b.setAll(GE(o)),b.setAll(m),s.convertToFoundDocument(s.version,b).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,i):function(o,s,c){return Bu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function fO(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=BE(i.transform,r||null);o!=null&&(n===null&&(n=Dn.empty()),n.set(i.field,o))}return n||null}function tE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&zs(i,r,(o,s)=>hO(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Mo=class extends Qs{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Ni=class extends Qs{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function GE(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function nE(t,e,n){let i=new Map;Ve(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],s=o.transform,c=e.data.field(o.field);i.set(o.field,uO(s,c,n[r]))}return i}function iE(t,e,n){let i=new Map;for(let r of t){let o=r.transform,s=n.data.field(r.field);i.set(r.field,dO(o,s,e))}return i}var Yu=class extends Qs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Gg=class extends Qs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Wg=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&mO(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=$c(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=$c(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=UE();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(r.key)?null:c;let d=HE(s,c);d!==null&&i.set(r.key,d),s.isValidDocument()||s.convertToNoDocument(de.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,i)=>tE(n,i))&&zs(this.baseMutations,e.baseMutations,(n,i)=>tE(n,i))}},Kg=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ve(e.mutations.length===i.length);let r=function(){return oO}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)}};var Qg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Yg=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ut,_e;function pO(t){switch(t){default:return oe();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function WE(t){if(t===void 0)return Pi("GRPC error has no .code"),N.UNKNOWN;switch(t){case ut.OK:return N.OK;case ut.CANCELLED:return N.CANCELLED;case ut.UNKNOWN:return N.UNKNOWN;case ut.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ut.INTERNAL:return N.INTERNAL;case ut.UNAVAILABLE:return N.UNAVAILABLE;case ut.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ut.NOT_FOUND:return N.NOT_FOUND;case ut.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ut.ABORTED:return N.ABORTED;case ut.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ut.DATA_LOSS:return N.DATA_LOSS;default:return oe()}}(_e=ut||(ut={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var rE=null;function gO(){return new TextEncoder}var bO=new kr([4294967295,4294967295],0);function oE(t){let e=gO().encode(t),n=new ug;return n.update(e),new Uint8Array(n.digest())}function sE(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new kr([n,i],0),new kr([r,o],0)]}var Jg=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new xo(`Invalid padding: ${n}`);if(i<0)throw new xo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new xo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new xo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=kr.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(kr.fromNumber(i)));return r.compare(bO)===1&&(r=new kr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=oE(e),[i,r]=sE(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,n);return i.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let n=oE(e),[i,r]=sE(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},xo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ju=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(de.min(),r,new et(we),Oi(),ge())}},Kc=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,ge(),ge(),ge())}};var Us=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},Xu=class{constructor(e,n){this.targetId=e,this.me=n}},Zu=class{constructor(e,n,i=Lt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},eh=class{constructor(){this.fe=0,this.ge=cE(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ge(),n=ge(),i=ge();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:oe()}}),new Kc(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=cE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Xg=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Oi(),this.qe=aE(),this.Qe=new et(we)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let o=r.target;if($g(o))if(i===0){let s=new te(o.path);this.Ue(n,s,Pn.newNoDocument(s,de.min()))}else Ve(i===1);else{let s=this.Ye(n);if(s!==i){let c=this.Ze(e),d=c?this.Xe(c,e,s):1;if(d!==0){this.je(n);let m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,m)}rE?.et(function(b,g,E,R,O){var F,D,U,Z,J,X;let Ie={localCacheCount:b,existenceFilterCount:g.count,databaseId:E.database,projectId:E.projectId},se=g.unchangedNames;return se&&(Ie.bloomFilter={applied:O===0,hashCount:(F=se?.hashCount)!==null&&F!==void 0?F:0,bitmapLength:(Z=(U=(D=se?.bits)===null||D===void 0?void 0:D.bitmap)===null||U===void 0?void 0:U.length)!==null&&Z!==void 0?Z:0,padding:(X=(J=se?.bits)===null||J===void 0?void 0:J.padding)!==null&&X!==void 0?X:0,mightContain:A=>{var y;return(y=R?.mightContain(A))!==null&&y!==void 0&&y}}),Ie}(s,e.me,this.Le.tt(),c,d))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,s,c;try{s=Dr(i).toUint8Array()}catch(d){if(d instanceof Gu)return Bs("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Jg(s,r,o)}catch(d){return Bs(d instanceof xo?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ie===0?null:c}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,o,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&$g(c.target)){let d=new te(c.target.path);this.ke.get(d)!==null||this.it(s,d)||this.Ue(s,d,Pn.newNoDocument(d,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let i=ge();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(d=>{let m=this.Je(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new Ju(e,n,this.Qe,this.ke,i);return this.ke=Oi(),this.qe=aE(),this.Qe=new et(we),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new eh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ft(we),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new eh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function aE(){return new et(te.comparator)}function cE(){return new et(te.comparator)}var vO={asc:"ASCENDING",desc:"DESCENDING"},_O={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yO={and:"AND",or:"OR"},Zg=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function eb(t,e){return t.useProto3Json||_h(e)?e:{value:e}}function th(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wO(t,e){return th(t,e.toTimestamp())}function si(t){return Ve(!!t),de.fromTimestamp(function(n){let i=Mi(n);return new Ct(i.seconds,i.nanos)}(t))}function hv(t,e){return tb(t,e).canonicalString()}function tb(t,e){let n=function(r){return new Qe(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QE(t){let e=Qe.fromString(t);return Ve(ex(e)),e}function nb(t,e){return hv(t.databaseId,e.path)}function vg(t,e){let n=QE(e);if(n.get(1)!==t.databaseId.projectId)throw new G(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(JE(n))}function YE(t,e){return hv(t.databaseId,e)}function IO(t){let e=QE(t);return e.length===4?Qe.emptyPath():JE(e)}function ib(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JE(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lE(t,e,n){return{name:nb(t,e),fields:n.value.mapValue.fields}}function EO(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(m,b){return m.useProto3Json?(Ve(b===void 0||typeof b=="string"),Lt.fromBase64String(b||"")):(Ve(b===void 0||b instanceof Buffer||b instanceof Uint8Array),Lt.fromUint8Array(b||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(m){let b=m.code===void 0?N.UNKNOWN:WE(m.code);return new G(b,m.message||"")}(s);n=new Zu(i,r,o,c||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=vg(t,i.document.name),o=si(i.document.updateTime),s=i.document.createTime?si(i.document.createTime):de.min(),c=new Dn({mapValue:{fields:i.document.fields}}),d=Pn.newFoundDocument(r,o,s,c),m=i.targetIds||[],b=i.removedTargetIds||[];n=new Us(m,b,d.key,d)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=vg(t,i.document),o=i.readTime?si(i.readTime):de.min(),s=Pn.newNoDocument(r,o),c=i.removedTargetIds||[];n=new Us([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=vg(t,i.document),o=i.removedTargetIds||[];n=new Us([],o,r,null)}else{if(!("filter"in e))return oe();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new Yg(r,o),c=i.targetId;n=new Xu(c,s)}}return n}function xO(t,e){let n;if(e instanceof Mo)n={update:lE(t,e.key,e.value)};else if(e instanceof Yu)n={delete:nb(t,e.key)};else if(e instanceof Ni)n={update:lE(t,e.key,e.data),updateMask:MO(e.fieldMask)};else{if(!(e instanceof Gg))return oe();n={verify:nb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let c=s.transform;if(c instanceof Ws)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Do)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Po)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ks)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw oe()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:wO(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe()}(t,e.precondition)),n}function TO(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(r,o){let s=r.updateTime?si(r.updateTime):si(o);return s.isEqual(de.min())&&(s=si(o)),new Hg(s,r.transformResults||[])}(n,e))):[]}function AO(t,e){return{documents:[YE(t,e.path)]}}function CO(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=YE(t,r);let o=function(m){if(m.length!==0)return ZE(Mn.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(m){if(m.length!==0)return m.map(b=>function(E){return{field:Fs(E.field),direction:RO(E.dir)}}(b))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=eb(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{_t:n,parent:r}}function SO(t){let e=IO(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Ve(i===1);let b=n.from[0];b.allDescendants?r=b.collectionId:e=e.child(b.collectionId)}let o=[];n.where&&(o=function(g){let E=XE(g);return E instanceof Mn&&RE(E)?E.getFilters():[E]}(n.where));let s=[];n.orderBy&&(s=function(g){return g.map(E=>function(O){return new Ro(Ls(O.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(E))}(n.orderBy));let c=null;n.limit&&(c=function(g){let E;return E=typeof g=="object"?g.value:g,_h(E)?null:E}(n.limit));let d=null;n.startAt&&(d=function(g){let E=!!g.before,R=g.values||[];return new Hs(R,E)}(n.startAt));let m=null;return n.endAt&&(m=function(g){let E=!g.before,R=g.values||[];return new Hs(R,E)}(n.endAt)),eO(e,r,s,o,c,"F",d,m)}function kO(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Ls(n.unaryFilter.field);return mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Ls(n.unaryFilter.field);return mt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ls(n.unaryFilter.field);return mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ls(n.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(Ls(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(i=>XE(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function RO(t){return vO[t]}function DO(t){return _O[t]}function PO(t){return yO[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Ls(t){return sn.fromServerFormat(t.fieldPath)}function ZE(t){return t instanceof mt?function(n){if(n.op==="=="){if(QI(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(KI(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QI(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(KI(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:DO(n.op),value:n.value}}}(t):t instanceof Mn?function(n){let i=n.getFilters().map(r=>ZE(r));return i.length===1?i[0]:{compositeFilter:{op:PO(n.op),filters:i}}}(t):oe()}function MO(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ex(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Qc=class t{constructor(e,n,i,r,o=de.min(),s=de.min(),c=Lt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var rb=class{constructor(e){this.ct=e}};function OO(t){let e=SO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qu(e,e.limit,"L"):e}var nh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(We(e.integerValue));else if("doubleValue"in e){let i=We(e.doubleValue);isNaN(i)?this.dt(n,13):(this.dt(n,15),Hc(i)?n.At(0):n.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(n,20),typeof i=="string"&&(i=Mi(i)),n.Rt(`${i.seconds||""}`),n.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Dr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(n,45),n.At(i.latitude||0),n.At(i.longitude||0)}else"mapValue"in e?CE(e)?this.dt(n,Number.MAX_SAFE_INTEGER):AE(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):oe()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let i=e.fields||{};this.dt(n,55);for(let r of Object.keys(i))this.Vt(r,n),this.Tt(i[r],n)}wt(e,n){var i,r;let o=e.fields||{};this.dt(n,53);let s="value",c=((r=(i=o[s].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(n,15),n.At(We(c)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let i=e.values||[];this.dt(n,50);for(let r of i)this.Tt(r,n)}yt(e,n){this.dt(n,37),te.fromName(e).path.forEach(i=>{this.dt(n,60),this.Dt(i,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};nh.vt=new nh;var ob=class{constructor(){this.un=new sb}addToCollectionParentIndex(e,n){return this.un.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(So.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(So.min())}updateCollectionGroup(e,n,i){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}},sb=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ft(Qe.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ft(Qe.comparator)).toArray()}};var sz=new Uint8Array(0);var ni=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ni.DEFAULT_COLLECTION_PERCENTILE=10,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ni.DEFAULT=new ni(41943040,ni.DEFAULT_COLLECTION_PERCENTILE,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ni.DISABLED=new ni(-1,0,0);var Yc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var ab=class{constructor(){this.changes=new Mr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?V.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var cb=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var lb=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&$c(i.mutation,r,ii.empty(),Ct.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ge()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ge()){let r=Eo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=Uc();return o.forEach((c,d)=>{s=s.insert(c,d.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let i=Eo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ge()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,i,r){let o=Oi(),s=zc(),c=function(){return zc()}();return n.forEach((d,m)=>{let b=i.get(m.key);r.has(m.key)&&(b===void 0||b.mutation instanceof Ni)?o=o.insert(m.key,m):b!==void 0?(s.set(m.key,b.mutation.getFieldMask()),$c(b.mutation,m,b.mutation.getFieldMask(),Ct.now())):s.set(m.key,ii.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((m,b)=>s.set(m,b)),n.forEach((m,b)=>{var g;return c.set(m,new cb(b,(g=s.get(m))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let i=zc(),r=new et((s,c)=>s-c),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(d=>{let m=n.get(d);if(m===null)return;let b=i.get(d)||ii.empty();b=c.applyToLocalView(m,b),i.set(d,b);let g=(r.get(c.batchId)||ge()).add(d);r=r.insert(c.batchId,g)})}).next(()=>{let s=[],c=r.getReverseIterator();for(;c.hasNext();){let d=c.getNext(),m=d.key,b=d.value,g=UE();b.forEach(E=>{if(!o.has(E)){let R=HE(n.get(E),i.get(E));R!==null&&g.set(E,R),o=o.add(E)}}),s.push(this.documentOverlayCache.saveOverlays(e,m,g))}return V.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):V.resolve(Eo()),c=-1,d=o;return s.next(m=>V.forEach(m,(b,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(b)?V.resolve():this.remoteDocumentCache.getEntry(e,b).next(E=>{d=d.insert(b,E)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,d,m,ge())).next(b=>({batchId:c,changes:VE(b)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(i=>{let r=Uc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,s=Uc();return this.indexManager.getCollectionParents(e,o).next(c=>V.forEach(c,d=>{let m=function(g,E){return new Pr(E,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,r).next(b=>{b.forEach((g,E)=>{s=s.insert(g,E)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(s=>{o.forEach((d,m)=>{let b=m.getKey();s.get(b)===null&&(s=s.insert(b,Pn.newInvalidDocument(b)))});let c=Uc();return s.forEach((d,m)=>{let b=o.get(d);b!==void 0&&$c(b.mutation,m,ii.empty(),Ct.now()),wh(n,m)&&(c=c.insert(d,m))}),c})}};var db=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return V.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:si(r.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:OO(r.bundledQuery),readTime:si(r.readTime)}}(n)),V.resolve()}};var ub=class{constructor(){this.overlays=new et(te.comparator),this.Ir=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Eo();return V.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),V.resolve()}getOverlaysForCollection(e,n,i){let r=Eo(),o=n.length+1,s=new te(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let d=c.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return V.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new et((m,b)=>m-b),s=this.overlays.getIterator();for(;s.hasNext();){let m=s.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let b=o.get(m.largestBatchId);b===null&&(b=Eo(),o=o.insert(m.largestBatchId,b)),b.set(m.getKey(),m)}}let c=Eo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,b)=>c.set(m,b)),!(c.size()>=r)););return V.resolve(c)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new Qg(n,i));let o=this.Ir.get(n);o===void 0&&(o=ge(),this.Ir.set(n,o)),this.Ir.set(n,o.add(i.key))}};var hb=class{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}};var Jc=class{constructor(){this.Tr=new Ft(ht.Er),this.dr=new Ft(ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let i=new ht(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new ht(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){let n=new te(new Qe([])),i=new ht(n,e),r=new ht(n,e+1),o=[];return this.dr.forEachInRange([i,r],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new te(new Qe([])),i=new ht(n,e),r=new ht(n,e+1),o=ge();return this.dr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ht(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},ht=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||we(e.wr,n.wr)}static Ar(e,n){return we(e.wr,n.wr)||te.comparator(e.key,n.key)}};var mb=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ft(ht.Er)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Wg(o,n,i,r);this.mutationQueue.push(s);for(let c of r)this.br=this.br.add(new ht(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.vr(i),o=r<0?0:r;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new ht(n,0),r=new ht(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],s=>{let c=this.Dr(s.wr);o.push(c)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ft(we);return n.forEach(r=>{let o=new ht(r,0),s=new ht(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{i=i.add(c.wr)})}),V.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;te.isDocumentKey(o)||(o=o.child(""));let s=new ht(new te(o),0),c=new Ft(we);return this.br.forEachWhile(d=>{let m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(c=c.add(d.wr)),!0)},s),V.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return V.forEach(n.mutations,r=>{let o=new ht(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){let i=new ht(n,0),r=this.br.firstAfterOrEqual(i);return V.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var fb=class{constructor(e){this.Mr=e,this.docs=function(){return new et(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return V.resolve(i?i.document.mutableCopy():Pn.newInvalidDocument(n))}getEntries(e,n){let i=Oi();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Pn.newInvalidDocument(r))}),V.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=Oi(),s=n.path,c=new te(s.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){let{key:m,value:{document:b}}=d.getNext();if(!s.isPrefixOf(m.path))break;m.path.length>s.length+1||$M(zM(b),i)<=0||(r.has(b.key)||wh(n,b))&&(o=o.insert(b.key,b.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,i,r){oe()}Or(e,n){return V.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new pb(this)}getSize(e){return V.resolve(this.size)}},pb=class extends ab{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),V.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var gb=class{constructor(e){this.persistence=e,this.Nr=new Mr(n=>cv(n),lv),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jc,this.targetCount=0,this.kr=Yc.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),V.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Yc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Kn(n),V.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),V.waitFor(o).next(()=>r)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){let i=this.Nr.get(n)||null;return V.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),V.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),V.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Br.yr(n);return V.resolve(i)}containsKey(e,n){return V.resolve(this.Br.containsKey(n))}};var bb=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new xE(0),this.Kr=!1,this.Kr=!0,this.$r=new hb,this.referenceDelegate=e(this),this.Ur=new gb(this),this.indexManager=new ob,this.remoteDocumentCache=function(r){return new fb(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new rb(n),this.Gr=new db(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ub,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new mb(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){Y("MemoryPersistence","Starting transaction:",e);let r=new vb(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(e,n){return V.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}},vb=class extends Rg{constructor(e){super(),this.currentSequenceNumber=e}},_b=class t{constructor(e){this.persistence=e,this.Jr=new Jc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),V.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),V.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Xr,i=>{let r=te.fromPath(i);return this.ei(e,r).next(o=>{o||n.removeEntry(r,de.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return V.or([()=>V.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var yb=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=ge(),r=ge();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var wb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ib=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return E0()?8:HM(yt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new wb;return this.Xi(e,n,s).next(c=>{if(o.result=c,this.zi)return this.es(e,n,s,c.size)})}).next(()=>o.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(Vc()<=pe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),V.resolve()):(Vc()<=pe.DEBUG&&Y("QueryEngine","Query:",Ns(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Vc()<=pe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(n))):V.resolve())}Yi(e,n){if(ZI(n))return V.resolve(null);let i=oi(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Qu(n,null,"F"),i=oi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=ge(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,i).next(d=>{let m=this.ts(n,c);return this.ns(n,m,s,d.readTime)?this.Yi(e,Qu(n,null,"F")):this.rs(e,m,n,d)}))})))}Zi(e,n,i,r){return ZI(n)||r.isEqual(de.min())?V.resolve(null):this.Ji.getDocuments(e,i).next(o=>{let s=this.ts(n,o);return this.ns(n,s,i,r)?V.resolve(null):(Vc()<=pe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ns(n)),this.rs(e,s,n,BM(r,-1)).next(c=>c))})}ts(e,n){let i=new Ft(FE(e));return n.forEach((r,o)=>{wh(e,o)&&(i=i.add(o))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(e,n,i){return Vc()<=pe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Ns(n)),this.Ji.getDocumentsMatchingQuery(e,n,So.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Eb=class{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new et(we),this._s=new Mr(o=>cv(o),lv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lb(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function NO(t,e,n,i){return new Eb(t,e,n,i)}function tx(t,e){return x(this,null,function*(){let n=ce(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],c=[],d=ge();for(let m of r){s.push(m.batchId);for(let b of m.mutations)d=d.add(b.key)}for(let m of o){c.push(m.batchId);for(let b of m.mutations)d=d.add(b.key)}return n.localDocuments.getDocuments(i,d).next(m=>({hs:m,removedBatchIds:s,addedBatchIds:c}))})})})}function FO(t,e){let n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,d,m,b){let g=m.batch,E=g.keys(),R=V.resolve();return E.forEach(O=>{R=R.next(()=>b.getEntry(d,O)).next(F=>{let D=m.docVersions.get(O);Ve(D!==null),F.version.compareTo(D)<0&&(g.applyToRemoteDocument(F,m),F.isValidDocument()&&(F.setReadTime(m.commitVersion),b.addEntry(F)))})}),R.next(()=>c.mutationQueue.removeMutationBatch(d,g))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=ge();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(d=d.add(c.batch.mutations[m].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function nx(t){let e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function LO(t,e){let n=ce(t),i=e.snapshotVersion,r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;let c=[];e.targetChanges.forEach((b,g)=>{let E=r.get(g);if(!E)return;c.push(n.Ur.removeMatchingKeys(o,b.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(o,b.addedDocuments,g)));let R=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?R=R.withResumeToken(Lt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):b.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(b.resumeToken,i)),r=r.insert(g,R),function(F,D,U){return F.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(E,R,b)&&c.push(n.Ur.updateTargetData(o,R))});let d=Oi(),m=ge();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,b))}),c.push(VO(o,s,e.documentUpdates).next(b=>{d=b.Ps,m=b.Is})),!i.isEqual(de.min())){let b=n.Ur.getLastRemoteSnapshotVersion(o).next(g=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(b)}return V.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,m)).next(()=>d)}).then(o=>(n.os=r,o))}function VO(t,e,n){let i=ge(),r=ge();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=Oi();return n.forEach((c,d)=>{let m=o.get(c);d.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(c)),d.isNoDocument()&&d.version.isEqual(de.min())?(e.removeEntry(c,d.readTime),s=s.insert(c,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),s=s.insert(c,d)):Y("LocalStore","Ignoring outdated watch update for ",c,". Current version:",m.version," Watch version:",d.version)}),{Ps:s,Is:r}})}function UO(t,e){let n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function jO(t,e){let n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(o=>o?(r=o,V.resolve(r)):n.Ur.allocateTargetId(i).next(s=>(r=new Qc(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}function xb(t,e,n){return x(this,null,function*(){let i=ce(t),r=i.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!ol(s))throw s;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function dE(t,e,n){let i=ce(t),r=de.min(),o=ge();return i.persistence.runTransaction("Execute query","readwrite",s=>function(d,m,b){let g=ce(d),E=g._s.get(b);return E!==void 0?V.resolve(g.os.get(E)):g.Ur.getTargetData(m,b)}(i,s,oi(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,c.targetId).next(d=>{o=d})}).next(()=>i.ss.getDocumentsMatchingQuery(s,e,n?r:de.min(),n?o:ge())).next(c=>(BO(i,nO(e),c),{documents:c,Ts:o})))}function BO(t,e,n){let i=t.us.get(e)||de.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.us.set(e,i)}var ih=class{constructor(){this.activeTargetIds=cO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Tb=class{constructor(){this.so=new ih,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ih,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ab=class{_o(e){}shutdown(){}};var rh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Uu=null;function _g(){return Uu===null?Uu=function(){return 268435456+Math.round(2147483648*Math.random())}():Uu++,"0x"+Uu.toString(16)}var zO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Cb=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Nt="WebChannelConnection",Sb=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(n,i,r,o,s){let c=_g(),d=this.xo(n,i.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${c}:`,d,r);let m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,o,s),this.No(n,d,m,r).then(b=>(Y("RestConnection",`Received RPC '${n}' ${c}: `,b),b),b=>{throw Bs("RestConnection",`RPC '${n}' ${c} failed with error: `,b,"url: ",d,"request:",r),b})}Lo(n,i,r,o,s,c){return this.Mo(n,i,r,o,s)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}xo(n,i){let r=zO[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){let o=_g();return new Promise((s,c)=>{let d=new hg;d.setWithCredentials(!0),d.listenOnce(fg.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Lc.NO_ERROR:let b=d.getResponseJson();Y(Nt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(b)),s(b);break;case Lc.TIMEOUT:Y(Nt,`RPC '${e}' ${o} timed out`),c(new G(N.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:let g=d.getStatus();if(Y(Nt,`RPC '${e}' ${o} failed with status:`,g,"response text:",d.getResponseText()),g>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);let R=E?.error;if(R&&R.status&&R.message){let O=function(D){let U=D.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(U)>=0?U:N.UNKNOWN}(R.status);c(new G(O,R.message))}else c(new G(N.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new G(N.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{Y(Nt,`RPC '${e}' ${o} completed.`)}});let m=JSON.stringify(r);Y(Nt,`RPC '${e}' ${o} sending request:`,r),d.send(n,"POST",m,i,15)})}Bo(e,n,i){let r=_g(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=bg(),c=gg(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.xmlHttpFactory=new mg({})),this.Oo(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;let b=o.join("");Y(Nt,`Creating RPC '${e}' stream ${r}: ${b}`,d);let g=s.createWebChannel(b,d),E=!1,R=!1,O=new Cb({Io:D=>{R?Y(Nt,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(E||(Y(Nt,`Opening RPC '${e}' stream ${r} transport.`),g.open(),E=!0),Y(Nt,`RPC '${e}' stream ${r} sending:`,D),g.send(D))},To:()=>g.close()}),F=(D,U,Z)=>{D.listen(U,J=>{try{Z(J)}catch(X){setTimeout(()=>{throw X},0)}})};return F(g,Os.EventType.OPEN,()=>{R||(Y(Nt,`RPC '${e}' stream ${r} transport opened.`),O.yo())}),F(g,Os.EventType.CLOSE,()=>{R||(R=!0,Y(Nt,`RPC '${e}' stream ${r} transport closed`),O.So())}),F(g,Os.EventType.ERROR,D=>{R||(R=!0,Bs(Nt,`RPC '${e}' stream ${r} transport errored:`,D),O.So(new G(N.UNAVAILABLE,"The operation could not be completed")))}),F(g,Os.EventType.MESSAGE,D=>{var U;if(!R){let Z=D.data[0];Ve(!!Z);let J=Z,X=J.error||((U=J[0])===null||U===void 0?void 0:U.error);if(X){Y(Nt,`RPC '${e}' stream ${r} received error:`,X);let Ie=X.status,se=function(w){let T=ut[w];if(T!==void 0)return WE(T)}(Ie),A=X.message;se===void 0&&(se=N.INTERNAL,A="Unknown error status: "+Ie+" with message "+X.message),R=!0,O.So(new G(se,A)),g.close()}else Y(Nt,`RPC '${e}' stream ${r} received:`,Z),O.bo(Z)}}),F(c,pg.STAT_EVENT,D=>{D.stat===Lu.PROXY?Y(Nt,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===Lu.NOPROXY&&Y(Nt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{O.wo()},0),O}};function yg(){return typeof document<"u"?document:null}function Ih(t){return new Zg(t,!0)}var oh=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&Y("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var sh=class{constructor(e,n,i,r,o,s,c,d){this.ui=e,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new oh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return x(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return x(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return x(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{let r=new G(N.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){let i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>x(this,null,function*(){this.state=0,this.start()}))}I_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},kb=class extends sh{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=EO(this.serializer,e),i=function(o){if(!("targetChange"in o))return de.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?de.min():s.readTime?si(s.readTime):de.min()}(e);return this.listener.d_(n,i)}A_(e){let n={};n.database=ib(this.serializer),n.addTarget=function(o,s){let c,d=s.target;if(c=$g(d)?{documents:AO(o,d)}:{query:CO(o,d)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=KE(o,s.resumeToken);let m=eb(o,s.expectedCount);m!==null&&(c.expectedCount=m)}else if(s.snapshotVersion.compareTo(de.min())>0){c.readTime=th(o,s.snapshotVersion.toTimestamp());let m=eb(o,s.expectedCount);m!==null&&(c.expectedCount=m)}return c}(this.serializer,e);let i=kO(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){let n={};n.database=ib(this.serializer),n.removeTarget=e,this.a_(n)}},Rb=class extends sh{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=TO(e.writeResults,e.commitTime),i=si(e.commitTime);return this.listener.g_(i,n)}p_(){let e={};e.database=ib(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>xO(this.serializer,i))};this.a_(n)}};var Db=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new G(N.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,tb(n,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(N.UNKNOWN,o.toString())})}Lo(e,n,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,tb(n,i),r,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(N.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Pb=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Pi(n),this.D_=!1):Y("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Mb=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{i.enqueueAndForget(()=>x(this,null,function*(){Oo(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),yield function(d){return x(this,null,function*(){let m=ce(d);m.L_.add(4),yield sl(m),m.q_.set("Unknown"),m.L_.delete(4),yield Eh(m)})}(this))}))}),this.q_=new Pb(i,r)}};function Eh(t){return x(this,null,function*(){if(Oo(t))for(let e of t.B_)yield e(!0)})}function sl(t){return x(this,null,function*(){for(let e of t.B_)yield e(!1)})}function ix(t,e){let n=ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),gv(n)?pv(n):ta(n).r_()&&fv(n,e))}function mv(t,e){let n=ce(t),i=ta(n);n.N_.delete(e),i.r_()&&rx(n,e),n.N_.size===0&&(i.r_()?i.o_():Oo(n)&&n.q_.set("Unknown"))}function fv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ta(t).A_(e)}function rx(t,e){t.Q_.xe(e),ta(t).R_(e)}function pv(t){t.Q_=new Xg({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ta(t).start(),t.q_.v_()}function gv(t){return Oo(t)&&!ta(t).n_()&&t.N_.size>0}function Oo(t){return ce(t).L_.size===0}function ox(t){t.Q_=void 0}function $O(t){return x(this,null,function*(){t.q_.set("Online")})}function qO(t){return x(this,null,function*(){t.N_.forEach((e,n)=>{fv(t,e)})})}function HO(t,e){return x(this,null,function*(){ox(t),gv(t)?(t.q_.M_(e),pv(t)):t.q_.set("Unknown")})}function GO(t,e,n){return x(this,null,function*(){if(t.q_.set("Online"),e instanceof Zu&&e.state===2&&e.cause)try{yield function(r,o){return x(this,null,function*(){let s=o.cause;for(let c of o.targetIds)r.N_.has(c)&&(yield r.remoteSyncer.rejectListen(c,s),r.N_.delete(c),r.Q_.removeTarget(c))})}(t,e)}catch(i){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ah(t,i)}else if(e instanceof Us?t.Q_.Ke(e):e instanceof Xu?t.Q_.He(e):t.Q_.We(e),!n.isEqual(de.min()))try{let i=yield nx(t.localStore);n.compareTo(i)>=0&&(yield function(o,s){let c=o.Q_.rt(s);return c.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){let b=o.N_.get(m);b&&o.N_.set(m,b.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach((d,m)=>{let b=o.N_.get(d);if(!b)return;o.N_.set(d,b.withResumeToken(Lt.EMPTY_BYTE_STRING,b.snapshotVersion)),rx(o,d);let g=new Qc(b.target,d,m,b.sequenceNumber);fv(o,g)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(i){Y("RemoteStore","Failed to raise snapshot:",i),yield ah(t,i)}})}function ah(t,e,n){return x(this,null,function*(){if(!ol(e))throw e;t.L_.add(1),yield sl(t),t.q_.set("Offline"),n||(n=()=>nx(t.localStore)),t.asyncQueue.enqueueRetryable(()=>x(this,null,function*(){Y("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Eh(t)}))})}function sx(t,e){return e().catch(n=>ah(t,n,e))}function xh(t){return x(this,null,function*(){let e=ce(t),n=Or(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;WO(e);)try{let r=yield UO(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,KO(e,r)}catch(r){yield ah(e,r)}ax(e)&&cx(e)})}function WO(t){return Oo(t)&&t.O_.length<10}function KO(t,e){t.O_.push(e);let n=Or(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ax(t){return Oo(t)&&!Or(t).n_()&&t.O_.length>0}function cx(t){Or(t).start()}function QO(t){return x(this,null,function*(){Or(t).p_()})}function YO(t){return x(this,null,function*(){let e=Or(t);for(let n of t.O_)e.m_(n.mutations)})}function JO(t,e,n){return x(this,null,function*(){let i=t.O_.shift(),r=Kg.from(i,e,n);yield sx(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield xh(t)})}function XO(t,e){return x(this,null,function*(){e&&Or(t).V_&&(yield function(i,r){return x(this,null,function*(){if(function(s){return pO(s)&&s!==N.ABORTED}(r.code)){let o=i.O_.shift();Or(i).s_(),yield sx(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield xh(i)}})}(t,e)),ax(t)&&cx(t)})}function uE(t,e){return x(this,null,function*(){let n=ce(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");let i=Oo(n);n.L_.add(3),yield sl(n),i&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Eh(n)})}function ZO(t,e){return x(this,null,function*(){let n=ce(t);e?(n.L_.delete(2),yield Eh(n)):e||(n.L_.add(2),yield sl(n),n.q_.set("Unknown"))})}function ta(t){return t.K_||(t.K_=function(n,i,r){let o=ce(n);return o.w_(),new kb(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Eo:$O.bind(null,t),Ro:qO.bind(null,t),mo:HO.bind(null,t),d_:GO.bind(null,t)}),t.B_.push(e=>x(this,null,function*(){e?(t.K_.s_(),gv(t)?pv(t):t.q_.set("Unknown")):(yield t.K_.stop(),ox(t))}))),t.K_}function Or(t){return t.U_||(t.U_=function(n,i,r){let o=ce(n);return o.w_(),new Rb(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:QO.bind(null,t),mo:XO.bind(null,t),f_:YO.bind(null,t),g_:JO.bind(null,t)}),t.B_.push(e=>x(this,null,function*(){e?(t.U_.s_(),yield xh(t)):(yield t.U_.stop(),t.O_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Ob=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,c=new t(e,n,s,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function bv(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),ol(t))return new G(N.UNAVAILABLE,`${e}: ${t}`);throw t}var ch=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||te.comparator(n.key,i.key):(n,i)=>te.comparator(n.key,i.key),this.keyedMap=Uc(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var lh=class{constructor(){this.W_=new et(te.comparator)}track(e){let n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}},Ys=class t{constructor(e,n,i,r,o,s,c,d,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,r,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,ch.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var Nb=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Fb=class{constructor(){this.queries=hE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){let r=ce(n),o=r.queries;r.queries=hE(),o.forEach((s,c)=>{for(let d of c.j_)d.onError(i)})})(this,new G(N.ABORTED,"Firestore shutting down"))}};function hE(){return new Mr(t=>NE(t),yh)}function eN(t,e){return x(this,null,function*(){let n=ce(t),i=3,r=e.query,o=n.queries.get(r);o?!o.H_()&&e.J_()&&(i=2):(o=new Nb,i=e.J_()?0:1);try{switch(i){case 0:o.z_=yield n.onListen(r,!0);break;case 1:o.z_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(s){let c=bv(s,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&vv(n)})}function tN(t,e){return x(this,null,function*(){let n=ce(t),i=e.query,r=3,o=n.queries.get(i);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?r=e.J_()?0:1:!o.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function nN(t,e){let n=ce(t),i=!1;for(let r of e){let o=r.query,s=n.queries.get(o);if(s){for(let c of s.j_)c.X_(r)&&(i=!0);s.z_=r}}i&&vv(n)}function iN(t,e,n){let i=ce(t),r=i.queries.get(e);if(r)for(let o of r.j_)o.onError(n);i.queries.delete(e)}function vv(t){t.Y_.forEach(e=>{e.next()})}var Lb,mE;(mE=Lb||(Lb={})).ea="default",mE.Cache="cache";var Vb=class{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Ys(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Lb.Cache}};var dh=class{constructor(e){this.key=e}},uh=class{constructor(e){this.key=e}},Ub=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ge(),this.mutatedKeys=ge(),this.Aa=FE(e),this.Ra=new ch(this.Aa)}get Va(){return this.Ta}ma(e,n){let i=n?n.fa:new lh,r=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=r,c=!1,d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((b,g)=>{let E=r.get(b),R=wh(this.query,g)?g:null,O=!!E&&this.mutatedKeys.has(E.key),F=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations),D=!1;E&&R?E.data.isEqual(R.data)?O!==F&&(i.track({type:3,doc:R}),D=!0):this.ga(E,R)||(i.track({type:2,doc:R}),D=!0,(d&&this.Aa(R,d)>0||m&&this.Aa(R,m)<0)&&(c=!0)):!E&&R?(i.track({type:0,doc:R}),D=!0):E&&!R&&(i.track({type:1,doc:E}),D=!0,(d||m)&&(c=!0)),D&&(R?(s=s.add(R),o=F?o.add(b):o.delete(b)):(s=s.delete(b),o=o.delete(b)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let b=this.query.limitType==="F"?s.last():s.first();s=s.delete(b.key),o=o.delete(b.key),i.track({type:1,doc:b})}return{Ra:s,fa:i,ns:c,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((b,g)=>function(R,O){let F=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return F(R)-F(O)}(b.type,g.type)||this.Aa(b.doc,g.doc)),this.pa(i),r=r!=null&&r;let c=n&&!r?this.ya():[],d=this.da.size===0&&this.current&&!r?1:0,m=d!==this.Ea;return this.Ea=d,s.length!==0||m?{snapshot:new Ys(this.query,e.Ra,o,s,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new lh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ge(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let n=[];return e.forEach(i=>{this.da.has(i)||n.push(new uh(i))}),this.da.forEach(i=>{e.has(i)||n.push(new dh(i))}),n}ba(e){this.Ta=e.Ts,this.da=ge();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ys.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},jb=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},Bb=class{constructor(e){this.key=e,this.va=!1}},zb=class{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Mr(c=>NE(c),yh),this.Ma=new Map,this.xa=new Set,this.Oa=new et(te.comparator),this.Na=new Map,this.La=new Jc,this.Ba={},this.ka=new Map,this.qa=Yc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function rN(t,e,n=!0){return x(this,null,function*(){let i=fx(t),r,o=i.Fa.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=yield lx(i,e,n,!0),r})}function oN(t,e){return x(this,null,function*(){let n=fx(t);yield lx(n,e,!0,!1)})}function lx(t,e,n,i){return x(this,null,function*(){let r=yield jO(t.localStore,oi(e)),o=r.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",c;return i&&(c=yield sN(t,e,o,s==="current",r.resumeToken)),t.isPrimaryClient&&n&&ix(t.remoteStore,r),c})}function sN(t,e,n,i,r){return x(this,null,function*(){t.Ka=(g,E,R)=>function(F,D,U,Z){return x(this,null,function*(){let J=D.view.ma(U);J.ns&&(J=yield dE(F.localStore,D.query,!1).then(({documents:A})=>D.view.ma(A,J)));let X=Z&&Z.targetChanges.get(D.targetId),Ie=Z&&Z.targetMismatches.get(D.targetId)!=null,se=D.view.applyChanges(J,F.isPrimaryClient,X,Ie);return pE(F,D.targetId,se.wa),se.snapshot})}(t,g,E,R);let o=yield dE(t.localStore,e,!0),s=new Ub(e,o.Ts),c=s.ma(o.documents),d=Kc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),m=s.applyChanges(c,t.isPrimaryClient,d);pE(t,n,m.wa);let b=new jb(e,n,s);return t.Fa.set(e,b),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),m.snapshot})}function aN(t,e,n){return x(this,null,function*(){let i=ce(t),r=i.Fa.get(e),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(s=>!yh(s,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield xb(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&mv(i.remoteStore,r.targetId),$b(i,r.targetId)}).catch(rl))):($b(i,r.targetId),yield xb(i.localStore,r.targetId,!0))})}function cN(t,e){return x(this,null,function*(){let n=ce(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),mv(n.remoteStore,i.targetId))})}function lN(t,e,n){return x(this,null,function*(){let i=gN(t);try{let r=yield function(s,c){let d=ce(s),m=Ct.now(),b=c.reduce((R,O)=>R.add(O.key),ge()),g,E;return d.persistence.runTransaction("Locally write mutations","readwrite",R=>{let O=Oi(),F=ge();return d.cs.getEntries(R,b).next(D=>{O=D,O.forEach((U,Z)=>{Z.isValidDocument()||(F=F.add(U))})}).next(()=>d.localDocuments.getOverlayedDocuments(R,O)).next(D=>{g=D;let U=[];for(let Z of c){let J=fO(Z,g.get(Z.key).overlayedDocument);J!=null&&U.push(new Ni(Z.key,J,SE(J.value.mapValue),Ao.exists(!0)))}return d.mutationQueue.addMutationBatch(R,m,U,c)}).next(D=>{E=D;let U=D.applyToLocalDocumentSet(g,F);return d.documentOverlayCache.saveOverlays(R,D.batchId,U)})}).then(()=>({batchId:E.batchId,changes:VE(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let m=s.Ba[s.currentUser.toKey()];m||(m=new et(we)),m=m.insert(c,d),s.Ba[s.currentUser.toKey()]=m}(i,r.batchId,n),yield al(i,r.changes),yield xh(i.remoteStore)}catch(r){let o=bv(r,"Failed to persist write");n.reject(o)}})}function dx(t,e){return x(this,null,function*(){let n=ce(t);try{let i=yield LO(n.localStore,e);e.targetChanges.forEach((r,o)=>{let s=n.Na.get(o);s&&(Ve(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.va=!0:r.modifiedDocuments.size>0?Ve(s.va):r.removedDocuments.size>0&&(Ve(s.va),s.va=!1))}),yield al(n,i,e)}catch(i){yield rl(i)}})}function fE(t,e,n){let i=ce(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&r.push(c.snapshot)}),function(s,c){let d=ce(s);d.onlineState=c;let m=!1;d.queries.forEach((b,g)=>{for(let E of g.j_)E.Z_(c)&&(m=!0)}),m&&vv(d)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function dN(t,e,n){return x(this,null,function*(){let i=ce(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Na.get(e),o=r&&r.key;if(o){let s=new et(te.comparator);s=s.insert(o,Pn.newNoDocument(o,de.min()));let c=ge().add(o),d=new Ju(de.min(),new Map,new et(we),s,c);yield dx(i,d),i.Oa=i.Oa.remove(o),i.Na.delete(e),_v(i)}else yield xb(i.localStore,e,!1).then(()=>$b(i,e,n)).catch(rl)})}function uN(t,e){return x(this,null,function*(){let n=ce(t),i=e.batch.batchId;try{let r=yield FO(n.localStore,e);hx(n,i,null),ux(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield al(n,r)}catch(r){yield rl(r)}})}function hN(t,e,n){return x(this,null,function*(){let i=ce(t);try{let r=yield function(s,c){let d=ce(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let b;return d.mutationQueue.lookupMutationBatch(m,c).next(g=>(Ve(g!==null),b=g.keys(),d.mutationQueue.removeMutationBatch(m,g))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,b,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,b)).next(()=>d.localDocuments.getDocuments(m,b))})}(i.localStore,e);hx(i,e,n),ux(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield al(i,r)}catch(r){yield rl(r)}})}function ux(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function hx(t,e,n){let i=ce(t),r=i.Ba[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function $b(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||mx(t,i)})}function mx(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(mv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),_v(t))}function pE(t,e,n){for(let i of n)i instanceof dh?(t.La.addReference(i.key,e),mN(t,i)):i instanceof uh?(Y("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||mx(t,i.key)):oe()}function mN(t,e){let n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(Y("SyncEngine","New document in limbo: "+n),t.xa.add(i),_v(t))}function _v(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new te(Qe.fromString(e)),i=t.qa.next();t.Na.set(i,new Bb(n)),t.Oa=t.Oa.insert(n,i),ix(t.remoteStore,new Qc(oi(dv(n.path)),i,"TargetPurposeLimboResolution",xE.oe))}}function al(t,e,n){return x(this,null,function*(){let i=ce(t),r=[],o=[],s=[];i.Fa.isEmpty()||(i.Fa.forEach((c,d)=>{s.push(i.Ka(d,e,n).then(m=>{var b;if((m||n)&&i.isPrimaryClient){let g=m?!m.fromCache:(b=n?.targetChanges.get(d.targetId))===null||b===void 0?void 0:b.current;i.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(m){r.push(m);let g=yb.Wi(d.targetId,m);o.push(g)}}))}),yield Promise.all(s),i.Ca.d_(r),yield function(d,m){return x(this,null,function*(){let b=ce(d);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>V.forEach(m,E=>V.forEach(E.$i,R=>b.persistence.referenceDelegate.addReference(g,E.targetId,R)).next(()=>V.forEach(E.Ui,R=>b.persistence.referenceDelegate.removeReference(g,E.targetId,R)))))}catch(g){if(!ol(g))throw g;Y("LocalStore","Failed to update sequence numbers: "+g)}for(let g of m){let E=g.targetId;if(!g.fromCache){let R=b.os.get(E),O=R.snapshotVersion,F=R.withLastLimboFreeSnapshotVersion(O);b.os=b.os.insert(E,F)}}})}(i.localStore,o))})}function fN(t,e){return x(this,null,function*(){let n=ce(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());let i=yield tx(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(d=>{d.reject(new G(N.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield al(n,i.hs)}})}function pN(t,e){let n=ce(t),i=n.Na.get(e);if(i&&i.va)return ge().add(i.key);{let r=ge(),o=n.Ma.get(e);if(!o)return r;for(let s of o){let c=n.Fa.get(s);r=r.unionWith(c.view.Va)}return r}}function fx(t){let e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dN.bind(null,e),e.Ca.d_=nN.bind(null,e.eventManager),e.Ca.$a=iN.bind(null,e.eventManager),e}function gN(t){let e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hN.bind(null,e),e}var hh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return x(this,null,function*(){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return NO(this.persistence,new Ib,e.initialUser,this.serializer)}createPersistence(e){return new bb(_b.Zr,this.serializer)}createSharedClientState(e){return new Tb}terminate(){return x(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var qb=class{initialize(e,n){return x(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fN.bind(null,this.syncEngine),yield ZO(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Fb}()}createDatastore(e){let n=Ih(e.databaseInfo.databaseId),i=function(o){return new Sb(o)}(e.databaseInfo);return function(o,s,c,d){return new Db(o,s,c,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,s,c){return new Mb(i,r,o,s,c)}(this.localStore,this.datastore,e.asyncQueue,n=>fE(this.syncEngine,n,0),function(){return rh.D()?new rh:new Ab}())}createSyncEngine(e,n){return function(r,o,s,c,d,m,b){let g=new zb(r,o,s,c,d,m);return b&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return x(this,null,function*(){var e,n;yield function(r){return x(this,null,function*(){let o=ce(r);Y("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield sl(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Hb=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Gb=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=wt.UNAUTHENTICATED,this.clientId=$u.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>x(this,null,function*(){Y("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(Y("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>x(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=bv(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function wg(t,e){return x(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>x(this,null,function*(){i.isEqual(r)||(yield tx(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function gE(t,e){return x(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield vN(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>uE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>uE(e.remoteStore,r)),t._onlineComponents=e})}function bN(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function vN(t){return x(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!bN(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),yield wg(t,new hh)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),yield wg(t,new hh);return t._offlineComponents})}function px(t){return x(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),yield gE(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),yield gE(t,new qb))),t._onlineComponents})}function _N(t){return px(t).then(e=>e.syncEngine)}function bE(t){return x(this,null,function*(){let e=yield px(t),n=e.eventManager;return n.onListen=rN.bind(null,e.syncEngine),n.onUnlisten=aN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cN.bind(null,e.syncEngine),n})}function gx(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var vE=new Map;function bx(t,e,n){if(!n)throw new G(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yN(t,e,n,i){if(e===!0&&i===!0)throw new G(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _E(t){if(!te.isDocumentKey(t))throw new G(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yE(t){if(te.isDocumentKey(t))throw new G(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Th(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function qc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Th(t);throw new G(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function wN(t,e){if(e<=0)throw new G(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var mh=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new G(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gx((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Js=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mh(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ig;switch(i.type){case"firstParty":return new Ag(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new G(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=vE.get(n);i&&(Y("ComponentProvider","Removing Datastore"),vE.delete(n),i.terminate())}(this),Promise.resolve()}};function vx(t,e,n,i={}){var r;let o=(t=qc(t,Js))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let c,d;if(typeof i.mockUserToken=="string")c=i.mockUserToken,d=wt.MOCK_USER;else{c=hu(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new G(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new wt(m)}t._authCredentials=new Eg(new zu(c,d))}}var Nr=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},an=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Rr=class t extends Nr{constructor(e,n,i){super(e,n,dv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new te(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function _x(t,e,...n){if(t=Ze(t),bx("collection","path",e),t instanceof Js){let i=Qe.fromString(e,...n);return yE(i),new Rr(t,null,i)}{if(!(t instanceof an||t instanceof Rr))throw new G(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Qe.fromString(e,...n));return yE(i),new Rr(t.firestore,null,i)}}function yx(t,e,...n){if(t=Ze(t),arguments.length===1&&(e=$u.newId()),bx("doc","path",e),t instanceof Js){let i=Qe.fromString(e,...n);return _E(i),new an(t,null,new te(i))}{if(!(t instanceof an||t instanceof Rr))throw new G(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Qe.fromString(e,...n));return _E(i),new an(t.firestore,t instanceof Rr?t.converter:null,new te(i))}}var Wb=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new oh(this,"async_queue_retry"),this.Eu=()=>{let n=yg();n&&Y("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=yg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=yg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Di;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return x(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!ol(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(i=>{this.hu=i,this.Pu=!1;let r=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(i);throw Pi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Pu=!1,i))));return this.au=n,n}enqueueAfterDelay(e,n,i){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let r=Ob.createAndSchedule(this,e,n,i,o=>this.Vu(o));return this.lu.push(r),r}du(){this.hu&&oe()}verifyOperationInProgress(){}mu(){return x(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function wE(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Xs=class extends Js{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new Wb}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ex(this),this._firestoreClient.terminate()}};function wx(t,e){let n=typeof t=="object"?t:Ir(),i=typeof t=="string"?t:e||"(default)",r=po(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=uu("firestore");o&&vx(r,...o)}return r}function Ix(t){return t._firestoreClient||Ex(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ex(t){var e,n,i;let r=t._freezeSettings(),o=function(c,d,m,b){return new Dg(c,d,m,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,gx(b.experimentalLongPollingOptions),b.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Gb(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Xc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Lt.fromBase64String(e))}catch(n){throw new G(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Zc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var fh=class{constructor(e){this._methodName=e}};var el=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var tl=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}};var IN=/^__.*__$/,Kb=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mo(e,this.data,n,this.fieldTransforms)}};function xx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var Qb=class t{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Su({path:i,Du:!1});return r.vu(e),r}Cu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Su({path:i,Du:!1});return r.yu(),r}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return ph(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(xx(this.wu)&&IN.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Yb=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ih(e)}Nu(e,n,i,r=!1){return new Qb({wu:e,methodName:n,Ou:i,path:sn.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Tx(t){let e=t._freezeSettings(),n=Ih(t._databaseId);return new Yb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EN(t,e,n,i,r,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,r);Sx("Data must be an object, but it was:",s,i);let c=Ax(i,s),d,m;if(o.merge)d=new ii(s.fieldMask),m=s.fieldTransforms;else if(o.mergeFields){let b=[];for(let g of o.mergeFields){let E=TN(e,g,n);if(!s.contains(E))throw new G(N.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);CN(b,E)||b.push(E)}d=new ii(b),m=s.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,m=s.fieldTransforms;return new Kb(new Dn(c),d,m)}function xN(t,e,n,i=!1){return yv(n,t.Nu(i?4:3,e))}function yv(t,e){if(Cx(t=Ze(t)))return Sx("Unsupported field value:",e,t),Ax(t,e);if(t instanceof fh)return function(i,r){if(!xx(r.wu))throw r.Mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Mu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let c of i){let d=yv(c,r.Fu(s));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),s++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Ze(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return lO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Ct.fromDate(i);return{timestampValue:th(r.serializer,o)}}if(i instanceof Ct){let o=new Ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:th(r.serializer,o)}}if(i instanceof el)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xc)return{bytesValue:KE(r.serializer,i._byteString)};if(i instanceof an){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hv(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof tl)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(d=>{if(typeof d!="number")throw c.Mu("VectorValues must only contain numeric values.");return uv(c.serializer,d)})}}}}}}(i,r);throw r.Mu(`Unsupported field value: ${Th(i)}`)}(t,e)}function Ax(t,e){let n={};return TE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(t,(i,r)=>{let o=yv(r,e.bu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function Cx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof el||t instanceof Xc||t instanceof an||t instanceof fh||t instanceof tl)}function Sx(t,e,n){if(!Cx(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=Th(n);throw i==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+i)}}function TN(t,e,n){if((e=Ze(e))instanceof Zc)return e._internalPath;if(typeof e=="string")return kx(t,e);throw ph("Field path arguments must be of type string or ",t,!1,void 0,n)}var AN=new RegExp("[~\\*/\\[\\]]");function kx(t,e,n){if(e.search(AN)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zc(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ph(t,e,n,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||s)&&(d+=" (found",o&&(d+=` in field ${i}`),s&&(d+=` in document ${r}`),d+=")"),new G(N.INVALID_ARGUMENT,c+t+d)}function CN(t,e){return t.some(n=>n.isEqual(e))}var gh=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Jb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(wv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Jb=class extends gh{data(){return super.data()}};function wv(t,e){return typeof e=="string"?kx(t,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}function SN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nl=class{},il=class extends nl{};function Rx(t,e,...n){let i=[];e instanceof nl&&i.push(e),i=i.concat(n),function(o){let s=o.filter(d=>d instanceof Zb).length,c=o.filter(d=>d instanceof Xb).length;if(s>1||s>0&&c>0)throw new G(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var Xb=class t extends il{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return Mx(e._query,n),new Nr(e.firestore,e.converter,qg(e._query,n))}_parse(e){let n=Tx(e.firestore);return function(o,s,c,d,m,b,g){let E;if(m.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new G(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){EE(g,b);let R=[];for(let O of g)R.push(IE(d,o,O));E={arrayValue:{values:R}}}else E=IE(d,o,g)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||EE(g,b),E=xN(c,s,g,b==="in"||b==="not-in");return mt.create(m,b,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var Zb=class t extends nl{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Mn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let s=r,c=o.getFlattenedFilters();for(let d of c)Mx(s,d),s=qg(s,d)}(e._query,n),new Nr(e.firestore,e.converter,qg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var ev=class t extends il{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,o,s){if(r.startAt!==null)throw new G(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new G(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ro(o,s)}(e._query,this._field,this._direction);return new Nr(e.firestore,e.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new Pr(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function Dx(t,e="asc"){let n=e,i=wv("orderBy",t);return ev._create(i,n)}var tv=class t extends il{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){return new Nr(e.firestore,e.converter,Qu(e._query,this._limit,this._limitType))}};function Px(t){return wN("limit",t),tv._create("limit",t,"F")}function IE(t,e,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new G(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OE(e)&&n.indexOf("/")!==-1)throw new G(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(Qe.fromString(n));if(!te.isDocumentKey(i))throw new G(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return WI(t,new te(i))}if(n instanceof an)return WI(t,n._key);throw new G(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(n)}.`)}function EE(t,e){if(!Array.isArray(t)||t.length===0)throw new G(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Mx(t,e){let n=function(r,o){for(let s of r)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var nv=class{convertValue(e,n="none"){switch(ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return ea(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertVectorValue(e){var n,i,r;let o=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>We(s.doubleValue));return new tl(o)}convertGeoPoint(e){return new el(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=sv(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){let n=Mi(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Qe.fromString(e);Ve(ex(i));let r=new Wu(i.get(1),i.get(3)),o=new te(i.popFirst(5));return r.isEqual(n)||Pi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function kN(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var To=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},bh=class extends gh{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new js(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(wv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},js=class extends bh{data(e={}){return super.data(e)}},iv=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new To(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new js(this._firestore,this._userDataWriter,i.key,i,new To(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>{let d=new js(r._firestore,r._userDataWriter,c.doc.key,c.doc,new To(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let d=new js(r._firestore,r._userDataWriter,c.doc.key,c.doc,new To(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),m=-1,b=-1;return c.type!==0&&(m=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),b=s.indexOf(c.doc.key)),{type:RN(c.type),doc:d,oldIndex:m,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function RN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}var vh=class extends nv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}};function Ox(t,e){let n=qc(t.firestore,Xs),i=yx(t),r=kN(t.converter,e);return DN(n,[EN(Tx(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Ao.exists(!1))]).then(()=>i)}function Iv(t,...e){var n,i,r;t=Ze(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||wE(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(wE(e[s])){let g=e[s];e[s]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[s+1]=(i=g.error)===null||i===void 0?void 0:i.bind(g),e[s+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}let d,m,b;if(t instanceof an)m=qc(t.firestore,Xs),b=dv(t._key.path),d={next:g=>{e[s]&&e[s](PN(m,t,g))},error:e[s+1],complete:e[s+2]};else{let g=qc(t,Nr);m=qc(g.firestore,Xs),b=g._query;let E=new vh(m);d={next:R=>{e[s]&&e[s](new iv(m,E,g,R))},error:e[s+1],complete:e[s+2]},SN(t._query)}return function(E,R,O,F){let D=new Hb(F),U=new Vb(R,D,O);return E.asyncQueue.enqueueAndForget(()=>x(this,null,function*(){return eN(yield bE(E),U)})),()=>{D.za(),E.asyncQueue.enqueueAndForget(()=>x(this,null,function*(){return tN(yield bE(E),U)}))}}(Ix(m),b,c,d)}function DN(t,e){return function(i,r){let o=new Di;return i.asyncQueue.enqueueAndForget(()=>x(this,null,function*(){return lN(yield _N(i),r,o)})),o.promise}(Ix(t),e)}function PN(t,e,n){let i=n.docs.get(e._key),r=new vh(t);return new bh(t,r,e._key,i,new To(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Zs=r})(Zn),Xn(new Ht("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),c=new Xs(new xg(i.getProvider("auth-internal")),new Sg(i.getProvider("app-check-internal")),function(m,b){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new G(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(m.options.projectId,b)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ge($I,"4.7.1",e),Ge($I,"4.7.1","esm2017")})();var Ah=function(){return Ah=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ah.apply(this,arguments)};var NN={includeMetadataChanges:!1};function Nx(t,e){return e===void 0&&(e=NN),new $t(function(n){var i=Iv(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:i}})}function Fx(t,e){var n;e===void 0&&(e={});var i=t.data(e);return!t.exists()||typeof i!="object"||i===null||!e.idField?i:Ah(Ah({},i),(n={},n[e.idField]=t.id,n))}function Lx(t){return Nx(t,{includeMetadataChanges:!0}).pipe(ne(function(e){return e.docs}))}function Vx(t,e){return e===void 0&&(e={}),Lx(t).pipe(ne(function(n){return n.map(function(i){return Fx(i,e)})}))}var Fi=class{constructor(e){return e}},Ux="firestore",Ev=class{constructor(){return bo(Ux)}};var xv=new Q("angularfire2.firestore-instances");function FN(t,e){let n=Ds(Ux,t,e);return n&&new Fi(n)}function LN(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Fi(i)}}var VN={provide:Ev,deps:[[new nt,xv]]},UN={provide:Fi,useFactory:FN,deps:[[new nt,xv],Rn]};function F$(t,...e){return Ge("angularfire",xi.full,"fst"),Zt([UN,VN,{provide:xv,useFactory:LN(t),multi:!0,deps:[ae,Ut,xr,Ti,[new nt,Io],[new nt,Er],...e]}])}var jx=dt(Vx,!0);var Ch=dt(Ox,!0);var Sh=dt(_x,!0);var L$=dt(wx,!0);var Bx=dt(Px,!0);var zx=dt(Dx,!0);var $x=dt(Rx,!0);var Yx="firebasestorage.googleapis.com",Jx="storageBucket",jN=2*60*1e3,BN=10*60*1e3;var It=class t extends zt{constructor(e,n,i=0){super(Tv(e),`Firebase Storage: ${n} (${Tv(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},kt=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(kt||{});function Tv(t){return"storage/"+t}function Xx(){let t="An unknown error occurred, please check the error payload for server response.";return new It(kt.UNKNOWN,t)}function zN(t){return new It(kt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function $N(t){return new It(kt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qN(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(kt.UNAUTHENTICATED,t)}function HN(){return new It(kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function GN(t){return new It(kt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function WN(){return new It(kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KN(){return new It(kt.CANCELED,"User canceled the upload/download.")}function QN(t){return new It(kt.INVALID_URL,"Invalid URL '"+t+"'.")}function YN(t){return new It(kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function JN(){return new It(kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Jx+"' property when initializing the app?")}function XN(){return new It(kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Av(t){return new It(kt.INVALID_ARGUMENT,t)}function Zx(){return new It(kt.APP_DELETED,"The Firebase app was deleted.")}function ZN(t){return new It(kt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cl(t){throw new It(kt.INTERNAL_ERROR,"Internal error: "+t)}var On=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(i.path==="")return i;throw YN(e)}static makeFromUrl(e,n){let i=null,r="([A-Za-z0-9.\\-_]+)";function o(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}let s="(/(.*))?$",c=new RegExp("^gs://"+r+s,"i"),d={bucket:1,path:3};function m(X){X.path_=decodeURIComponent(X.path)}let b="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",R=new RegExp(`^https?://${g}/${b}/b/${r}/o${E}`,"i"),O={bucket:1,path:3},F=n===Yx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",U=new RegExp(`^https?://${F}/${r}/${D}`,"i"),J=[{regex:c,indices:d,postModify:o},{regex:R,indices:O,postModify:m},{regex:U,indices:{bucket:1,path:2},postModify:m}];for(let X=0;X<J.length;X++){let Ie=J[X],se=Ie.regex.exec(e);if(se){let A=se[Ie.indices.bucket],y=se[Ie.indices.path];y||(y=""),i=new t(A,y),Ie.postModify(i);break}}if(i==null)throw QN(e);return i}},Cv=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function eF(t,e,n){let i=1,r=null,o=null,s=!1,c=0;function d(){return c===2}let m=!1;function b(...D){m||(m=!0,e.apply(null,D))}function g(D){r=setTimeout(()=>{r=null,t(R,d())},D)}function E(){o&&clearTimeout(o)}function R(D,...U){if(m){E();return}if(D){E(),b.call(null,D,...U);return}if(d()||s){E(),b.call(null,D,...U);return}i<64&&(i*=2);let J;c===1?(c=2,J=0):J=(i+Math.random())*1e3,g(J)}let O=!1;function F(D){O||(O=!0,E(),!m&&(r!==null?(D||(c=2),clearTimeout(r),g(0)):D||(c=1)))}return g(0),o=setTimeout(()=>{s=!0,F(!0)},n),F}function tF(t){t(!1)}function nF(t){return t!==void 0}function iF(t){return typeof t=="object"&&!Array.isArray(t)}function eT(t){return typeof t=="string"||t instanceof String}function Hx(t,e,n,i){if(i<e)throw Av(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Av(`Invalid value for '${t}'. Expected ${n} or less.`)}function tT(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function nT(t){let e=encodeURIComponent,n="?";for(let i in t)if(t.hasOwnProperty(i)){let r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var ia=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(ia||{});function rF(t,e){let n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}var Sv=class{constructor(e,n,i,r,o,s,c,d,m,b,g,E=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=c,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=b,this.connectionFactory_=g,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,O)=>{this.resolve_=R,this.reject_=O,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new na(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=c=>{let d=c.loaded,m=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let c=o.getErrorCode()===ia.NO_ERROR,d=o.getStatus();if(!c||rF(d,this.additionalRetryCodes_)&&this.retry){let b=o.getErrorCode()===ia.ABORT;i(!1,new na(!1,null,b));return}let m=this.successCodes_.indexOf(d)!==-1;i(!0,new na(m,o))})},n=(i,r)=>{let o=this.resolve_,s=this.reject_,c=r.connection;if(r.wasSuccessCode)try{let d=this.callback_(c,c.getResponse());nF(d)?o(d):o()}catch(d){s(d)}else if(c!==null){let d=Xx();d.serverResponse=c.getErrorText(),this.errorCallback_?s(this.errorCallback_(c,d)):s(d)}else if(r.canceled){let d=this.appDelete_?Zx():KN();s(d)}else{let d=WN();s(d)}};this.canceled_?n(!1,new na(!1,null,!0)):this.backoffId_=eF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&tF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},na=class{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}};function oF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function sF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function aF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function cF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function lF(t,e,n,i,r,o,s=!0){let c=nT(t.urlParams),d=t.url+c,m=Object.assign({},t.headers);return aF(m,e),oF(m,n),sF(m,o),cF(m,i),new Sv(d,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,s)}function iT(t){let e;try{e=JSON.parse(t)}catch{return null}return iF(e)?e:null}function dF(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uF(t,e){let n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function rT(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function hF(t,e){return e}var St=class{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||hF}},kh=null;function mF(t){return!eT(t)||t.length<2?t:rT(t)}function fF(){if(kh)return kh;let t=[];t.push(new St("bucket")),t.push(new St("generation")),t.push(new St("metageneration")),t.push(new St("name","fullPath",!0));function e(o,s){return mF(s)}let n=new St("name");n.xform=e,t.push(n);function i(o,s){return s!==void 0?Number(s):s}let r=new St("size");return r.xform=i,t.push(r),t.push(new St("timeCreated")),t.push(new St("updated")),t.push(new St("md5Hash",null,!0)),t.push(new St("cacheControl",null,!0)),t.push(new St("contentDisposition",null,!0)),t.push(new St("contentEncoding",null,!0)),t.push(new St("contentLanguage",null,!0)),t.push(new St("contentType",null,!0)),t.push(new St("metadata","customMetadata",!0)),kh=t,kh}function pF(t,e){function n(){let i=t.bucket,r=t.fullPath,o=new On(i,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function gF(t,e,n){let i={};i.type="file";let r=n.length;for(let o=0;o<r;o++){let s=n[o];i[s.local]=s.xform(i,e[s.server])}return pF(i,t),i}function bF(t,e,n){let i=iT(e);return i===null?null:gF(t,i,n)}function vF(t,e,n,i){let r=iT(e);if(r===null||!eT(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(m=>{let b=t.bucket,g=t.fullPath,E="/b/"+s(b)+"/o/"+s(g),R=tT(E,n,i),O=nT({alt:"media",token:m});return R+O})[0]}var kv=class{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function _F(t){if(!t)throw Xx()}function yF(t,e){function n(i,r){let o=bF(t,r,e);return _F(o!==null),vF(o,r,t.host,t._protocol)}return n}function wF(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=HN():r=qN():n.getStatus()===402?r=$N(t.bucket):n.getStatus()===403?r=GN(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function IF(t){let e=wF(t);function n(i,r){let o=e(i,r);return i.getStatus()===404&&(o=zN(t.path)),o.serverResponse=r.serverResponse,o}return n}function EF(t,e,n){let i=e.fullServerUrl(),r=tT(i,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,c=new kv(r,o,yF(t,n),s);return c.errorHandler=IF(e),c}var z$=256*1024;var Gx=null,Rv=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw cl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},Dv=class extends Rv{initXhr(){this.xhr_.responseType="text"}};function xF(){return Gx?Gx():new Dv}var ra=class t{constructor(e,n){this._service=e,n instanceof On?this._location=n:this._location=On.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rT(this._location.path)}get storage(){return this._service}get parent(){let e=dF(this._location.path);if(e===null)return null;let n=new On(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ZN(e)}};function TF(t){t._throwIfRoot("getDownloadURL");let e=EF(t.storage,t._location,fF());return t.storage.makeRequestWithTokens(e,xF).then(n=>{if(n===null)throw XN();return n})}function AF(t,e){let n=uF(t._location.path,e),i=new On(t._location.bucket,n);return new ra(t.storage,i)}function CF(t){return/^[A-Za-z]+:\/\//.test(t)}function SF(t,e){return new ra(t,e)}function oT(t,e){if(t instanceof ll){let n=t;if(n._bucket==null)throw JN();let i=new ra(n,n._bucket);return e!=null?oT(i,e):i}else return e!==void 0?AF(t,e):t}function kF(t,e){if(e&&CF(e)){if(t instanceof ll)return SF(t,e);throw Av("To use ref(service, url), the first argument must be a Storage instance.")}else return oT(t,e)}function Wx(t,e){let n=e?.[Jx];return n==null?null:On.makeFromBucketSpec(n,t)}function RF(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:hu(r,t.app.options.projectId))}var ll=class{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=Yx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jN,this._maxUploadRetryTime=BN,this._requests=new Set,r!=null?this._bucket=On.makeFromBucketSpec(r,this._host):this._bucket=Wx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,e):this._bucket=Wx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Hx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Hx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return x(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return x(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ra(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new Cv(Zx());{let s=lF(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return x(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()})}},Kx="@firebase/storage",Qx="0.13.1";var sT="storage";function aT(t){return t=Ze(t),TF(t)}function cT(t,e){return t=Ze(t),kF(t,e)}function lT(t=Ir(),e){t=Ze(t);let i=po(t,sT).getImmediate({identifier:e}),r=uu("storage");return r&&dT(i,...r),i}function dT(t,e,n,i={}){RF(t,e,n,i)}function DF(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new ll(n,i,r,e,Zn)}function PF(){Xn(new Ht(sT,DF,"PUBLIC").setMultipleInstances(!0)),Ge(Kx,Qx,""),Ge(Kx,Qx,"esm2017")}PF();var No=class{constructor(e){return e}},uT="storage",Pv=class{constructor(){return bo(uT)}};var Mv=new Q("angularfire2.storage-instances");function MF(t,e){let n=Ds(uT,t,e);return n&&new No(n)}function OF(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new No(i)}}var NF={provide:Pv,deps:[[new nt,Mv]]},FF={provide:No,useFactory:MF,deps:[[new nt,Mv],Rn]};function u4(t,...e){return Ge("angularfire",xi.full,"gcs"),Zt([FF,NF,{provide:Mv,useFactory:OF(t),multi:!0,deps:[ae,Ut,xr,Ti,[new nt,Io],[new nt,Er],...e]}])}var hT=dt(aT,!0);var h4=dt(lT,!0);var mT=dt(cT,!0);var Rh=class t{constructor(e,n,i){this.auth=e;this.firestore=n;this.storage=i}login(e,n){return VI(this.auth,e,n)}registrarLogin(e){let n=Sh(this.firestore,"logins");return Ch(n,{usuario:e,fecha:new Date})}devolverUsuarioLogueado(){return new $t(e=>{LI(this.auth,n=>{e.next(n)})})}registrar(e,n){return FI(this.auth,e,n)}obtenerUrlDeImagen(e){let n=mT(this.storage,e);return hT(n)}logout(){return UI(this.auth)}static \u0275fac=function(n){return new(n||t)(z(ki),z(Fi),z(No))};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})};function UF(t,e){if(t&1){let n=ln();q(0,"button",9),Re("click",function(){en(n);let r=Je();return tn(r.navegarA("/login"))}),q(1,"mat-icon"),le(2,"login"),H(),le(3," Login "),H()}}function jF(t,e){if(t&1){let n=ln();q(0,"button",10),Re("click",function(){en(n);let r=Je();return tn(r.navegarA("/registro"))}),q(1,"mat-icon"),le(2,"app_registration"),H(),le(3," Registro "),H()}}function BF(t,e){if(t&1){let n=ln();q(0,"button",11),Re("click",function(){en(n);let r=Je();return tn(r.navegarA("/juegos/saladechat"))}),q(1,"mat-icon"),le(2,"chat"),H(),le(3," Sala de chat "),H()}}function zF(t,e){if(t&1){let n=ln();q(0,"button",12),Re("click",function(){en(n);let r=Je();return tn(r.logout())}),q(1,"mat-icon"),le(2,"logout"),H(),le(3," Logout "),H()}}var ci=class t{constructor(e,n){this.router=e;this.authenticationService=n}usuarioActual=null;mensajeRespuesta="";navegarA(e){this.router.navigate([e])}logout(){this.authenticationService.logout().then(()=>{this.router.navigate(["/home"])}).catch(e=>{switch(e.code){case"auth/network-request-failed":this.mensajeRespuesta="La solicitud de red ha fallado";break;case"auth/too-many-requests":this.mensajeRespuesta="Demasiadas solicitudes. Int\xE9ntalo m\xE1s tarde";break;case"auth/internal-error":this.mensajeRespuesta="Error interno del servidor";break;default:this.mensajeRespuesta=`Se produjo el siguiente error: ${e.code}. Vuelve a intentarlo`;break}fT.default.fire("Error",this.mensajeRespuesta,"error")})}ngOnInit(){this.authenticationService.devolverUsuarioLogueado().subscribe(e=>{this.usuarioActual=e})}static \u0275fac=function(n){return new(n||t)(L(Sn),L(Rh))};static \u0275cmp=xe({type:t,selectors:[["app-header"]],standalone:!0,features:[lt],decls:18,vars:4,consts:[[1,"contenedorLogo"],["src","https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Flogo.jpg?alt=media&token=d0833348-4d22-4cc6-b8d1-a172fea273e8","alt","logo de la empresa"],[1,"contenedorBotones"],["mat-button","","aria-label","\xEDcono de hogar",3,"click"],["mat-button","","aria-label","\xEDcono de entrar"],["mat-button","","aria-label","\xEDcono de registro"],["mat-button","","aria-label","\xEDcono de chat"],["mat-button","","aria-label","\xEDcono de persona",3,"click"],["mat-button","","aria-label","\xEDcono de salir"],["mat-button","","aria-label","\xEDcono de entrar",3,"click"],["mat-button","","aria-label","\xEDcono de registro",3,"click"],["mat-button","","aria-label","\xEDcono de chat",3,"click"],["mat-button","","aria-label","\xEDcono de salir",3,"click"]],template:function(n,i){n&1&&(q(0,"mat-toolbar")(1,"div",0),Le(2,"img",1),q(3,"span"),le(4,"La sala de juegos"),H()(),q(5,"div",2)(6,"button",3),Re("click",function(){return i.navegarA("/home")}),q(7,"mat-icon"),le(8,"home"),H(),le(9," Home "),H(),Be(10,UF,4,0,"button",4)(11,jF,4,0,"button",5)(12,BF,4,0,"button",6),q(13,"button",7),Re("click",function(){return i.navegarA("/quienSoy")}),q(14,"mat-icon"),le(15,"person"),H(),le(16," Quien Soy "),H(),Be(17,zF,4,0,"button",8),H()()),n&2&&(ie(10),it(i.usuarioActual!=null&&i.usuarioActual.email?-1:10),ie(),it(i.usuarioActual!=null&&i.usuarioActual.email?-1:11),ie(),it(i.usuarioActual!=null&&i.usuarioActual.email?12:-1),ie(5),it(i.usuarioActual!=null&&i.usuarioActual.email?17:-1))},dependencies:[An,Ic,_d,fs,cu,au,m0,h0,p0],styles:[".mat-toolbar[_ngcontent-%COMP%]{display:flex;min-height:70px;background:#b7ebff;color:#0e0d0d;justify-content:space-between;align-items:center}.contenedorLogo[_ngcontent-%COMP%]{display:flex;align-items:center}.contenedorLogo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:65px;margin-right:10px}"]})};var $F=t=>({botonPresionado:t});function qF(t,e){if(t&1&&(q(0,"div",11)(1,"label",12),le(2),H()()),t&2){let n=e.$implicit;ie(),Ne("hidden",!n.visible),ie(),cs(n.letra)}}function HF(t,e){if(t&1&&(b_(0),Be(1,qF,3,2,"div",10),v_()),t&2){let n=Je();ie(),Ne("ngForOf",n.letrasAAdivinar)}}function GF(t,e){if(t&1){let n=ln();q(0,"div")(1,"button",13),Re("click",function(){let r=en(n).$implicit,o=Je();return tn(o.evaluarLetraIngresada(r.letra))}),le(2),H()()}if(t&2){let n=e.$implicit,i=Je();ie(),Ne("ngClass",x_(3,$F,!n.habilitado))("disabled",!n.habilitado||i.desahibilitarBotones),ie(),lr("",n.letra," ")}}var Dh=class t{constructor(e){this.http=e;this.cargarJuegoNuevo()}RANDOM_WORD_API_URL="https://clientes.api.greenborn.com.ar/public-random-word?l=10";subscripcion;palabraAAdivinar="";letrasAAdivinar=[];objLetras=[];cantidadAciertos=0;cantidadErrores=0;cantidadErroresPermitidos=6;puntosPorAcierto=10;puntosJugador=0;desahibilitarBotones=!1;urlImagen="";imagenes=["https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fahorcado%2Fahorcado1.png?alt=media&token=35cca303-1079-44af-94fe-63f18af7dbb5","https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fahorcado%2Fahorcado2.png?alt=media&token=87187a1f-35ee-40de-8b08-334ed8bbfe40","https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fahorcado%2Fahorcado3.png?alt=media&token=c2ba3fb2-c3a4-4297-ac59-a1840df040b9","https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fahorcado%2Fahorcado4.png?alt=media&token=91e77d5a-8a3a-42ef-9f39-e44e7e4dfb78","https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fahorcado%2Fahorcado5.png?alt=media&token=1fad45f6-b714-4f65-a64f-1650ea08ac67","https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fahorcado%2Fahorcado6.png?alt=media&token=f55c6847-133a-40cb-9daf-ce3a5b3ebf9e","https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fahorcado%2Fahorcado7.png?alt=media&token=c70a7d96-8a07-4e06-ab81-a85ea36a58d2"];cargarJuegoNuevo(){this.resetearValores(),this.crearArrayDeObjLetras(),this.generarPalabra()}resetearValores(){this.cantidadErrores=0,this.cantidadAciertos=0,this.palabraAAdivinar="",this.letrasAAdivinar=[],this.urlImagen=this.imagenes[0],this.desahibilitarBotones=!1}crearArrayDeObjLetras(){this.objLetras="ABCDEFGHIJKLMN\xD1OPQRSTUVWXYZ".split("").map(e=>({letra:e,habilitado:!0}))}generarPalabra(){this.subscripcion=this.http.get(this.RANDOM_WORD_API_URL).subscribe(e=>{let n=e[0];this.palabraAAdivinar=this.eliminarAcentos(n),this.letrasAAdivinar=this.palabraAAdivinar.split("").map(i=>({letra:i,visible:!1}))})}eliminarAcentos(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}evaluarLetraIngresada(e){let n=e.toUpperCase();this.palabraAAdivinar.toUpperCase().includes(n)?this.computarAcierto(n):this.computarError(),this.verificarResultado()}computarAcierto(e){let n=this.objLetras.find(r=>r.letra===e);n&&(n.habilitado=!1);let i=this.letrasAAdivinar.filter(r=>r.letra.toUpperCase()===e);i.forEach(r=>r.visible=!0),this.cantidadAciertos+=i.length}computarError(){this.cantidadErrores++,this.urlImagen=this.imagenes[this.cantidadErrores]}verificarResultado(){this.puntosJugador=this.cantidadAciertos*this.puntosPorAcierto,this.cantidadAciertos===this.palabraAAdivinar.length?this.informarResultado("FELICITACIONES",`\xA1Ganaste! Y solo te llevo ${this.cantidadErrores} intentos.
                              Tu puntaje es:${this.puntosJugador} puntos`,"success"):this.cantidadErrores===this.cantidadErroresPermitidos&&this.informarResultado("LA PR\xD3XIMA SER\xC1...",`\xA1Perdiste! La palabra era '${this.palabraAAdivinar}.'
                                Tu puntaje es:${this.puntosJugador}`,"error")}informarResultado(e,n,i){this.desahibilitarBotones=!0,pT.default.fire({title:e,text:n,icon:i,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"Cerrar",confirmButtonText:"Jugar de nuevo"}).then(r=>{r.isConfirmed&&this.cargarJuegoNuevo()})}ngOnDestroy(){this.subscripcion.unsubscribe()}static \u0275fac=function(n){return new(n||t)(L(co))};static \u0275cmp=xe({type:t,selectors:[["app-ahorcado"]],decls:15,vars:4,consts:[[1,"botonNuevoJuego"],["mat-flat-button","",3,"click"],[1,"contenedorPrincipal"],[1,"contenedorImagen"],["alt","imagen del ahorcado",3,"src"],[1,"intentosRestantes"],[1,"contenedorPalabra"],[4,"ngIf"],[1,"contenedorTeclado"],[4,"ngFor","ngForOf"],["class","palabra",4,"ngFor","ngForOf"],[1,"palabra"],[3,"hidden"],[1,"botonLetra",3,"click","ngClass","disabled"]],template:function(n,i){n&1&&(Le(0,"app-header"),q(1,"h2"),le(2,"AHORCADO"),H(),q(3,"div",0)(4,"button",1),Re("click",function(){return i.cargarJuegoNuevo()}),le(5,"JUGAR DE NUEVO"),H()(),q(6,"div",2)(7,"div",3),Le(8,"img",4),q(9,"label",5),le(10),H(),q(11,"div",6),Be(12,HF,2,1,"ng-container",7),H()()(),q(13,"div",8),Be(14,GF,3,5,"div",9),H()),n&2&&(ie(8),Ne("src",i.urlImagen,Oa),ie(2),lr("Te quedan ",i.cantidadErroresPermitidos-i.cantidadErrores," intentos"),ie(2),Ne("ngIf",i.letrasAAdivinar.length>0),ie(2),Ne("ngForOf",i.objLetras))},dependencies:[us,ld,F_,fs,ci],styles:["h2[_ngcontent-%COMP%]{color:#fff;text-align:center;font-family:Comic Neue,cursive;font-style:italic}.botonNuevoJuego[_ngcontent-%COMP%]{padding-top:1px;padding-bottom:10px}.contenedorPrincipal[_ngcontent-%COMP%]{width:1200px;height:280px;background:#b4e5f1;display:flex;flex-direction:column;align-items:center;margin-left:auto;margin-right:auto;border-radius:10px}.intentosRestantes[_ngcontent-%COMP%]{font-size:2.5em;font-weight:700;color:red;position:absolute;right:20px;top:20px}.contenedorImagen[_ngcontent-%COMP%]{position:relative;height:240px}.contenedorImagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px;display:block}.contenedorPalabra[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:0 auto;justify-content:center;height:40px}.palabra[_ngcontent-%COMP%]{width:70px;height:70px;margin:5px;text-align:center;display:flex;align-items:center;justify-content:center;font-size:1.5em;border-bottom:solid 2px rgb(47,0,255)}.contenedorTeclado[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;padding:10px}.botonLetra[_ngcontent-%COMP%]{width:80px;height:40px;margin:5px;font-size:1.1em;background-color:#326ef0bb;color:#000500;font-weight:700}.botonLetra[_ngcontent-%COMP%]:active, .botonLetra.botonPresionado[_ngcontent-%COMP%]{background-color:#fff;color:#000}"]})};var wT=Ql(Ec());var WF=["*"];var KF=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],QF=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],YF=new Q("MAT_CARD_CONFIG"),gT=(()=>{let e=class e{constructor(i){this.appearance=i?.appearance||"raised"}};e.\u0275fac=function(r){return new(r||e)(L(YF,8))},e.\u0275cmp=xe({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,o){r&2&&Fe("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[lt],ngContentSelectors:WF,decls:1,vars:0,template:function(r,o){r&1&&(Bt(),Te(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let t=e;return t})(),bT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=be({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let t=e;return t})();var vT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=be({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let t=e;return t})();var B4=(()=>{let e=class e{constructor(){this.align="start"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=be({type:e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,o){r&2&&Fe("mat-mdc-card-actions-align-end",o.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let t=e;return t})(),Ph=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=xe({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[lt],ngContentSelectors:QF,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,o){r&1&&(Bt(KF),Te(0),q(1,"div",0),Te(2,1),H(),Te(3,2))},encapsulation:2,changeDetection:0});let t=e;return t})();var _T=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=be({type:e,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let t=e;return t})();var yT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Ue,An,Ue]});let t=e;return t})();var Mh=class t{constructor(e){this.http=e}DECK_OF_CARDS_API_URL="https://www.deckofcardsapi.com/api/deck";mazoID;subscripcion;cartaActual;urlImgCartaActual="";cartaSiguiente;urlImgCartaSiguiente="https://firebasestorage.googleapis.com/v0/b/saladejuegos-8b7b8.appspot.com/o/images%2Fjuegos%2Fmayoromenor%2Freversocarta.png?alt=media&token=50f5b502-6a9f-4125-8125-fac6a15a809c";mensaje;cantidadAciertos=0;contadorDeJugadas=0;cantidadDeJugadas=10;puntosPorAcierto=1;puntosJugador=0;estiloRespuesta="";desahibilitarBotones=!1;subscripciones=[];ngOnInit(){this.cargarJuegoNuevo()}cargarJuegoNuevo(){this.resetearValores();let e=this.generarMazo().subscribe(n=>{this.mazoID=n;let i=this.obtenerCarta().subscribe(r=>{this.cartaActual=this.formatearCarta(r.cards[0].value),this.urlImgCartaActual=r.cards[0].image});this.subscripciones.push(i)});this.subscripciones.push(e)}resetearValores(){this.mensaje="Adivina si la siguiente carta ser\xE1 mayor o menor.",this.cantidadAciertos=0,this.contadorDeJugadas=0,this.puntosJugador=0,this.estiloRespuesta="",this.desahibilitarBotones=!1}generarMazo(){return this.http.get(`${this.DECK_OF_CARDS_API_URL}/new/draw/?count=1`).pipe(ne(e=>e.deck_id))}obtenerCarta(){return this.http.get(`${this.DECK_OF_CARDS_API_URL}/${this.mazoID}/draw/?count=1`)}formatearCarta(e){let n;switch(e){case"ACE":n=1;break;case"JACK":n=11;break;case"QUEEN":n=12;break;case"KING":n=13;break;default:n=parseInt(e);break}return n}adivinar(e){this.obtenerCarta().subscribe(n=>{this.cartaSiguiente=this.formatearCarta(n.cards[0].value),this.urlImgCartaActual=n.cards[0].image,e&&this.cartaSiguiente>this.cartaActual||!e&&this.cartaSiguiente<this.cartaActual?(this.cantidadAciertos++,this.estiloRespuesta="respuesta-correcta",this.mensaje=`Correcto! Tu carta era ${this.cartaActual} y la nueva es ${this.cartaSiguiente}.`):(this.estiloRespuesta="respuesta-incorrecta",this.mensaje=`Incorrecto! Tu carta era ${this.cartaActual} y la nueva es ${this.cartaSiguiente}.`),this.contadorDeJugadas++,this.cartaActual=this.cartaSiguiente,this.puntosJugador=this.cantidadAciertos*this.puntosPorAcierto,this.contadorDeJugadas===this.cantidadDeJugadas&&(this.mensaje=`Se termin\xF3 el juego! Tu puntaje es:${this.puntosJugador} puntos.
                        Si te gust\xF3, volv\xE9 a jugar`,this.estiloRespuesta="",this.desahibilitarBotones=!0,wT.default.fire({title:"JUEGO TERMINADO",text:this.mensaje,icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"Cerrar",confirmButtonText:"Jugar de nuevo"}).then(i=>{i.isConfirmed&&this.cargarJuegoNuevo()}))})}ngOnDestroy(){this.subscripciones.forEach(e=>e.unsubscribe())}static \u0275fac=function(n){return new(n||t)(L(co))};static \u0275cmp=xe({type:t,selectors:[["app-mayoromenor"]],decls:32,vars:6,consts:[[1,"botonNuevoJuego"],["mat-flat-button","",3,"click"],[1,"contenedor"],[1,"cards-container"],[1,"mat-elevation-z4","carta-actual"],["mat-card-image","","alt","imagen de carta dada vuelta",1,"card-image",3,"src"],[1,"mensaje"],[1,"mensaje-contenedor"],[3,"ngClass"],[1,"opciones"],["mat-fab","","extended","",3,"click","disabled"]],template:function(n,i){n&1&&(Le(0,"app-header"),q(1,"h2"),le(2,"MAYOR O MENOR"),H(),q(3,"div",0)(4,"button",1),Re("click",function(){return i.cargarJuegoNuevo()}),le(5,"JUGAR DE NUEVO"),H()(),q(6,"div",2)(7,"div",3)(8,"mat-card",4)(9,"mat-card-header")(10,"mat-card-title"),le(11,"Mazo"),H()(),Le(12,"img",5),H(),q(13,"mat-card",4)(14,"mat-card-header")(15,"mat-card-title"),le(16,"Carta"),H()(),Le(17,"img",5),H()(),q(18,"div",6)(19,"mat-card",7)(20,"mat-card-content")(21,"p",8),le(22),H()()()(),q(23,"div",9)(24,"button",10),Re("click",function(){return i.adivinar(!0)}),q(25,"mat-icon"),le(26,"arrow_upward"),H(),le(27," Mayor "),H(),q(28,"button",10),Re("click",function(){return i.adivinar(!1)}),q(29,"mat-icon"),le(30,"arrow_downward"),H(),le(31," Menor "),H()()()),n&2&&(ie(12),Ne("src",i.urlImgCartaSiguiente,Oa),ie(5),Ne("src",i.urlImgCartaActual,Oa),ie(4),Ne("ngClass",i.estiloRespuesta),ie(),cs(i.mensaje),ie(2),Ne("disabled",i.desahibilitarBotones),ie(4),Ne("disabled",i.desahibilitarBotones))},dependencies:[us,fs,_y,ci,gT,vT,Ph,_T,bT,au],styles:["h2[_ngcontent-%COMP%]{color:#fff;text-align:center;font-family:Comic Neue,cursive;font-style:italic}.botonNuevoJuego[_ngcontent-%COMP%]{padding-top:5px;padding-bottom:5px}.contenedor[_ngcontent-%COMP%]{text-align:center;margin:0 auto;display:flex;flex-direction:column;align-items:center;background-color:#b4e5f1;padding:10px;border-radius:10px;width:85%;max-width:800px}.cards-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:10px}.carta-actual[_ngcontent-%COMP%]{width:150px;margin:0 10px;text-align:center;border:2px solid #1e88e5;border-radius:10px;box-shadow:0 4px 8px #0003;background:linear-gradient(to bottom,#e3f2fd,#bbdefb)}.mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.mat-card-title[_ngcontent-%COMP%]{width:100%;text-align:center;font-weight:700;font-size:16px;color:#1976d2}.card-image[_ngcontent-%COMP%]{width:80%;height:auto;margin:5px auto;padding:5px;border-radius:5px;border:1px solid #ddd}.opciones[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}.opciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 5px;width:120px;background-color:#1e88e5;color:#fff;border:none;border-radius:8px;box-shadow:0 4px 6px #0003;transition:background-color .3s ease,transform .2s ease}.opciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1565c0;transform:scale(1.05)}.opciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#0d47a1;transform:scale(.95)}.mensaje[_ngcontent-%COMP%]{margin-top:5px;width:100%;height:auto;min-height:50px}.mensaje-contenedor[_ngcontent-%COMP%]{margin:0 auto;width:450px;padding:5px;background-color:#fff;border-radius:5px;border:2px solid #1976d2;box-shadow:0 4px 6px #0000001a}.respuesta-correcta[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb;padding:10px;border-radius:5px}.respuesta-incorrecta[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb;padding:10px;border-radius:5px}"]})};var Oh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-preguntados"]],decls:2,vars:0,template:function(n,i){n&1&&(q(0,"p"),le(1,"preguntados works!"),H())}})};var Nh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-wordle"]],decls:2,vars:0,template:function(n,i){n&1&&(q(0,"p"),le(1,"wordle works!"),H())}})};var VT=Ql(Ec());var Fh=class t{constructor(e,n){this.firestore=e;this.auth=n;this.coleccionDeChats=Sh(this.firestore,"chats"),this.usuario=this.auth.currentUser}coleccionDeChats;chats=[];cantidadMaximaDeChats=10;usuario;devolverChats(){let e=$x(this.coleccionDeChats,zx("fecha","desc"),Bx(this.cantidadMaximaDeChats));return jx(e).pipe(ne(n=>(this.chats=[],n.forEach(i=>{this.chats.unshift(i)}),this.chats)))}agregarChat(e){if(!this.usuario||!this.usuario.email)return Promise.reject(new Error("El email del usuario no est\xE1 logueado."));let n={email:this.usuario.email,mensaje:e,fecha:new Date().getTime()};return Ch(this.coleccionDeChats,n)}static \u0275fac=function(n){return new(n||t)(z(Fi),z(ki))};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})};var IT=dr({passive:!0}),ET=(()=>{let e=class e{constructor(i,r){this._platform=i,this._ngZone=r,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return qn;let r=Wn(i),o=this._monitoredElements.get(r);if(o)return o.subject;let s=new qe,c="cdk-text-field-autofilled",d=m=>{m.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(c)?(r.classList.add(c),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!0}))):m.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>s.next({target:m.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",d,IT),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",d,IT)}}),s}stopMonitoring(i){let r=Wn(i),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((i,r)=>this.stopMonitoring(r))}};e.\u0275fac=function(r){return new(r||e)(z(Xe),z(ae))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({});let t=e;return t})();var Nv=class{constructor(e){this._box=e,this._destroyed=new qe,this._resizeSubject=new qe,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new $t(n=>{let i=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Jt(n=>n.some(i=>i.target===e)),Zv({bufferSize:1,refCount:!0}),In(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},TT=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=$(ae),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,i]of this._observers)i.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(i,r){let o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new Nv(o)),this._observers.get(o).observe(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var eL=["notch"],tL=["matFormFieldNotchedOutline",""],nL=["*"],iL=["textField"],rL=["iconPrefixContainer"],oL=["textPrefixContainer"],sL=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],aL=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function cL(t,e){t&1&&Le(0,"span",19)}function lL(t,e){if(t&1&&(q(0,"label",18),Te(1,1),Be(2,cL,1,0,"span",19),H()),t&2){let n=Je(2);Ne("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),At("for",n._control.disableAutomaticLabeling?null:n._control.id),ie(2),it(!n.hideRequiredMarker&&n._control.required?2:-1)}}function dL(t,e){if(t&1&&Be(0,lL,3,5,"label",18),t&2){let n=Je();it(n._hasFloatingLabel()?0:-1)}}function uL(t,e){t&1&&Le(0,"div",5)}function hL(t,e){}function mL(t,e){if(t&1&&Be(0,hL,0,0,"ng-template",11),t&2){Je(2);let n=nd(1);Ne("ngTemplateOutlet",n)}}function fL(t,e){if(t&1&&(q(0,"div",7),Be(1,mL,1,1,null,11),H()),t&2){let n=Je();Ne("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),ie(),it(n._forceDisplayInfixLabel()?-1:1)}}function pL(t,e){t&1&&(q(0,"div",8,2),Te(2,2),H())}function gL(t,e){t&1&&(q(0,"div",9,3),Te(2,3),H())}function bL(t,e){}function vL(t,e){if(t&1&&Be(0,bL,0,0,"ng-template",11),t&2){Je();let n=nd(1);Ne("ngTemplateOutlet",n)}}function _L(t,e){t&1&&(q(0,"div",12),Te(1,4),H())}function yL(t,e){t&1&&(q(0,"div",13),Te(1,5),H())}function wL(t,e){t&1&&Le(0,"div",14)}function IL(t,e){if(t&1&&(q(0,"div",16),Te(1,6),H()),t&2){let n=Je();Ne("@transitionMessages",n._subscriptAnimationState)}}function EL(t,e){if(t&1&&(q(0,"mat-hint",20),le(1),H()),t&2){let n=Je(2);Ne("id",n._hintLabelId),ie(),cs(n.hintLabel)}}function xL(t,e){if(t&1&&(q(0,"div",17),Be(1,EL,2,2,"mat-hint",20),Te(2,7),Le(3,"div",21),Te(4,8),H()),t&2){let n=Je();Ne("@transitionMessages",n._subscriptAnimationState),ie(),it(n.hintLabel?1:-1)}}var Vh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=be({type:e,selectors:[["mat-label"]],standalone:!0});let t=e;return t})();var TL=new Q("MatError");var AL=0,AT=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${AL++}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=be({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,o){r&2&&(La("id",o.id),At("align",null),Fe("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let t=e;return t})(),CL=new Q("MatPrefix");var SL=new Q("MatSuffix");var OT=new Q("FloatingLabelParent"),CT=(()=>{let e=class e{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=$(TT),this._ngZone=$(ae),this._parent=$(OT),this._resizeSubscription=new Xr}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return kL(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(r){return new(r||e)(L(ke))},e.\u0275dir=be({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,o){r&2&&Fe("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let t=e;return t})();function kL(t){let e=t;if(e.offsetParent!==null)return e.scrollWidth;let n=e.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);let i=n.scrollWidth;return n.remove(),i}var ST="mdc-line-ripple--active",Lh="mdc-line-ripple--deactivating",kT=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,c=s.contains(Lh);o.propertyName==="opacity"&&c&&s.remove(ST,Lh)},r.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let i=this._elementRef.nativeElement.classList;i.remove(Lh),i.add(ST)}deactivate(){this._elementRef.nativeElement.classList.add(Lh)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(r){return new(r||e)(L(ke),L(ae))},e.\u0275dir=be({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let t=e;return t})(),RT=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._ngZone=r,this.open=!1}ngAfterViewInit(){let i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){!this.open||!i?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(r){return new(r||e)(L(ke),L(ae))},e.\u0275cmp=xe({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,o){if(r&1&&dn(eL,5),r&2){let s;at(s=ct())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,o){r&2&&Fe("mdc-notched-outline--notched",o.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[lt],attrs:tL,ngContentSelectors:nL,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,o){r&1&&(Bt(),Le(0,"div",1),q(1,"div",2,0),Te(3),H(),Le(4,"div",3))},encapsulation:2,changeDetection:0});let t=e;return t})(),RL={transitionMessages:B_("transitionMessages",[$_("enter",km({opacity:1,transform:"translateY(0%)"})),q_("void => enter",[km({opacity:0,transform:"translateY(-5px)"}),z_("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Fv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=be({type:e});let t=e;return t})();var Lv=new Q("MatFormField"),DL=new Q("MAT_FORM_FIELD_DEFAULT_OPTIONS"),DT=0,PT="fill",PL="auto",MT="fixed",ML="translateY(-50%)",NT=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=io(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||PL}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){let r=this._appearance,o=i||this._defaults?.appearance||PT;this._appearance=o,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||MT}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||MT}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,r,o,s,c,d,m,b){this._elementRef=i,this._changeDetectorRef=r,this._dir=s,this._platform=c,this._defaults=d,this._animationMode=m,this._labelChild=f_(Vh),this._hideRequiredMarker=!1,this.color="primary",this._appearance=PT,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${DT++}`,this._hintLabelId=`mat-mdc-hint-${DT++}`,this._subscriptAnimationState="",this._destroyed=new qe,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=$(Ut),this.getLabelId=pi(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=pi(()=>!!this._labelChild()),d&&(d.appearance&&(this.appearance=d.appearance),this._hideRequiredMarker=!!d?.hideRequiredMarker,d.color&&(this.color=d.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(i){let r=this._control,o="mat-mdc-form-field-type-";i&&this._elementRef.nativeElement.classList.remove(o+i.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(o+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(In(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Qv(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),g_(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(In(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(i){let r=this._control?this._control.ngControl:null;return r&&r[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&i.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;r?i.push(r.id):this._hintLabel&&i.push(this._hintLabelId),o&&i.push(o.id)}else this._errorChildren&&i.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let i=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){i.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,d=this._dir.value==="rtl"?"-1":"1",m=`${s+c}px`,g=`calc(${d} * (${m} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;i.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${ML} translateX(${g})
    )`}_isAttachedToDom(){let i=this._elementRef.nativeElement;if(i.getRootNode){let r=i.getRootNode();return r&&r!==i}return document.documentElement.contains(i)}};e.\u0275fac=function(r){return new(r||e)(L(ke),L(fi),L(ae),L(ny),L(Xe),L(DL,8),L(cr,8),L(Ee))},e.\u0275cmp=xe({type:e,selectors:[["mat-form-field"]],contentQueries:function(r,o,s){if(r&1&&(__(s,o._labelChild,Vh,5),Gn(s,Fv,5),Gn(s,CL,5),Gn(s,SL,5),Gn(s,TL,5),Gn(s,AT,5)),r&2){y_();let c;at(c=ct())&&(o._formFieldControl=c.first),at(c=ct())&&(o._prefixChildren=c),at(c=ct())&&(o._suffixChildren=c),at(c=ct())&&(o._errorChildren=c),at(c=ct())&&(o._hintChildren=c)}},viewQuery:function(r,o){if(r&1&&(dn(iL,5),dn(rL,5),dn(oL,5),dn(CT,5),dn(RT,5),dn(kT,5)),r&2){let s;at(s=ct())&&(o._textField=s.first),at(s=ct())&&(o._iconPrefixContainer=s.first),at(s=ct())&&(o._textPrefixContainer=s.first),at(s=ct())&&(o._floatingLabel=s.first),at(s=ct())&&(o._notchedOutline=s.first),at(s=ct())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,o){r&2&&Fe("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[un([{provide:Lv,useExisting:e},{provide:OT,useExisting:e}]),lt],ngContentSelectors:aL,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,o){if(r&1){let s=ln();Bt(sL),Be(0,dL,1,1,"ng-template",null,0,Am),q(2,"div",4,1),Re("click",function(d){return en(s),tn(o._control.onContainerClick(d))}),Be(4,uL,1,0,"div",5),q(5,"div",6),Be(6,fL,2,2,"div",7)(7,pL,3,0,"div",8)(8,gL,3,0,"div",9),q(9,"div",10),Be(10,vL,1,1,null,11),Te(11),H(),Be(12,_L,2,0,"div",12)(13,yL,2,0,"div",13),H(),Be(14,wL,1,0,"div",14),H(),q(15,"div",15),Be(16,IL,2,1,"div",16)(17,xL,5,2,"div",17),H()}if(r&2){let s;ie(2),Fe("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),ie(2),it(!o._hasOutline()&&!o._control.disabled?4:-1),ie(2),it(o._hasOutline()?6:-1),ie(),it(o._hasIconPrefix?7:-1),ie(),it(o._hasTextPrefix?8:-1),ie(2),it(!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),ie(2),it(o._hasTextSuffix?12:-1),ie(),it(o._hasIconSuffix?13:-1),ie(),it(o._hasOutline()?-1:14),ie(),Fe("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),ie(),it((s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[CT,RT,Sm,kT,AT],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[RL.transitionMessages]},changeDetection:0});let t=e;return t})(),ul=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Ue,An,hd,Ue]});let t=e;return t})();var NL=new Q("MAT_INPUT_VALUE_ACCESSOR"),FL=["button","checkbox","file","hidden","image","radio","range","reset","submit"],LL=0,FT=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){this._disabled=io(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(wd.required)??!1}set required(i){this._required=io(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&Pm().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=io(i)}get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}constructor(i,r,o,s,c,d,m,b,g,E){this._elementRef=i,this._platform=r,this.ngControl=o,this._autofillMonitor=b,this._ngZone=g,this._formField=E,this._uid=`mat-input-${LL++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new qe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(F=>Pm().has(F)),this._iOSKeyupListener=F=>{let D=F.target;!D.value&&D.selectionStart===0&&D.selectionEnd===0&&(D.setSelectionRange(1,1),D.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let R=this._elementRef.nativeElement,O=R.nodeName.toLowerCase();this._inputValueAccessor=m||R,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&g.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new gd(d,o,c,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=O==="select",this._isTextarea=O==="textarea",this._isInFormField=!!E,this._isNativeSelect&&(this.controlType=R.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){let i=this._getPlaceholder();if(i!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){FL.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let i=this._elementRef.nativeElement,r=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};e.\u0275fac=function(r){return new(r||e)(L(ke),L(Xe),L(ao,10),L(ef,8),L(nf,8),L(uy),L(NL,10),L(ET),L(ae),L(Lv,8))},e.\u0275dir=be({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,o){r&1&&Re("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),r&2&&(La("id",o.id)("disabled",o.disabled)("required",o.required),At("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),Fe("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[un([{provide:Fv,useExisting:e}]),Hn]});let t=e;return t})(),LT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=me({type:e}),e.\u0275inj=he({imports:[Ue,ul,ul,xT,Ue]});let t=e;return t})();var UL=["appMensajes"],jL=(t,e)=>({"mensaje-derecha":t,"mensaje-izquierda":e}),BL=(t,e)=>({emailUsuario:t,"emailUsuario-alterno":e});function zL(t,e){if(t&1&&(q(0,"div",7)(1,"span",8),le(2),H(),q(3,"p"),le(4),q(5,"sub",9),le(6),T_(7,"date"),H()()()),t&2){let n=e.$implicit,i=Je();Ne("ngClass",Tm(8,jL,i.chatService.usuario.email===n.email,i.chatService.usuario.email!==n.email)),ie(),Ne("ngClass",Tm(11,BL,i.chatService.usuario.email===n.email,i.chatService.usuario.email!==n.email)),ie(),lr(" ",n.email," "),ie(2),lr(" ",n.mensaje," "),ie(2),lr(" ",A_(7,5,n.fecha,"short")," ")}}var Uh=class t{constructor(e){this.chatService=e}chat="";appMensajes;ngOnInit(){this.chatService.devolverChats().subscribe(()=>{this.scrollToBottom()})}ngAfterViewChecked(){this.scrollToBottom()}scrollToBottom(){this.appMensajes&&this.appMensajes.nativeElement&&(this.appMensajes.nativeElement.scrollTop=this.appMensajes.nativeElement.scrollHeight)}enviarChat(){this.chat.length!==0&&this.chatService.agregarChat(this.chat).then(()=>this.chat="").catch(e=>{VT.default.fire("Error",`No se pudo enviar su mensaje. Error: ${e.code}`,"error")})}static \u0275fac=function(n){return new(n||t)(L(Fh))};static \u0275cmp=xe({type:t,selectors:[["app-saladechat"]],viewQuery:function(n,i){if(n&1&&dn(UL,5),n&2){let r;at(r=ct())&&(i.appMensajes=r.first)}},decls:12,vars:2,consts:[["appMensajes",""],[1,"contenedorPrincipal"],[1,"contenedorMensaje"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"contenedorInput"],["appearance","fill",1,"full-width"],["matInput","",3,"ngModelChange","keyup.enter","ngModel"],[3,"ngClass"],[1,"emailUsuario",3,"ngClass"],[1,"fechaMensaje"]],template:function(n,i){if(n&1){let r=ln();Le(0,"app-header"),q(1,"h2"),le(2,"Chats de nuestros usuarios"),H(),q(3,"div",1)(4,"div",2,0),Be(6,zL,8,14,"div",3),H(),q(7,"div",4)(8,"mat-form-field",5)(9,"mat-label"),le(10,"Mensaje"),H(),q(11,"input",6),E_("ngModelChange",function(s){return en(r),I_(i.chat,s)||(i.chat=s),tn(s)}),Re("keyup.enter",function(){return en(r),tn(i.enviarChat())}),H()()()()}n&2&&(ie(6),Ne("ngForOf",i.chatService.chats),ie(5),w_("ngModel",i.chat))},dependencies:[us,ld,Rd,jy,tf,FT,NT,Vh,ci,L_],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#001f3f;color:#fff;padding:10px}h2[_ngcontent-%COMP%]{text-align:center;color:#fff}.contenedorPrincipal[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;background:#ffffff1a;border-radius:8px;box-shadow:0 2px 10px #00000080;padding:10px;height:calc(100vh - 180px);display:flex;flex-direction:column;justify-content:space-between}.contenedorMensaje[_ngcontent-%COMP%]{flex-grow:1;max-height:100%;overflow-y:auto;margin-bottom:10px;padding:10px;border:1px solid rgba(255,255,255,.3);border-radius:5px;background-color:#fff3}.contenedorMensaje[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px;padding:10px;border-radius:10px;max-width:70%;display:flex;flex-direction:column}.contenedorMensaje[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.mensaje-derecha[_ngcontent-%COMP%]{background-color:#007bff33;margin-left:auto;text-align:right}.mensaje-izquierda[_ngcontent-%COMP%]{background-color:#28a74533;margin-right:auto;text-align:left}.emailUsuario[_ngcontent-%COMP%], .emailUsuario-alterno[_ngcontent-%COMP%]{display:block;font-weight:700;margin-bottom:5px}.emailUsuario[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:5px 10px;border-radius:15px;font-size:.9em}.emailUsuario-alterno[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;padding:5px 10px;border-radius:15px;font-size:.9em}.contenedorInput[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:auto}input.form-control[_ngcontent-%COMP%]{width:100%;height:50px;padding:10px;font-size:1em;border:1px solid rgba(255,255,255,.5);border-radius:5px;background-color:#ffffff1a;color:#fff;box-sizing:border-box}input.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 5px #007bff80}.full-width[_ngcontent-%COMP%]{width:100%}.fechaMensaje[_ngcontent-%COMP%]{font-size:.8em;color:#ffffffb3;display:block;text-align:right;margin-top:5px;height:auto;position:relative;right:0}"]})};var $L=[{path:"ahorcado",component:Dh},{path:"mayoromenor",component:Mh},{path:"preguntados",component:Oh},{path:"wordle",component:Nh},{path:"saladechat",component:Uh},{path:"",redirectTo:"ahorcado",pathMatch:"full"}],jh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=me({type:t});static \u0275inj=he({imports:[Ic.forChild($L),Ic]})};var UT=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=me({type:t});static \u0275inj=he({imports:[An,Wy,_d,LT,ul,ci,yT,Ph,cu,jh]})};export{QV as a,ow as b,gU as c,nk as d,Sn as e,NU as f,FU as g,Ic as h,Rd as i,jy as j,tf as k,Wy as l,Ec as m,fs as n,_d as o,au as p,cu as q,Qj as r,Yj as s,$B as t,qB as u,F$ as v,L$ as w,u4 as x,h4 as y,Rh as z,ci as A,Vh as B,NT as C,ul as D,FT as E,LT as F,gT as G,bT as H,vT as I,B4 as J,Ph as K,_T as L,yT as M,UT as N};
